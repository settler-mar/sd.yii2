function login_redirect(t){href=location.href,href.indexOf("store")>0||href.indexOf("coupon")>0?location.reload():location.href=t}function ajaxForm(t){function e(t){var e=this;form=e.form,wrap=e.wrap,t.render?(t.notyfy_class="notify_white",notification.alert(t)):(wrap.removeClass("loading"),wrap.html(t.html),ajaxForm(wrap))}function o(){var t=this;form=t.form,wrap=t.wrap,wrap.removeClass("loading"),wrap.html("<h3>Упс... Возникла непредвиденная ошибка<h3><p>Часто это происходит в случае, если вы несколько раз подряд неверно ввели свои учетные данные. Но возможны и другие причины. В любом случае не расстраивайтесь и просто обратитесь к нашему оператору службы поддержки.</p><br><p>Спасибо.</p>"),ajaxForm(wrap)}function n(t){t.preventDefault();var n=this;if(form=n.form,wrap=n.wrap,form.yiiActiveForm&&form.yiiActiveForm("validate"),isValid=0==form.find(n.param.error_class).length,!isValid)return!1;for(required=form.find("input.required"),a=0;a<required.length;a++)if(required.eq(a).val().length<1)return!1;form.serializeObject||addSRO();var i=form.serializeObject();return form.addClass("loading"),form.html(""),wrap.html('<div style="text-align:center;"><p>Отправка данных</p></div>'),n.url+=(n.url.indexOf("?")>0?"&":"?")+"rc="+Math.random(),$.post(n.url,i,e.bind(n),"json").fail(o.bind(n)),!1}var i=(!!(window.File&&window.FileReader&&window.FileList&&window.Blob),{error_class:".has-error"});t.find("[required]").addClass("required").removeAttr("required");for(var a=0;a<t.length;a++)wrap=t.eq(a),form=wrap.find("form"),data={form:form,param:i,wrap:wrap},data.url=form.attr("action")||location.href,data.method=form.attr("method")||"post",form.off("submit"),form.on("submit",n.bind(data))}function addSRO(){$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}}objects=function(t,e){var o,n=e;for(o in t)t.hasOwnProperty(o)&&(n[o]=o in e?e[o]:t[o]);return n},function(t,e,o){function n(){var t='<div class="scroll_box-control"></div>';t=o(t),t.insertAfter(d),t.data("slide-active",0),d.prepend("<div class=scroll_box-mover></div>"),t.on("click",".scroll_box-control_point",function(){var t=o(this),e=t.parent(),n=t.index();if(!t.hasClass("active")){e.find(".active").removeClass("active"),t.addClass("active");var i=e.data("slide-dx"),a=e.prev();a.find(".scroll_box-mover").css("margin-left",-i*n),e.data("slide-active",n),s.bind(a)()}})}function a(){var t=o(this);if(t.hasClass("scroll_box-active")){var e=setTimeout(r.bind(t),2e3);t.data("slide-timeoutId",e)}}function s(){var t=o(this),e=t.data("slide-timeoutId");t.data("slide-timeoutId",!1),t.hasClass("scroll_box-active")&&e&&clearTimeout(e)}function r(){var t=o(this);if(t.data("slide-timeoutId",!1),t.hasClass("scroll_box-active")){var e=t.next().find(">*"),n=t.data("slide-active"),i=e.length;n||(n=0),n++,n>=i&&(n=0),t.data("slide-active",n),e.eq(n).click(),a.bind(t)()}}function l(){for(i=0;i<d.length;i++){var e=d.eq(i),o=e.next(),n=e.data("scroll-width-max");if(t=e.width(),n&&t>n)o.removeClass("scroll_box-active"),o.data("slide-active",0);else{var s=e.data("scroll-elemet-ignore-class"),r=e.find(">*").not(".scroll_box-mover");if(s&&(r=r.not("."+s)),0!=r){var l=r.eq(1),c=l.outerWidth();c+=parseFloat(l.css("margin-left")),c+=parseFloat(l.css("margin-right"));var u=Math.floor(t/c);if(r<=u)e.removeClass("scroll_box-active"),o.data("slide-active",0);else{e.addClass("scroll_box-active");var p=r.length-u+1;if(o.find(">*").length!=p){active=e.data("slide-active"),active||(active=0),active>=p&&(active=p-1);for(var f="",m=0;m<p;m++)f+='<div class="scroll_box-control_point'+(m==active?" active":"")+'"></div>';o.html(f),o.data("slide-active",active),o.data("slide-count",p),o.data("slide-dx",c),e.data("slide-timeoutId")||a.bind(e)()}else o.data("slide-dx",c)}}else e.removeClass("scroll_box-active"),o.data("slide-active",0)}}}var d=o(".scroll_box");if(0!=d.length){o(d).wrap('<div class="scroll_box-wrap"></div>'),n(),l();var c,u;o(window).resize(function(){clearTimeout(c),clearTimeout(u),c=setTimeout(l,300),u=setTimeout(l,800)});for(var p=0;p<d.length;p++){var f=d.eq(p);f.parent().hover(s.bind(f),a.bind(f))}}}(window,document,jQuery);var accordionControl=$(".accordion .accordion-control");accordionControl.on("click",function(t){return t.preventDefault(),$this=$(this),$accordion=$this.closest(".accordion"),$accordion.hasClass("open")?($accordion.find(".accordion-content").hide(300),$accordion.removeClass("open")):($accordion.hasClass("accordion-slim")&&($other=$accordion.parent().find(".accordion-slim"),$other.find(".accordion-content").hide(300).removeClass("accordion-content_last-open"),$other.removeClass("open"),$other.removeClass("last-open"),$accordion.find(".accordion-content").addClass("accordion-content_last-open"),$accordion.addClass("last-open")),$accordion.find(".accordion-content").show(300),$accordion.addClass("open")),!1}),accordionControl.show(),accordionSlim=$(".accordion.accordion-slim"),accordionSlim.length>0&&accordionSlim.parent().find(".accordion-slim:first-child").addClass("open").addClass("last-open").find(".accordion-content").show(300).addClass("accordion-content_last-open"),addSRO(),!function(t){var e=!0;t.flexslider=function(o,n){var i=t(o);i.vars=t.extend({},t.flexslider.defaults,n);var a,s=i.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,d="click touchend MSPointerUp keyup",c="",u="vertical"===i.vars.direction,p=i.vars.reverse,f=i.vars.itemWidth>0,m="fade"===i.vars.animation,h=""!==i.vars.asNavFor,v={};t.data(o,"flexslider",i),v={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=t(i.vars.selector,i),i.container=t(i.containerSelector,i),i.count=i.slides.length,i.syncExists=t(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!m&&i.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var o in e)if(void 0!==t.style[e[o]])return i.pfx=e[o].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=t(i.vars.controlsContainer).length>0&&t(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=t(i.vars.manualControls).length>0&&t(i.vars.manualControls)),""!==i.vars.customDirectionNav&&(i.customDirectionNav=2===t(i.vars.customDirectionNav).length&&t(i.vars.customDirectionNav)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&v.controlNav.setup(),i.vars.directionNav&&v.directionNav.setup(),i.vars.keyboard&&(1===t(i.containerSelector).length||i.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!i.animating&&(39===e||37===e)){var o=39===e?i.getTarget("next"):37===e&&i.getTarget("prev");i.flexAnimate(o,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(t,e,o,n){t.preventDefault();var a=e<0?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(a,i.vars.pauseOnAction)}),i.vars.pausePlay&&v.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&v.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&v.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),h&&v.asNav.setup(),l&&i.vars.touch&&v.touch(),(!m||m&&i.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",v.resize()),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(s+"active-slide").eq(i.currentItem).addClass(s+"active-slide"),r?(o._slider=i,i.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var o=t(this),n=o.index();t(i.vars.asNavFor).data("flexslider").animating||o.hasClass("active")||(i.direction=i.currentItem<n?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(d,function(e){e.preventDefault();var o=t(this),n=o.index();o.offset().left-t(i).scrollLeft()<=0&&o.hasClass(s+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):t(i.vars.asNavFor).data("flexslider").animating||o.hasClass(s+"active-slide")||(i.direction=i.currentItem<n?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?v.controlNav.setupManual():v.controlNav.setupPaging()},setupPaging:function(){var e,o,n="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",a=1;if(i.controlNavScaffold=t('<ol class="'+s+"control-nav "+s+n+'"></ol>'),i.pagingCount>1)for(var r=0;r<i.pagingCount;r++){o=i.slides.eq(r),void 0===o.attr("data-thumb-alt")&&o.attr("data-thumb-alt","");var l=""!==o.attr("data-thumb-alt")?l=' alt="'+o.attr("data-thumb-alt")+'"':"";if(e="thumbnails"===i.vars.controlNav?'<img src="'+o.attr("data-thumb")+'"'+l+"/>":'<a href="#">'+a+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=o.attr("data-thumbcaption");""!==u&&void 0!==u&&(e+='<span class="'+s+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+e+"</li>"),a++}i.controlsContainer?t(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),v.controlNav.set(),v.controlNav.active(),i.controlNavScaffold.delegate("a, img",d,function(e){if(e.preventDefault(),""===c||c===e.type){var o=t(this),n=i.controlNav.index(o);o.hasClass(s+"active")||(i.direction=n>i.currentSlide?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction))}""===c&&(c=e.type),v.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,v.controlNav.active(),i.controlNav.bind(d,function(e){if(e.preventDefault(),""===c||c===e.type){var o=t(this),n=i.controlNav.index(o);o.hasClass(s+"active")||(n>i.currentSlide?i.direction="next":i.direction="prev",i.flexAnimate(n,i.vars.pauseOnAction))}""===c&&(c=e.type),v.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=t("."+s+"control-nav li "+e,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(s+"active").eq(i.animatingTo).addClass(s+"active")},update:function(e,o){i.pagingCount>1&&"add"===e?i.controlNavScaffold.append(t('<li><a href="#">'+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(o).closest("li").remove(),v.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(o,e):v.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+s+'direction-nav"><li class="'+s+'nav-prev"><a class="'+s+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+s+'nav-next"><a class="'+s+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.customDirectionNav?i.directionNav=i.customDirectionNav:i.controlsContainer?(t(i.controlsContainer).append(e),i.directionNav=t("."+s+"direction-nav li a",i.controlsContainer)):(i.append(e),i.directionNav=t("."+s+"direction-nav li a",i)),v.directionNav.update(),i.directionNav.bind(d,function(e){e.preventDefault();var o;""!==c&&c!==e.type||(o=t(this).hasClass(s+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(o,i.vars.pauseOnAction)),""===c&&(c=e.type),v.setToClearWatchedEvent()})},update:function(){var t=s+"disabled";1===i.pagingCount?i.directionNav.addClass(t).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(t).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(t).filter("."+s+"prev").addClass(t).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(t).filter("."+s+"next").addClass(t).attr("tabindex","-1"):i.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+s+'pauseplay"><a href="#"></a></div>');i.controlsContainer?(i.controlsContainer.append(e),i.pausePlay=t("."+s+"pauseplay a",i.controlsContainer)):(i.append(e),i.pausePlay=t("."+s+"pauseplay a",i)),v.pausePlay.update(i.vars.slideshow?s+"pause":s+"play"),i.pausePlay.bind(d,function(e){e.preventDefault(),""!==c&&c!==e.type||(t(this).hasClass(s+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=e.type),v.setToClearWatchedEvent()})},update:function(t){"play"===t?i.pausePlay.removeClass(s+"pause").addClass(s+"play").html(i.vars.playText):i.pausePlay.removeClass(s+"play").addClass(s+"pause").html(i.vars.pauseText)}},touch:function(){function t(t){t.stopPropagation(),i.animating?t.preventDefault():(i.pause(),o._gesture.addPointer(t.pointerId),y=0,d=u?i.h:i.w,h=Number(new Date),l=f&&p&&i.animatingTo===i.last?0:f&&p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:f&&i.currentSlide===i.last?i.limit:f?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:p?(i.last-i.currentSlide+i.cloneOffset)*d:(i.currentSlide+i.cloneOffset)*d)}function e(t){t.stopPropagation();var e=t.target._slider;if(e){var n=-t.translationX,i=-t.translationY;if(y+=u?i:n,c=y,_=u?Math.abs(y)<Math.abs(-n):Math.abs(y)<Math.abs(-i),t.detail===t.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){o._gesture.stop()});(!_||Number(new Date)-h>500)&&(t.preventDefault(),!m&&e.transitions&&(e.vars.animationLoop||(c=y/(0===e.currentSlide&&y<0||e.currentSlide===e.last&&y>0?Math.abs(y)/d+2:1)),e.setProps(l+c,"setTouch")))}}function n(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!_&&null!==c){var o=p?-c:c,n=o>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(n)&&(Number(new Date)-h<550&&Math.abs(o)>50||Math.abs(o)>d/2)?e.flexAnimate(n,e.vars.pauseOnAction):m||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}a=null,s=null,c=null,l=null,y=0}}var a,s,l,d,c,h,v,g,b,_=!1,w=0,C=0,y=0;r?(o.style.msTouchAction="none",o._gesture=new MSGesture,o._gesture.target=o,o.addEventListener("MSPointerDown",t,!1),o._slider=i,o.addEventListener("MSGestureChange",e,!1),o.addEventListener("MSGestureEnd",n,!1)):(v=function(t){i.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(i.pause(),d=u?i.h:i.w,h=Number(new Date),w=t.touches[0].pageX,C=t.touches[0].pageY,l=f&&p&&i.animatingTo===i.last?0:f&&p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:f&&i.currentSlide===i.last?i.limit:f?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:p?(i.last-i.currentSlide+i.cloneOffset)*d:(i.currentSlide+i.cloneOffset)*d,a=u?C:w,s=u?w:C,o.addEventListener("touchmove",g,!1),o.addEventListener("touchend",b,!1))},g=function(t){w=t.touches[0].pageX,C=t.touches[0].pageY,c=u?a-C:a-w,_=u?Math.abs(c)<Math.abs(w-s):Math.abs(c)<Math.abs(C-s);(!_||Number(new Date)-h>500)&&(t.preventDefault(),!m&&i.transitions&&(i.vars.animationLoop||(c/=0===i.currentSlide&&c<0||i.currentSlide===i.last&&c>0?Math.abs(c)/d+2:1),i.setProps(l+c,"setTouch")))},b=function(t){if(o.removeEventListener("touchmove",g,!1),i.animatingTo===i.currentSlide&&!_&&null!==c){var e=p?-c:c,n=e>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(n)&&(Number(new Date)-h<550&&Math.abs(e)>50||Math.abs(e)>d/2)?i.flexAnimate(n,i.vars.pauseOnAction):m||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}o.removeEventListener("touchend",b,!1),a=null,s=null,c=null,l=null},o.addEventListener("touchstart",v,!1))},resize:function(){!i.animating&&i.is(":visible")&&(f||i.doMath(),m?v.smoothHeight():f?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&v.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(t){if(!u||m){var e=m?i:i.viewport;t?e.animate({height:i.slides.eq(i.animatingTo).innerHeight()},t):e.innerHeight(i.slides.eq(i.animatingTo).innerHeight())}},sync:function(e){var o=t(i.vars.sync).data("flexslider"),n=i.animatingTo;switch(e){case"animate":o.flexAnimate(n,i.vars.pauseOnAction,!1,!0);break;case"play":o.playing||o.asNav||o.play();break;case"pause":o.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var t=v.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){v.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var t=v.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(e,o,n,a,r){if(i.vars.animationLoop||e===i.currentSlide||(i.direction=e>i.currentSlide?"next":"prev"),h&&1===i.pagingCount&&(i.direction=i.currentItem<e?"next":"prev"),!i.animating&&(i.canAdvance(e,r)||n)&&i.is(":visible")){if(h&&a){var d=t(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===e||e===i.count-1,d.flexAnimate(e,!0,!1,!0,r),i.direction=i.currentItem<e?"next":"prev",d.direction=i.direction,Math.ceil((e+1)/i.visible)-1===i.currentSlide||0===e)return i.currentItem=e,i.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),!1;i.currentItem=e,i.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),e=Math.floor(e/i.visible)}if(i.animating=!0,i.animatingTo=e,o&&i.pause(),i.vars.before(i),i.syncExists&&!r&&v.sync("animate"),i.vars.controlNav&&v.controlNav.active(),f||i.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),i.atEnd=0===e||e===i.last,i.vars.directionNav&&v.directionNav.update(),e===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),m)l?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(e).css({opacity:1,zIndex:2}),i.wrapup(_)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(e).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var c,g,b,_=u?i.slides.filter(":first").height():i.computedW;f?(c=i.vars.itemMargin,b=(i.itemW+c)*i.move*i.animatingTo,g=b>i.limit&&1!==i.visible?i.limit:b):g=0===i.currentSlide&&e===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?p?(i.count+i.cloneOffset)*_:0:i.currentSlide===i.last&&0===e&&i.vars.animationLoop&&"prev"!==i.direction?p?0:(i.count+1)*_:p?(i.count-1-e+i.cloneOffset)*_:(e+i.cloneOffset)*_,i.setProps(g,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(_)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(_)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(_)})}i.vars.smoothHeight&&v.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(t){m||f||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(t,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(t,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&e&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&v.pausePlay.update("play"),i.syncExists&&v.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&v.pausePlay.update("pause"),i.syncExists&&v.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(t,e){var o=h?i.pagingCount-1:i.last;return!(!e&&(!h||i.currentItem!==i.count-1||0!==t||"prev"!==i.direction)&&(h&&0===i.currentItem&&t===i.pagingCount-1&&"next"!==i.direction||t===i.currentSlide&&!h||!i.vars.animationLoop&&(i.atEnd&&0===i.currentSlide&&t===o&&"next"!==i.direction||i.atEnd&&i.currentSlide===o&&0===t&&"next"===i.direction)))},i.getTarget=function(t){return i.direction=t,"next"===t?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(t,e,o){var n=function(){var o=t||(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo;return-1*function(){if(f)return"setTouch"===e?t:p&&i.animatingTo===i.last?0:p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:o;switch(e){case"setTotal":return p?(i.count-1-i.currentSlide+i.cloneOffset)*t:(i.currentSlide+i.cloneOffset)*t;case"setTouch":return t;case"jumpEnd":return p?t:i.count*t;case"jumpStart":return p?i.count*t:t;default:return t}}()+"px"}();i.transitions&&(n=u?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",o=void 0!==o?o/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",o),i.container.css("transition-duration",o)),i.args[i.prop]=n,(i.transitions||void 0===o)&&i.container.css(i.args),i.container.css("transform",n)},i.setup=function(e){if(m)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(l?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&v.smoothHeight();else{var o,n;"init"===e&&(i.viewport=t('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,p&&(n=t.makeArray(i.slides).reverse(),i.slides=t(n),i.container.empty().append(i.slides))),i.vars.animationLoop&&!f&&(i.cloneCount=2,i.cloneOffset=1,"init"!==e&&i.container.find(".clone").remove(),i.container.append(v.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(v.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=t(i.vars.selector,i),o=p?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!f?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(o*i.h,"init")},"init"===e?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(o*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,marginRight:i.computedM,"float":"left",display:"block"}),i.vars.smoothHeight&&v.smoothHeight()},"init"===e?100:0))}f||i.slides.removeClass(s+"active-slide").eq(i.currentSlide).addClass(s+"active-slide"),i.vars.init(i)},i.doMath=function(){var t=i.slides.first(),e=i.vars.itemMargin,o=i.vars.minItems,n=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=t.height(),i.boxPadding=t.outerWidth()-t.width(),f?(i.itemT=i.vars.itemWidth+e,i.itemM=e,i.minW=o?o*i.itemT:i.w,i.maxW=n?n*i.itemT-e:i.w,i.itemW=i.minW>i.w?(i.w-e*(o-1))/o:i.maxW<i.w?(i.w-e*(n-1))/n:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+e*(i.count-1):(i.itemW+e)*i.count-i.w-e):(i.itemW=i.w,i.itemM=e,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding,i.computedM=i.itemM},i.update=function(t,e){i.doMath(),f||(t<i.currentSlide?i.currentSlide+=1:t<=i.currentSlide&&0!==t&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===e&&!f||i.pagingCount>i.controlNav.length?v.controlNav.update("add"):("remove"===e&&!f||i.pagingCount<i.controlNav.length)&&(f&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),v.controlNav.update("remove",i.last))),i.vars.directionNav&&v.directionNav.update()},i.addSlide=function(e,o){var n=t(e);i.count+=1,i.last=i.count-1,u&&p?void 0!==o?i.slides.eq(i.count-o).after(n):i.container.prepend(n):void 0!==o?i.slides.eq(o).before(n):i.container.append(n),i.update(o,"add"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(e){var o=isNaN(e)?i.slides.index(t(e)):e;i.count-=1,i.last=i.count-1,isNaN(e)?t(e,i.slides).remove():u&&p?i.slides.eq(i.last).remove():i.slides.eq(e).remove(),i.doMath(),i.update(o,"remove"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},v.init()},t(window).blur(function(t){e=!1}).focus(function(t){e=!0}),t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var o=t(this),n=e.selector?e.selector:".slides > li",i=o.find(n);1===i.length&&!1===e.allowOneSlide||0===i.length?(i.fadeIn(400),e.start&&e.start(o)):void 0===o.data("flexslider")&&new t.flexslider(this,e)});var o=t(this).data("flexslider");switch(e){case"play":o.play();break;case"pause":o.pause();break;case"stop":o.stop();break;case"next":o.flexAnimate(o.getTarget("next"),!0);break;case"prev":case"previous":o.flexAnimate(o.getTarget("prev"),!0);break;default:"number"==typeof e&&o.flexAnimate(e,!0)}}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e,o){this.element=e,this.$element=t(this.element),this.doc=t(document),this.win=t(window),this.settings=t.extend({},s,o),"object"==typeof this.$element.data("tipso")&&t.extend(this.settings,this.$element.data("tipso"));for(var n=Object.keys(this.$element.data()),i={},l=0;l<n.length;l++){var d=n[l].replace(a,"");if(""!==d){d=d.charAt(0).toLowerCase()+d.slice(1),i[d]=this.$element.data(n[l]);for(var c in this.settings)c.toLowerCase()==d&&(this.settings[c]=i[d])}}this._defaults=s,this._name=a,this._title=this.$element.attr("title"),this.mode="hide",this.ieFade=!r,this.settings.preferedPosition=this.settings.position,this.init()}function o(e){var o=e.clone();o.css("visibility","hidden"),t("body").append(o);var n=o.outerHeight(),i=o.outerWidth();return o.remove(),{width:i,height:n}}function n(t){t.removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner"),t.find(".tipso_title").removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner")}function i(e){var a,s,r,l=e.tooltip(),d=e.$element,c=e,u=t(window),p=10,f=c.settings.background,m=c.titleContent();switch(void 0!==m&&""!==m&&(f=c.settings.titleBackground),d.parent().outerWidth()>u.outerWidth()&&(u=d.parent()),c.settings.position){case"top-right":s=d.offset().left+d.outerWidth(),a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("bottom_right_corner"),l.find(".tipso_title").addClass("bottom_right_corner"),l.find(".tipso_arrow").css({"border-left-color":f}),l.removeClass("top-right top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("top_right_corner"),l.find(".tipso_arrow").css({"border-left-color":c.settings.background}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"top-left":s=d.offset().left-o(l).width,a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("bottom_left_corner"),l.find(".tipso_title").addClass("bottom_left_corner"),l.find(".tipso_arrow").css({"border-right-color":f}),l.removeClass("top-right top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-right-color":c.settings.background}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"bottom-right":s=d.offset().left+d.outerWidth(),a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a+o(l).height>u.scrollTop()+u.outerHeight()?(a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":c.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("top_right_corner"),l.find(".tipso_title").addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-left-color":c.settings.background}),l.removeClass("top-right top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":f,"border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("bottom_right_corner"),l.find(".tipso_title").addClass("bottom_right_corner"),l.find(".tipso_arrow").css({"border-left-color":f}),l.removeClass("top bottom left right"),l.addClass("bottom"));break;case"bottom-left":s=d.offset().left-o(l).width,a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a+o(l).height>u.scrollTop()+u.outerHeight()?(a=d.offset().top-o(l).height-p,
l.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":c.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("top_left_corner"),l.find(".tipso_title").addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-right-color":c.settings.background}),l.removeClass("top-right top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":f,"border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.addClass("bottom_left_corner"),l.find(".tipso_title").addClass("bottom_left_corner"),l.find(".tipso_arrow").css({"border-right-color":f}),l.removeClass("top bottom left right"),l.addClass("bottom"));break;case"top":s=d.offset().left+d.outerWidth()/2-o(l).width/2,a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"bottom":s=d.offset().left+d.outerWidth()/2-o(l).width/2,a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a+o(l).height>u.scrollTop()+u.outerHeight()?(a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position));break;case"left":s=d.offset().left-o(l).width-p,a=d.offset().top+d.outerHeight()/2-o(l).height/2,l.find(".tipso_arrow").css({marginTop:-c.settings.arrowWidth,marginLeft:""}),s<u.scrollLeft()?(s=d.offset().left+d.outerWidth()+p,l.find(".tipso_arrow").css({"border-right-color":c.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("right")):(l.find(".tipso_arrow").css({"border-left-color":c.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position));break;case"right":s=d.offset().left+d.outerWidth()+p,a=d.offset().top+d.outerHeight()/2-o(l).height/2,l.find(".tipso_arrow").css({marginTop:-c.settings.arrowWidth,marginLeft:""}),s+p+c.settings.width>u.scrollLeft()+u.outerWidth()?(s=d.offset().left-o(l).width-p,l.find(".tipso_arrow").css({"border-left-color":c.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("left")):(l.find(".tipso_arrow").css({"border-right-color":c.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position))}if("top-right"===c.settings.position&&l.find(".tipso_arrow").css({"margin-left":-c.settings.width/2}),"top-left"===c.settings.position){var h=l.find(".tipso_arrow").eq(0);h.css({"margin-left":c.settings.width/2-2*c.settings.arrowWidth})}if("bottom-right"===c.settings.position){var h=l.find(".tipso_arrow").eq(0);h.css({"margin-left":-c.settings.width/2,"margin-top":""})}if("bottom-left"===c.settings.position){var h=l.find(".tipso_arrow").eq(0);h.css({"margin-left":c.settings.width/2-2*c.settings.arrowWidth,"margin-top":""})}s<u.scrollLeft()&&("bottom"===c.settings.position||"top"===c.settings.position)&&(l.find(".tipso_arrow").css({marginLeft:s-c.settings.arrowWidth}),s=0),s+c.settings.width>u.outerWidth()&&("bottom"===c.settings.position||"top"===c.settings.position)&&(r=u.outerWidth()-(s+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-r-c.settings.arrowWidth,marginTop:""}),s+=r),s<u.scrollLeft()&&("left"===c.settings.position||"right"===c.settings.position||"top-right"===c.settings.position||"top-left"===c.settings.position||"bottom-right"===c.settings.position||"bottom-left"===c.settings.position)&&(s=d.offset().left+d.outerWidth()/2-o(l).width/2,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a=d.offset().top-o(l).height-p,a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),n(l),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),n(l),l.addClass("top")),s+c.settings.width>u.outerWidth()&&(r=u.outerWidth()-(s+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-r-c.settings.arrowWidth,marginTop:""}),s+=r),s<u.scrollLeft()&&(l.find(".tipso_arrow").css({marginLeft:s-c.settings.arrowWidth}),s=0)),s+c.settings.width>u.outerWidth()&&("left"===c.settings.position||"right"===c.settings.position||"top-right"===c.settings.position||"top-left"===c.settings.position||"bottom-right"===c.settings.position||"bottom-right"===c.settings.position)&&(s=d.offset().left+d.outerWidth()/2-o(l).width/2,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a=d.offset().top-o(l).height-p,a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.removeClass("top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),n(l),l.removeClass("top bottom left right"),l.addClass("top")),s+c.settings.width>u.outerWidth()&&(r=u.outerWidth()-(s+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-r-c.settings.arrowWidth,marginTop:""}),s+=r),s<u.scrollLeft()&&(l.find(".tipso_arrow").css({marginLeft:s-c.settings.arrowWidth}),s=0)),l.css({left:s+c.settings.offsetX,top:a+c.settings.offsetY}),a<u.scrollTop()&&("right"===c.settings.position||"left"===c.settings.position)&&(d.tipso("update","position","bottom"),i(c)),a+o(l).height>u.scrollTop()+u.outerHeight()&&("right"===c.settings.position||"left"===c.settings.position)&&(d.tipso("update","position","top"),i(c))}var a="tipso",s={speed:400,background:"#55b555",titleBackground:"#333333",color:"#ffffff",titleColor:"#ffffff",titleContent:"",showArrow:!0,position:"top",width:200,maxWidth:"",delay:200,hideDelay:0,animationIn:"",animationOut:"",offsetX:0,offsetY:0,arrowWidth:8,tooltipHover:!1,content:null,ajaxContentUrl:null,ajaxContentBuffer:0,contentElementId:null,useTitle:!1,templateEngineFunc:null,onBeforeShow:null,onShow:null,onHide:null};t.extend(e.prototype,{init:function(){var t=this,e=this.$element;if(this.doc,e.addClass("tipso_style").removeAttr("title"),t.settings.tooltipHover){var o=null,n=null;e.on("mouseover."+a,function(){clearTimeout(o),clearTimeout(n),n=setTimeout(function(){t.show()},150)}),e.on("mouseout."+a,function(){clearTimeout(o),clearTimeout(n),o=setTimeout(function(){t.hide()},200),t.tooltip().on("mouseover."+a,function(){t.mode="tooltipHover"}).on("mouseout."+a,function(){t.mode="show",clearTimeout(o),o=setTimeout(function(){t.hide()},200)})})}else e.on("mouseover."+a,function(){t.show()}),e.on("mouseout."+a,function(){t.hide()});t.settings.ajaxContentUrl&&(t.ajaxContent=null)},tooltip:function(){return this.tipso_bubble||(this.tipso_bubble=t('<div class="tipso_bubble"><div class="tipso_title"></div><div class="tipso_content"></div><div class="tipso_arrow"></div></div>')),this.tipso_bubble},show:function(){var e=this.tooltip(),o=this,n=this.win;o.settings.showArrow===!1?e.find(".tipso_arrow").hide():e.find(".tipso_arrow").show(),"hide"===o.mode&&(t.isFunction(o.settings.onBeforeShow)&&o.settings.onBeforeShow(o.$element,o.element,o),o.settings.size&&e.addClass(o.settings.size),o.settings.width?e.css({background:o.settings.background,color:o.settings.color,width:o.settings.width}).hide():o.settings.maxWidth?e.css({background:o.settings.background,color:o.settings.color,maxWidth:o.settings.maxWidth}).hide():e.css({background:o.settings.background,color:o.settings.color,width:200}).hide(),e.find(".tipso_title").css({background:o.settings.titleBackground,color:o.settings.titleColor}),e.find(".tipso_content").html(o.content()),e.find(".tipso_title").html(o.titleContent()),i(o),n.on("resize."+a,function(){o.settings.position=o.settings.preferedPosition,i(o)}),window.clearTimeout(o.timeout),o.timeout=null,o.timeout=window.setTimeout(function(){o.ieFade||""===o.settings.animationIn||""===o.settings.animationOut?e.appendTo("body").stop(!0,!0).fadeIn(o.settings.speed,function(){o.mode="show",t.isFunction(o.settings.onShow)&&o.settings.onShow(o.$element,o.element,o)}):e.remove().appendTo("body").stop(!0,!0).removeClass("animated "+o.settings.animationOut).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+o.settings.animationIn).fadeIn(o.settings.speed,function(){t(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+o.settings.animationIn)}),o.mode="show",t.isFunction(o.settings.onShow)&&o.settings.onShow(o.$element,o.element,o),n.off("resize."+a,null,"tipsoResizeHandler")})},o.settings.delay))},hide:function(e){var o=this,n=this.win,i=this.tooltip(),s=o.settings.hideDelay;e&&(s=0,o.mode="show"),window.clearTimeout(o.timeout),o.timeout=null,o.timeout=window.setTimeout(function(){"tooltipHover"!==o.mode&&(o.ieFade||""===o.settings.animationIn||""===o.settings.animationOut?i.stop(!0,!0).fadeOut(o.settings.speed,function(){t(this).remove(),t.isFunction(o.settings.onHide)&&"show"===o.mode&&o.settings.onHide(o.$element,o.element,o),o.mode="hide",n.off("resize."+a,null,"tipsoResizeHandler")}):i.stop(!0,!0).removeClass("animated "+o.settings.animationIn).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+o.settings.animationOut).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+o.settings.animationOut).remove(),t.isFunction(o.settings.onHide)&&"show"===o.mode&&o.settings.onHide(o.$element,o.element,o),o.mode="hide",n.off("resize."+a,null,"tipsoResizeHandler")}))},s)},close:function(){this.hide(!0)},destroy:function(){var t=this.$element,e=this.win;this.doc,t.off("."+a),e.off("resize."+a,null,"tipsoResizeHandler"),t.removeData(a),t.removeClass("tipso_style").attr("title",this._title)},titleContent:function(){var t,e=this.$element,o=this;return t=o.settings.titleContent?o.settings.titleContent:e.data("tipso-title")},content:function(){var e,o=this.$element,n=this,i=this._title;return n.settings.ajaxContentUrl?n._ajaxContent?e=n._ajaxContent:(n._ajaxContent=e=t.ajax({type:"GET",url:n.settings.ajaxContentUrl,async:!1}).responseText,n.settings.ajaxContentBuffer>0?setTimeout(function(){n._ajaxContent=null},n.settings.ajaxContentBuffer):n._ajaxContent=null):n.settings.contentElementId?e=t("#"+n.settings.contentElementId).text():n.settings.content?e=n.settings.content:n.settings.useTitle===!0?e=i:"string"==typeof o.data("tipso")&&(e=o.data("tipso")),null!==n.settings.templateEngineFunc&&(e=n.settings.templateEngineFunc(e)),e},update:function(t,e){var o=this;return e?void(o.settings[t]=e):o.settings[t]}});var r=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(""===t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}();t[a]=t.fn[a]=function(o){var n=arguments;if(void 0===o||"object"==typeof o)return this instanceof t||t.extend(s,o),this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new e(this,o))});if("string"==typeof o&&"_"!==o[0]&&"init"!==o){var i;return this.each(function(){var s=t.data(this,"plugin_"+a);s||(s=t.data(this,"plugin_"+a,new e(this,o))),s instanceof e&&"function"==typeof s[o]&&(i=s[o].apply(s,Array.prototype.slice.call(n,1))),"destroy"===o&&t.data(this,"plugin_"+a,null)}),void 0!==i?i:this}}});var notification=function(){function t(){p=!0,u=$(".notification_box"),u.length>0||($("body").append("<div class='notification_box'></div>"),u=$(".notification_box"),u.on("click",".notify_control",e),u.on("click",".notify_close",e),u.on("click",o))}function e(){$("html").removeClass("show_notifi"),$(".notification_box .notify_content").html("")}function o(t){var o=t.target||t.srcElement;"notification_box"==o.className&&e()}function n(e){e||(e={}),e=objects(m,e),p||t(),notyfy_class="notify_box ",e.notyfy_class&&(notyfy_class+=e.notyfy_class),box_html='<div class="'+notyfy_class+'">',box_html+='<div class="notify_title">',box_html+=e.title,box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=e.question,box_html+="</div>",(e.buttonYes||e.buttonNo)&&(box_html+='<div class="notify_control">',e.buttonYes&&(box_html+="<"+e.buttonTag+' class="notify_btn_yes" '+e.buttonYesDop+">"+e.buttonYes+"</"+e.buttonTag+">"),e.buttonNo&&(box_html+="<"+e.buttonTag+' class="notify_btn_no" '+e.buttonNoDop+">"+e.buttonNo+"</"+e.buttonTag+">"),box_html+="</div>"),box_html+="</div>",u.html(box_html),setTimeout(function(){$("html").addClass("show_notifi")},100)}function i(e){e||(e={}),e=objects(f,e),p||t(),box_html='<div class="notify_box">',box_html+='<div class="notify_title">',box_html+=e.title,box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=e.question,box_html+="</div>",(e.buttonYes||e.buttonNo)&&(box_html+='<div class="notify_control">',e.buttonYes&&(box_html+='<div class="notify_btn_yes">'+e.buttonYes+"</div>"),e.buttonNo&&(box_html+='<div class="notify_btn_no">'+e.buttonNo+"</div>"),box_html+="</div>"),box_html+="</div>",u.html(box_html),0!=e.callbackYes&&u.find(".notify_btn_yes").on("click",e.callbackYes.bind(e.obj)),0!=e.callbackNo&&u.find(".notify_btn_no").on("click",e.callbackNo.bind(e.obj)),setTimeout(function(){$("html").addClass("show_notifi")},100)}function a(t){t||(t={});var e={time:t.time||0===t.time?t.time:c};s||(s=$("<ul/>",{"class":"notification_container"}),$("body").append(s),h());var o=$("<li/>",{"class":"notification_item"});t.type&&o.addClass("notification_item-"+t.type);var n=$("<span/>",{"class":"notification_close"});e.close=n,o.append(n);var i=$("<div/>",{"class":"notification_content"});if(t.title&&t.title.length>0){var a=$("<h5/>",{"class":"notification_title"});a.html(t.title),i.append(a)}var r=$("<div/>",{"class":"notification_text"});if(r.html(t.message),t.img&&t.img.length>0){var l=$("<div/>",{"class":"notification_img"});l.css("background-image","url("+t.img+")");var d=$("<div/>",{"class":"wrap"});d.append(l),d.append(r),i.append(d)}else i.append(r);o.append(i),s.append(o),e.time>0&&(e.timer=setTimeout(b.bind(n),e.time)),o.data("option",e)}var s,r=0,l=null,d="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c=1e4,u=!1,p=!1,f={title:"Удаление",question:"Вы действительно хотите удалить?",buttonYes:"Да",buttonNo:"Нет",callbackYes:!1,callbackNo:!1,obj:!1,buttonTag:"div",buttonYesDop:"",buttonNoDop:""},m={title:"",question:"Сообщение",buttonYes:"Да",callbackYes:!1,buttonTag:"div",obj:!1},h=function(){$("body").on("click",".notification_close",b),$("body").on("mouseenter",".notification_container",v),$("body").on("mouseleave",".notification_container",g)},v=function(t){t&&t.preventDefault(),null!=l&&(clearTimeout(l),l=null),s.find(".notification_item").each(function(t){var e=$(this).data("option");e.timer&&clearTimeout(e.timer)}),r=1},g=function(){s.find(".notification_item").each(function(t){$this=$(this);var e=$this.data("option");e.time>0&&(e.timer=setTimeout(b.bind(e.close),e.time-1500+100*t),$this.data("option",e))}),r=0},b=function(t){t&&t.preventDefault();var e=$(this).parent();e.on(d,function(){$(this).remove()}),e.addClass("notification_hide")};return{alert:n,confirm:i,notifi:a}}();$("[ref=popup]").on("click",function(t){t.preventDefault(),$this=$(this),el=$($this.attr("href")),data=el.data(),data.question=el.html(),notification.alert(data)}),function(){$("body").on("click",".modals_open",function(t){t.preventDefault(),$(".header").removeClass("header_open-menu");var e=$("a[href='#showpromocode-noregister']").data("popup");return e?e.close():(e=$("div.popup_cont, div.popup_back"),e&&e.hide()),href=this.href.split("#"),href=href[href.length-1],data={buttonYes:!1,notyfy_class:"loading "+(0===href.indexOf("video")?"modals-full_screen":"notify_white"),question:""},notification.alert(data),$.get("/"+href,function(t){$(".notify_box").removeClass("loading"),$(".notify_box .notify_content").html(t.html),ajaxForm($(".notify_box .notify_content"))},"json"),!1})}(),$(".footer-menu-title").on("click",function(t){$this=$(this),$this.hasClass("footer-menu-title_open")?$this.removeClass("footer-menu-title_open"):($(".footer-menu-title_open").removeClass("footer-menu-title_open"),$this.addClass("footer-menu-title_open"))}),$(function(){function t(t){var e=$(".rating-wrapper .rating-star");e.addClass("rating-star-open");for(var o=0;o<t;o++)e.eq(o).removeClass("rating-star-open")}$(document).on("mouseover",".rating-wrapper .rating-star",function(e){t($(this).index()+1)}).on("mouseleave",".rating-wrapper",function(e){t($('.notify_content input[name="Reviews[rating]"]').val())}).on("click",".rating-wrapper .rating-star",function(e){t($(this).index()+1),$('.notify_content input[name="Reviews[rating]"]').val($(this).index()+1)})}),function(){var t=$(".header-logo_noty");1!=t.length&&$.get("/account/notification",function(e){if(e.notifications&&0!=e.notifications.length){var o='<div class=header-noty-box><ul class="header-noty-list">';t.find("a").removeAttr("href");for(var n=!1,i=0;i<e.notifications.length;i++){el=e.notifications[i];var a=1==el.is_viewed;o+='<li class="header-noty-item'+(a?" header-noty-item_new":"")+'">',o+="<div class=header-noty-data>"+el.data+"</div>",o+="<div class=header-noty-text>"+el.text+"</div>",o+="</li>",n=n||a}o+="</ul>",o+='<a class="btn" href="/account/notification">'+e.btn+"</a>",o+="</div>",$(".header").append(o),n&&t.addClass("tooltip").addClass("has-noty"),t.on("click",function(t){return t.preventDefault(),$(".header-noty-box").hasClass("header-noty-box_open")?($(".header-noty-box").removeClass("header-noty-box_open"),$("html").removeClass("no_scrol_laptop_min")):($(".header-noty-box").addClass("header-noty-box_open"),$("html").addClass("no_scrol_laptop_min"),$(this).hasClass("has-noty")&&$.post("/account/notification",function(){$(".header-logo_noty").removeClass("tooltip").removeClass("has-noty")})),!1}),$(".header-noty-box").on("click",function(t){$(".header-noty-box").removeClass("header-noty-box_open"),$("html").removeClass("no_scrol_laptop_min")}),$(".header-noty-list").on("click",function(t){return t.preventDefault(),!1})}},"json")}();var headerActions=function(){var t=!1,e=!1;$(".menu-toggle").click(function(t){t.preventDefault(),$(".header").toggleClass("header_open-menu"),$(".drop-menu").find("li").removeClass("open").removeClass("close"),$(".header").hasClass("header_open-menu")&&$(".header").removeClass("header-search-open")}),$(".search-toggle").click(function(t){t.preventDefault(),$(".header").toggleClass("header-search-open"),$("#autocomplete").fadeOut(),$(".header").hasClass("header-search-open")&&$(".header").removeClass("header_open-menu")}),$("#header").click(function(t){"header"==t.target.id&&($(this).removeClass("header_open-menu"),$(this).removeClass("header-search-open"))}),$(".header-search_form-button").click(function(t){t.preventDefault(),$(this).closest("form").submit()}),$(".header-secondline_close").click(function(t){$(".header").removeClass("header_open-menu")}),$(".header-upline").on("mouseover",function(e){$(".header-secondline").removeClass("scroll-down"),t=!1}),$(".tooltip").tipso({background:"#4A4A4A",size:"small",delay:100,speed:100,onBeforeShow:function(t,e){this.content=t.data("tooltip")}}),$(window).on("load resize scroll",function(){var o=50,n=200,i=$(".header-secondline"),a=i.find(":hover"),s=$(".header");if(a.length)i.addClass("scrollable"),s.addClass("scrollable");else{i.removeClass("scrollable"),s.removeClass("scrollable");var r=$(window).scrollTop();r>o&&e===!1&&(e=!0,i.addClass("shadowed")),r<=o&&e===!0&&(e=!1,i.removeClass("shadowed")),r>n&&t===!1&&(t=!0,i.addClass("scroll-down")),r<=n&&t===!0&&(t=!1,i.removeClass("scroll-down"))}}),$(".menu_angle-down").click(function(t){t.preventDefault();var e=$(this).closest(".drop-menu_group__up, .menu-group"),o=$(this).closest(".drop-menu");return o&&$(o).siblings("ul").find("li").removeClass("open"),e&&($(e).siblings("li").removeClass("open"),$(e).toggleClass("open"),e.hasClass("open")?($(e).removeClass("close"),$(e).siblings("li").addClass("close"),o&&$(o).siblings("ul").children("li").addClass("close")):($(e).siblings("li").removeClass("close"),o&&$(o).siblings("ul").children("li").removeClass("close"))),!1});var o=null;$(".account-menu-toggle").click(function(t){t.preventDefault();var e=$(".account-menu");e&&(clearTimeout(o),e.toggleClass("hidden"),e.hasClass("hidden")||(o=setTimeout(function(){e.addClass("hidden")},7e3)))}),$(".header-search_form-input").on("input",function(t){t.preventDefault();var e=$(this).val(),o=$("#autocomplete"),n=$(o).find("ul");return e.length>1?$.ajax({url:"/search",type:"get",data:{query:e},dataType:"json",success:function(t){t.suggestions&&(o&&$(n).html(""),t.suggestions.length?(t.suggestions.forEach(function(t){var e='<a href="/stores/'+t.data.route+'">'+t.value+t.cashback+"</a>",o=document.createElement("li");o.innerHTML=e,n&&$(n).append(o)}),o&&$(o).fadeIn()):o&&$(o).fadeOut())}}):o&&($(n).html(""),$(o).fadeOut()),!1}).on("focusout",function(){$("#autocomplete").hide()})}(),slider=function(){$(".flexslider").flexslider({animation:"slide",slideshowSpeed:1e4,animationDuration:400,pauseOnHover:!0})}();