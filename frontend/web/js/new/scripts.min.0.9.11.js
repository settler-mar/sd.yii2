function ajaxForm(e){function a(e){var a=this;form=a.form,wrap=a.wrap,e.render?(e.notyfy_class="notify_white",notification.alert(e)):(wrap.removeClass("loading"),wrap.html(e.html),ajaxForm(wrap))}function o(){var e=this;form=e.form,wrap=e.wrap,wrap.removeClass("loading"),wrap.html("<h3>Упс... Возникла непредвиденная ошибка<h3><p>Часто это происходит в случае, если вы несколько раз подряд неверно ввели свои учетные данные. Но возможны и другие причины. В любом случае не расстраивайтесь и просто обратитесь к нашему оператору службы поддержки.</p><br><p>Спасибо.</p>"),ajaxForm(wrap)}function i(e){e.preventDefault();var i=this;if(form=i.form,wrap=i.wrap,form.yiiActiveForm&&form.yiiActiveForm("validate"),isValid=0==form.find(i.param.error_class).length,!isValid)return!1;for(required=form.find("input.required"),t=0;t<required.length;t++)if(required.eq(t).val().length<1)return!1;form.serializeObject||addSRO();var r=form.serializeObject();return form.addClass("loading"),form.html(""),wrap.html('<div style="text-align:center;"><p>Отправка данных</p></div>'),i.url+=(i.url.indexOf("?")>0?"&":"?")+"rc="+Math.random(),$.post(i.url,r,a.bind(i),"json").fail(o.bind(i)),!1}var r=(!!(window.File&&window.FileReader&&window.FileList&&window.Blob),{error_class:".has-error"});e.find("[required]").addClass("required").removeAttr("required");for(var t=0;t<e.length;t++)wrap=e.eq(t),form=wrap.find("form"),data={form:form,param:r,wrap:wrap},data.url=form.attr("action")||location.href,data.method=form.attr("method")||"post",form.off("submit"),form.on("submit",i.bind(data))}function addSRO(){$.fn.serializeObject=function(){var e={},a=this.serializeArray();return $.each(a,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e}}!function(e,a,o){function r(){var e='<div class="scroll_box-control"></div>';e=o(e),e.insertAfter(c),e.data("slide-active",0),c.prepend("<div class=scroll_box-mover></div>"),e.on("click",".scroll_box-control_point",function(){var e=o(this),a=e.parent(),i=e.index();if(!e.hasClass("active")){a.find(".active").removeClass("active"),e.addClass("active");var r=a.data("slide-dx"),t=a.prev();t.find(".scroll_box-mover").css("margin-left",-r*i),a.data("slide-active",i),n.bind(t)()}})}function t(){var e=o(this);if(e.hasClass("scroll_box-active")){var a=setTimeout(l.bind(e),2e3);e.data("slide-timeoutId",a)}}function n(){var e=o(this),a=e.data("slide-timeoutId");e.data("slide-timeoutId",!1),e.hasClass("scroll_box-active")&&a&&clearTimeout(a)}function l(){var e=o(this);if(e.data("slide-timeoutId",!1),e.hasClass("scroll_box-active")){var a=e.next().find(">*"),i=e.data("slide-active"),r=a.length;i||(i=0),i++,i>=r&&(i=0),e.data("slide-active",i),a.eq(i).click(),t.bind(e)()}}function s(){for(i=0;i<c.length;i++){var a=c.eq(i),o=a.next(),r=a.data("scroll-width-max");if(e=a.width(),r&&e>r)o.removeClass("scroll_box-active"),o.data("slide-active",0);else{var n=a.data("scroll-elemet-ignore-class"),l=a.find(">*").not(".scroll_box-mover");if(n&&(l=l.not("."+n)),0!=l){var s=l.eq(1),d=s.outerWidth();d+=parseFloat(s.css("margin-left")),d+=parseFloat(s.css("margin-right"));var m=Math.floor(e/d);if(l<=m)a.removeClass("scroll_box-active"),o.data("slide-active",0);else{a.addClass("scroll_box-active");var v=l.length-m+1;if(o.find(">*").length!=v){active=a.data("slide-active"),active||(active=0),active>=v&&(active=v-1);for(var f="",u=0;u<v;u++)f+='<div class="scroll_box-control_point'+(u==active?" active":"")+'"></div>';o.html(f),o.data("slide-active",active),o.data("slide-count",v),o.data("slide-dx",d),a.data("slide-timeoutId")||t.bind(a)()}else o.data("slide-dx",d)}}else a.removeClass("scroll_box-active"),o.data("slide-active",0)}}}var c=o(".scroll_box");if(0!=c.length){o(c).wrap('<div class="scroll_box-wrap"></div>'),r(),s();var d,m;o(window).resize(function(){clearTimeout(d),clearTimeout(m),d=setTimeout(s,300),m=setTimeout(s,800)});for(var v=0;v<c.length;v++){var f=c.eq(v);f.parent().hover(n.bind(f),t.bind(f))}}}(window,document,jQuery);var accordionControl=$(".accordion .accordion-control");accordionControl.on("click",function(e){return e.preventDefault(),$this=$(this),$accordion=$this.closest(".accordion"),$accordion.hasClass("open")?($accordion.find(".accordion-content").hide(300),$accordion.removeClass("open")):($accordion.hasClass("accordion-slim")&&($other=$accordion.parent().find(".accordion-slim"),$other.find(".accordion-content").hide(300).removeClass("accordion-content_last-open"),$other.removeClass("open"),$other.removeClass("last-open"),$accordion.find(".accordion-content").addClass("accordion-content_last-open"),$accordion.addClass("last-open")),$accordion.find(".accordion-content").show(300),$accordion.addClass("open")),!1}),accordionControl.show(),accordionSlim=$(".accordion.accordion-slim"),accordionSlim.length>0&&accordionSlim.parent().find(".accordion-slim:first-child").addClass("open").addClass("last-open").find(".accordion-content").show(300).addClass("accordion-content_last-open"),addSRO();var headerActions=function(){var e=!1;$(".menu-toggle").click(function(e){e.preventDefault(),$(".header").toggleClass("header_open-menu")}),$(".search-toggle").click(function(e){e.preventDefault(),$(".header-search").toggleClass("open")}),$(".header-secondline_close").click(function(e){$(".header").removeClass("header_open-menu")}),window.onscroll=function(){var a=50,o=$(".header-secondline"),i=o.find(":hover"),r=$(".header");i.length?(o.addClass("scrollable"),r.addClass("scrollable")):(o.removeClass("scrollable"),r.removeClass("scrollable"),document.documentElement.scrollTop>a&&e===!1&&(e=!0,o.addClass("scroll-down")),document.documentElement.scrollTop<=a&&e===!0&&(e=!1,o.removeClass("scroll-down")))},$(".menu_angle-down").click(function(e){e.preventDefault();var a=$(this).closest(".drop-menu_group__up, .menu-group");return a&&($(a).siblings("li").removeClass("open"),$(a).toggleClass("open")),!1});var a=null;$(".account-menu-toggle").click(function(e){e.preventDefault();var o=$(".account-menu");o&&(clearTimeout(a),o.toggleClass("hidden"),o.hasClass("hidden")||(a=setTimeout(function(){o.addClass("hidden")},7e3)))})}();