function login_redirect(t){href=location.href,href.indexOf("store")>0||href.indexOf("coupon")>0?location.reload():location.href=t}function ajaxForm(t){function e(t){var e=this;form=e.form,wrap=e.wrap,t.render?(t.notyfy_class="notify_white",notification.alert(t)):(wrap.removeClass("loading"),wrap.html(t.html),ajaxForm(wrap))}function o(){var t=this;form=t.form,wrap=t.wrap,wrap.removeClass("loading"),wrap.html("<h3>Упс... Возникла непредвиденная ошибка<h3><p>Часто это происходит в случае, если вы несколько раз подряд неверно ввели свои учетные данные. Но возможны и другие причины. В любом случае не расстраивайтесь и просто обратитесь к нашему оператору службы поддержки.</p><br><p>Спасибо.</p>"),ajaxForm(wrap)}function i(t){t.preventDefault();var i=this;if(form=i.form,wrap=i.wrap,form.yiiActiveForm&&form.yiiActiveForm("validate"),isValid=0==form.find(i.param.error_class).length,!isValid)return!1;for(required=form.find("input.required"),a=0;a<required.length;a++)if(required.eq(a).val().length<1)return!1;form.serializeObject||addSRO();var n=form.serializeObject();return form.addClass("loading"),form.html(""),wrap.html('<div style="text-align:center;"><p>Отправка данных</p></div>'),i.url+=(i.url.indexOf("?")>0?"&":"?")+"rc="+Math.random(),$.post(i.url,n,e.bind(i),"json").fail(o.bind(i)),!1}var n=(!!(window.File&&window.FileReader&&window.FileList&&window.Blob),{error_class:".has-error"});t.find("[required]").addClass("required").removeAttr("required");for(var a=0;a<t.length;a++)wrap=t.eq(a),form=wrap.find("form"),data={form:form,param:n,wrap:wrap},data.url=form.attr("action")||location.href,data.method=form.attr("method")||"post",form.off("submit"),form.on("submit",i.bind(data))}function addSRO(){$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}}objects=function(t,e){var o,i=e;for(o in t)t.hasOwnProperty(o)&&(i[o]=o in e?e[o]:t[o]);return i},function(t,e,o){function n(){var t='<div class="scroll_box-control"></div>';t=o(t),t.insertAfter(d),t.data("slide-active",0),d.prepend("<div class=scroll_box-mover></div>"),t.on("click",".scroll_box-control_point",function(){var t=o(this),e=t.parent(),i=t.index();if(!t.hasClass("active")){e.find(".active").removeClass("active"),t.addClass("active");var n=e.data("slide-dx"),a=e.prev();a.find(".scroll_box-mover").css("margin-left",-n*i),e.data("slide-active",i),s.bind(a)()}})}function a(){var t=o(this);if(t.hasClass("scroll_box-active")){var e=setTimeout(r.bind(t),2e3);t.data("slide-timeoutId",e)}}function s(){var t=o(this),e=t.data("slide-timeoutId");t.data("slide-timeoutId",!1),t.hasClass("scroll_box-active")&&e&&clearTimeout(e)}function r(){var t=o(this);if(t.data("slide-timeoutId",!1),t.hasClass("scroll_box-active")){var e=t.next().find(">*"),i=t.data("slide-active"),n=e.length;i||(i=0),i++,i>=n&&(i=0),t.data("slide-active",i),e.eq(i).click(),a.bind(t)()}}function l(){for(i=0;i<d.length;i++){var e=d.eq(i),o=e.next(),n=e.data("scroll-width-max");if(t=e.width(),n&&t>n)o.removeClass("scroll_box-active"),o.data("slide-active",0);else{var s=e.data("scroll-elemet-ignore-class"),r=e.find(">*").not(".scroll_box-mover");if(s&&(r=r.not("."+s)),0!=r){var l=r.eq(1),c=l.outerWidth();c+=parseFloat(l.css("margin-left")),c+=parseFloat(l.css("margin-right"));var u=Math.floor(t/c);if(r<=u)e.removeClass("scroll_box-active"),o.data("slide-active",0);else{e.addClass("scroll_box-active");var p=r.length-u+1;if(o.find(">*").length!=p){active=e.data("slide-active"),active||(active=0),active>=p&&(active=p-1);for(var f="",m=0;m<p;m++)f+='<div class="scroll_box-control_point'+(m==active?" active":"")+'"></div>';o.html(f),o.data("slide-active",active),o.data("slide-count",p),o.data("slide-dx",c),e.data("slide-timeoutId")||a.bind(e)()}else o.data("slide-dx",c)}}else e.removeClass("scroll_box-active"),o.data("slide-active",0)}}}var d=o(".scroll_box");if(0!=d.length){o(d).wrap('<div class="scroll_box-wrap"></div>'),n(),l();var c,u;o(window).resize(function(){clearTimeout(c),clearTimeout(u),c=setTimeout(l,300),u=setTimeout(l,800)});for(var p=0;p<d.length;p++){var f=d.eq(p);f.parent().hover(s.bind(f),a.bind(f))}}}(window,document,jQuery);var accordionControl=$(".accordion .accordion-control");accordionControl.on("click",function(t){return t.preventDefault(),$this=$(this),$accordion=$this.closest(".accordion"),$accordion.hasClass("open")?($accordion.find(".accordion-content").hide(300),$accordion.removeClass("open")):($accordion.hasClass("accordion-slim")&&($other=$accordion.parent().find(".accordion-slim"),$other.find(".accordion-content").hide(300).removeClass("accordion-content_last-open"),$other.removeClass("open"),$other.removeClass("last-open"),$accordion.find(".accordion-content").addClass("accordion-content_last-open"),$accordion.addClass("last-open")),$accordion.find(".accordion-content").show(300),$accordion.addClass("open")),!1}),accordionControl.show(),accordionSlim=$(".accordion.accordion-slim"),accordionSlim.length>0&&accordionSlim.parent().find(".accordion-slim:first-child").addClass("open").addClass("last-open").find(".accordion-content").show(300).addClass("accordion-content_last-open"),addSRO(),!function(t){var e=!0;t.flexslider=function(o,i){var n=t(o);n.vars=t.extend({},t.flexslider.defaults,i);var a,s=n.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,d="click touchend MSPointerUp keyup",c="",u="vertical"===n.vars.direction,p=n.vars.reverse,f=n.vars.itemWidth>0,m="fade"===n.vars.animation,v=""!==n.vars.asNavFor,h={};t.data(o,"flexslider",n),h={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=t(n.vars.selector,n),n.container=t(n.containerSelector,n),n.count=n.slides.length,n.syncExists=t(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=u?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!m&&n.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var o in e)if(void 0!==t.style[e[o]])return n.pfx=e[o].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),n.ensureAnimationEnd="",""!==n.vars.controlsContainer&&(n.controlsContainer=t(n.vars.controlsContainer).length>0&&t(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=t(n.vars.manualControls).length>0&&t(n.vars.manualControls)),""!==n.vars.customDirectionNav&&(n.customDirectionNav=2===t(n.vars.customDirectionNav).length&&t(n.vars.customDirectionNav)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&h.controlNav.setup(),n.vars.directionNav&&h.directionNav.setup(),n.vars.keyboard&&(1===t(n.containerSelector).length||n.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!n.animating&&(39===e||37===e)){var o=39===e?n.getTarget("next"):37===e&&n.getTarget("prev");n.flexAnimate(o,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(t,e,o,i){t.preventDefault();var a=e<0?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(a,n.vars.pauseOnAction)}),n.vars.pausePlay&&h.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&h.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&h.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),v&&h.asNav.setup(),l&&n.vars.touch&&h.touch(),(!m||m&&n.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",h.resize()),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(s+"active-slide").eq(n.currentItem).addClass(s+"active-slide"),r?(o._slider=n,n.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var o=t(this),i=o.index();t(n.vars.asNavFor).data("flexslider").animating||o.hasClass("active")||(n.direction=n.currentItem<i?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(d,function(e){e.preventDefault();var o=t(this),i=o.index();o.offset().left-t(n).scrollLeft()<=0&&o.hasClass(s+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):t(n.vars.asNavFor).data("flexslider").animating||o.hasClass(s+"active-slide")||(n.direction=n.currentItem<i?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?h.controlNav.setupManual():h.controlNav.setupPaging()},setupPaging:function(){var e,o,i="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",a=1;if(n.controlNavScaffold=t('<ol class="'+s+"control-nav "+s+i+'"></ol>'),n.pagingCount>1)for(var r=0;r<n.pagingCount;r++){o=n.slides.eq(r),void 0===o.attr("data-thumb-alt")&&o.attr("data-thumb-alt","");var l=""!==o.attr("data-thumb-alt")?l=' alt="'+o.attr("data-thumb-alt")+'"':"";if(e="thumbnails"===n.vars.controlNav?'<img src="'+o.attr("data-thumb")+'"'+l+"/>":'<a href="#">'+a+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var u=o.attr("data-thumbcaption");""!==u&&void 0!==u&&(e+='<span class="'+s+'caption">'+u+"</span>")}n.controlNavScaffold.append("<li>"+e+"</li>"),a++}n.controlsContainer?t(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),h.controlNav.set(),h.controlNav.active(),n.controlNavScaffold.delegate("a, img",d,function(e){if(e.preventDefault(),""===c||c===e.type){var o=t(this),i=n.controlNav.index(o);o.hasClass(s+"active")||(n.direction=i>n.currentSlide?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction))}""===c&&(c=e.type),h.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,h.controlNav.active(),n.controlNav.bind(d,function(e){if(e.preventDefault(),""===c||c===e.type){var o=t(this),i=n.controlNav.index(o);o.hasClass(s+"active")||(i>n.currentSlide?n.direction="next":n.direction="prev",n.flexAnimate(i,n.vars.pauseOnAction))}""===c&&(c=e.type),h.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=t("."+s+"control-nav li "+e,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(s+"active").eq(n.animatingTo).addClass(s+"active")},update:function(e,o){n.pagingCount>1&&"add"===e?n.controlNavScaffold.append(t('<li><a href="#">'+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(o).closest("li").remove(),h.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(o,e):h.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+s+'direction-nav"><li class="'+s+'nav-prev"><a class="'+s+'prev" href="#">'+n.vars.prevText+'</a></li><li class="'+s+'nav-next"><a class="'+s+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.customDirectionNav?n.directionNav=n.customDirectionNav:n.controlsContainer?(t(n.controlsContainer).append(e),n.directionNav=t("."+s+"direction-nav li a",n.controlsContainer)):(n.append(e),n.directionNav=t("."+s+"direction-nav li a",n)),h.directionNav.update(),n.directionNav.bind(d,function(e){e.preventDefault();var o;""!==c&&c!==e.type||(o=t(this).hasClass(s+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(o,n.vars.pauseOnAction)),""===c&&(c=e.type),h.setToClearWatchedEvent()})},update:function(){var t=s+"disabled";1===n.pagingCount?n.directionNav.addClass(t).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(t).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(t).filter("."+s+"prev").addClass(t).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(t).filter("."+s+"next").addClass(t).attr("tabindex","-1"):n.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+s+'pauseplay"><a href="#"></a></div>');n.controlsContainer?(n.controlsContainer.append(e),n.pausePlay=t("."+s+"pauseplay a",n.controlsContainer)):(n.append(e),n.pausePlay=t("."+s+"pauseplay a",n)),h.pausePlay.update(n.vars.slideshow?s+"pause":s+"play"),n.pausePlay.bind(d,function(e){e.preventDefault(),""!==c&&c!==e.type||(t(this).hasClass(s+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===c&&(c=e.type),h.setToClearWatchedEvent()})},update:function(t){"play"===t?n.pausePlay.removeClass(s+"pause").addClass(s+"play").html(n.vars.playText):n.pausePlay.removeClass(s+"play").addClass(s+"pause").html(n.vars.pauseText)}},touch:function(){function t(t){t.stopPropagation(),n.animating?t.preventDefault():(n.pause(),o._gesture.addPointer(t.pointerId),y=0,d=u?n.h:n.w,v=Number(new Date),l=f&&p&&n.animatingTo===n.last?0:f&&p?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:f&&n.currentSlide===n.last?n.limit:f?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:p?(n.last-n.currentSlide+n.cloneOffset)*d:(n.currentSlide+n.cloneOffset)*d)}function e(t){t.stopPropagation();var e=t.target._slider;if(e){var i=-t.translationX,n=-t.translationY;if(y+=u?n:i,c=y,_=u?Math.abs(y)<Math.abs(-i):Math.abs(y)<Math.abs(-n),t.detail===t.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){o._gesture.stop()});(!_||Number(new Date)-v>500)&&(t.preventDefault(),!m&&e.transitions&&(e.vars.animationLoop||(c=y/(0===e.currentSlide&&y<0||e.currentSlide===e.last&&y>0?Math.abs(y)/d+2:1)),e.setProps(l+c,"setTouch")))}}function i(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!_&&null!==c){var o=p?-c:c,i=o>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(i)&&(Number(new Date)-v<550&&Math.abs(o)>50||Math.abs(o)>d/2)?e.flexAnimate(i,e.vars.pauseOnAction):m||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}a=null,s=null,c=null,l=null,y=0}}var a,s,l,d,c,v,h,g,b,_=!1,w=0,C=0,y=0;r?(o.style.msTouchAction="none",o._gesture=new MSGesture,o._gesture.target=o,o.addEventListener("MSPointerDown",t,!1),o._slider=n,o.addEventListener("MSGestureChange",e,!1),o.addEventListener("MSGestureEnd",i,!1)):(h=function(t){n.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(n.pause(),d=u?n.h:n.w,v=Number(new Date),w=t.touches[0].pageX,C=t.touches[0].pageY,l=f&&p&&n.animatingTo===n.last?0:f&&p?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:f&&n.currentSlide===n.last?n.limit:f?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:p?(n.last-n.currentSlide+n.cloneOffset)*d:(n.currentSlide+n.cloneOffset)*d,a=u?C:w,s=u?w:C,o.addEventListener("touchmove",g,!1),o.addEventListener("touchend",b,!1))},g=function(t){w=t.touches[0].pageX,C=t.touches[0].pageY,c=u?a-C:a-w,_=u?Math.abs(c)<Math.abs(w-s):Math.abs(c)<Math.abs(C-s);(!_||Number(new Date)-v>500)&&(t.preventDefault(),!m&&n.transitions&&(n.vars.animationLoop||(c/=0===n.currentSlide&&c<0||n.currentSlide===n.last&&c>0?Math.abs(c)/d+2:1),n.setProps(l+c,"setTouch")))},b=function(t){if(o.removeEventListener("touchmove",g,!1),n.animatingTo===n.currentSlide&&!_&&null!==c){var e=p?-c:c,i=e>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(i)&&(Number(new Date)-v<550&&Math.abs(e)>50||Math.abs(e)>d/2)?n.flexAnimate(i,n.vars.pauseOnAction):m||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}o.removeEventListener("touchend",b,!1),a=null,s=null,c=null,l=null},o.addEventListener("touchstart",h,!1))},resize:function(){!n.animating&&n.is(":visible")&&(f||n.doMath(),m?h.smoothHeight():f?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):u?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&h.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(t){if(!u||m){var e=m?n:n.viewport;t?e.animate({height:n.slides.eq(n.animatingTo).innerHeight()},t):e.innerHeight(n.slides.eq(n.animatingTo).innerHeight())}},sync:function(e){var o=t(n.vars.sync).data("flexslider"),i=n.animatingTo;switch(e){case"animate":o.flexAnimate(i,n.vars.pauseOnAction,!1,!0);break;case"play":o.playing||o.asNav||o.play();break;case"pause":o.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var t=h.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){h.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){var t=h.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){c=""},3e3)}},n.flexAnimate=function(e,o,i,a,r){if(n.vars.animationLoop||e===n.currentSlide||(n.direction=e>n.currentSlide?"next":"prev"),v&&1===n.pagingCount&&(n.direction=n.currentItem<e?"next":"prev"),!n.animating&&(n.canAdvance(e,r)||i)&&n.is(":visible")){if(v&&a){var d=t(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===e||e===n.count-1,d.flexAnimate(e,!0,!1,!0,r),n.direction=n.currentItem<e?"next":"prev",d.direction=n.direction,Math.ceil((e+1)/n.visible)-1===n.currentSlide||0===e)return n.currentItem=e,n.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),!1;n.currentItem=e,n.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),e=Math.floor(e/n.visible)}if(n.animating=!0,n.animatingTo=e,o&&n.pause(),n.vars.before(n),n.syncExists&&!r&&h.sync("animate"),n.vars.controlNav&&h.controlNav.active(),f||n.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),n.atEnd=0===e||e===n.last,n.vars.directionNav&&h.directionNav.update(),e===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),m)l?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(e).css({opacity:1,zIndex:2}),n.wrapup(_)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(e).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var c,g,b,_=u?n.slides.filter(":first").height():n.computedW;f?(c=n.vars.itemMargin,b=(n.itemW+c)*n.move*n.animatingTo,g=b>n.limit&&1!==n.visible?n.limit:b):g=0===n.currentSlide&&e===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?p?(n.count+n.cloneOffset)*_:0:n.currentSlide===n.last&&0===e&&n.vars.animationLoop&&"prev"!==n.direction?p?0:(n.count+1)*_:p?(n.count-1-e+n.cloneOffset)*_:(e+n.cloneOffset)*_,n.setProps(g,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(_)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(_)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(_)})}n.vars.smoothHeight&&h.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(t){m||f||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(t,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(t,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&e&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&h.pausePlay.update("play"),n.syncExists&&h.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&h.pausePlay.update("pause"),n.syncExists&&h.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(t,e){var o=v?n.pagingCount-1:n.last;return!(!e&&(!v||n.currentItem!==n.count-1||0!==t||"prev"!==n.direction)&&(v&&0===n.currentItem&&t===n.pagingCount-1&&"next"!==n.direction||t===n.currentSlide&&!v||!n.vars.animationLoop&&(n.atEnd&&0===n.currentSlide&&t===o&&"next"!==n.direction||n.atEnd&&n.currentSlide===o&&0===t&&"next"===n.direction)))},n.getTarget=function(t){return n.direction=t,"next"===t?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(t,e,o){var i=function(){var o=t||(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo;return-1*function(){if(f)return"setTouch"===e?t:p&&n.animatingTo===n.last?0:p?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:o;switch(e){case"setTotal":return p?(n.count-1-n.currentSlide+n.cloneOffset)*t:(n.currentSlide+n.cloneOffset)*t;case"setTouch":return t;case"jumpEnd":return p?t:n.count*t;case"jumpStart":return p?n.count*t:t;default:return t}}()+"px"}();n.transitions&&(i=u?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",o=void 0!==o?o/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",o),n.container.css("transition-duration",o)),n.args[n.prop]=i,(n.transitions||void 0===o)&&n.container.css(n.args),n.container.css("transform",i)},n.setup=function(e){if(m)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(l?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&h.smoothHeight();else{var o,i;"init"===e&&(n.viewport=t('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,p&&(i=t.makeArray(n.slides).reverse(),n.slides=t(i),n.container.empty().append(n.slides))),n.vars.animationLoop&&!f&&(n.cloneCount=2,n.cloneOffset=1,"init"!==e&&n.container.find(".clone").remove(),n.container.append(h.uniqueID(n.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(h.uniqueID(n.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),n.newSlides=t(n.vars.selector,n),o=p?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,u&&!f?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(o*n.h,"init")},"init"===e?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(o*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,marginRight:n.computedM,"float":"left",display:"block"}),n.vars.smoothHeight&&h.smoothHeight()},"init"===e?100:0))}f||n.slides.removeClass(s+"active-slide").eq(n.currentSlide).addClass(s+"active-slide"),n.vars.init(n)},n.doMath=function(){var t=n.slides.first(),e=n.vars.itemMargin,o=n.vars.minItems,i=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=t.height(),n.boxPadding=t.outerWidth()-t.width(),f?(n.itemT=n.vars.itemWidth+e,n.itemM=e,n.minW=o?o*n.itemT:n.w,n.maxW=i?i*n.itemT-e:n.w,n.itemW=n.minW>n.w?(n.w-e*(o-1))/o:n.maxW<n.w?(n.w-e*(i-1))/i:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+e*(n.count-1):(n.itemW+e)*n.count-n.w-e):(n.itemW=n.w,n.itemM=e,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding,n.computedM=n.itemM},n.update=function(t,e){n.doMath(),f||(t<n.currentSlide?n.currentSlide+=1:t<=n.currentSlide&&0!==t&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===e&&!f||n.pagingCount>n.controlNav.length?h.controlNav.update("add"):("remove"===e&&!f||n.pagingCount<n.controlNav.length)&&(f&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),h.controlNav.update("remove",n.last))),n.vars.directionNav&&h.directionNav.update()},n.addSlide=function(e,o){var i=t(e);n.count+=1,n.last=n.count-1,u&&p?void 0!==o?n.slides.eq(n.count-o).after(i):n.container.prepend(i):void 0!==o?n.slides.eq(o).before(i):n.container.append(i),n.update(o,"add"),n.slides=t(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(e){var o=isNaN(e)?n.slides.index(t(e)):e;n.count-=1,n.last=n.count-1,isNaN(e)?t(e,n.slides).remove():u&&p?n.slides.eq(n.last).remove():n.slides.eq(e).remove(),n.doMath(),n.update(o,"remove"),n.slides=t(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},h.init()},t(window).blur(function(t){e=!1}).focus(function(t){e=!0}),t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var o=t(this),i=e.selector?e.selector:".slides > li",n=o.find(i);1===n.length&&!1===e.allowOneSlide||0===n.length?(n.fadeIn(400),e.start&&e.start(o)):void 0===o.data("flexslider")&&new t.flexslider(this,e)});var o=t(this).data("flexslider");switch(e){case"play":o.play();break;case"pause":o.pause();break;case"stop":o.stop();break;case"next":o.flexAnimate(o.getTarget("next"),!0);break;case"prev":case"previous":o.flexAnimate(o.getTarget("prev"),!0);break;default:"number"==typeof e&&o.flexAnimate(e,!0)}}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e,o){this.element=e,this.$element=t(this.element),this.doc=t(document),this.win=t(window),this.settings=t.extend({},s,o),"object"==typeof this.$element.data("tipso")&&t.extend(this.settings,this.$element.data("tipso"));for(var i=Object.keys(this.$element.data()),n={},l=0;l<i.length;l++){var d=i[l].replace(a,"");if(""!==d){d=d.charAt(0).toLowerCase()+d.slice(1),n[d]=this.$element.data(i[l]);for(var c in this.settings)c.toLowerCase()==d&&(this.settings[c]=n[d])}}this._defaults=s,this._name=a,this._title=this.$element.attr("title"),this.mode="hide",this.ieFade=!r,this.settings.preferedPosition=this.settings.position,this.init()}function o(e){var o=e.clone();o.css("visibility","hidden"),t("body").append(o);var i=o.outerHeight(),n=o.outerWidth();return o.remove(),{width:n,height:i}}function i(t){t.removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner"),t.find(".tipso_title").removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner")}function n(e){var a,s,r,l=e.tooltip(),d=e.$element,c=e,u=t(window),p=10,f=c.settings.background,m=c.titleContent();switch(void 0!==m&&""!==m&&(f=c.settings.titleBackground),d.parent().outerWidth()>u.outerWidth()&&(u=d.parent()),c.settings.position){case"top-right":s=d.offset().left+d.outerWidth(),a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("bottom_right_corner"),l.find(".tipso_title").addClass("bottom_right_corner"),l.find(".tipso_arrow").css({"border-left-color":f}),l.removeClass("top-right top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("top_right_corner"),l.find(".tipso_arrow").css({"border-left-color":c.settings.background}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"top-left":s=d.offset().left-o(l).width,a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("bottom_left_corner"),l.find(".tipso_title").addClass("bottom_left_corner"),l.find(".tipso_arrow").css({"border-right-color":f}),l.removeClass("top-right top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-right-color":c.settings.background}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"bottom-right":s=d.offset().left+d.outerWidth(),a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a+o(l).height>u.scrollTop()+u.outerHeight()?(a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":c.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("top_right_corner"),l.find(".tipso_title").addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-left-color":c.settings.background}),l.removeClass("top-right top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":f,"border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("bottom_right_corner"),l.find(".tipso_title").addClass("bottom_right_corner"),l.find(".tipso_arrow").css({"border-left-color":f}),l.removeClass("top bottom left right"),l.addClass("bottom"));break;case"bottom-left":s=d.offset().left-o(l).width,a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a+o(l).height>u.scrollTop()+u.outerHeight()?(a=d.offset().top-o(l).height-p,
l.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":c.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("top_left_corner"),l.find(".tipso_title").addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-right-color":c.settings.background}),l.removeClass("top-right top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":f,"border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.addClass("bottom_left_corner"),l.find(".tipso_title").addClass("bottom_left_corner"),l.find(".tipso_arrow").css({"border-right-color":f}),l.removeClass("top bottom left right"),l.addClass("bottom"));break;case"top":s=d.offset().left+d.outerWidth()/2-o(l).width/2,a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"bottom":s=d.offset().left+d.outerWidth()/2-o(l).width/2,a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a+o(l).height>u.scrollTop()+u.outerHeight()?(a=d.offset().top-o(l).height-p,l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position));break;case"left":s=d.offset().left-o(l).width-p,a=d.offset().top+d.outerHeight()/2-o(l).height/2,l.find(".tipso_arrow").css({marginTop:-c.settings.arrowWidth,marginLeft:""}),s<u.scrollLeft()?(s=d.offset().left+d.outerWidth()+p,l.find(".tipso_arrow").css({"border-right-color":c.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("right")):(l.find(".tipso_arrow").css({"border-left-color":c.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position));break;case"right":s=d.offset().left+d.outerWidth()+p,a=d.offset().top+d.outerHeight()/2-o(l).height/2,l.find(".tipso_arrow").css({marginTop:-c.settings.arrowWidth,marginLeft:""}),s+p+c.settings.width>u.scrollLeft()+u.outerWidth()?(s=d.offset().left-o(l).width-p,l.find(".tipso_arrow").css({"border-left-color":c.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("left")):(l.find(".tipso_arrow").css({"border-right-color":c.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position))}if("top-right"===c.settings.position&&l.find(".tipso_arrow").css({"margin-left":-c.settings.width/2}),"top-left"===c.settings.position){var v=l.find(".tipso_arrow").eq(0);v.css({"margin-left":c.settings.width/2-2*c.settings.arrowWidth})}if("bottom-right"===c.settings.position){var v=l.find(".tipso_arrow").eq(0);v.css({"margin-left":-c.settings.width/2,"margin-top":""})}if("bottom-left"===c.settings.position){var v=l.find(".tipso_arrow").eq(0);v.css({"margin-left":c.settings.width/2-2*c.settings.arrowWidth,"margin-top":""})}s<u.scrollLeft()&&("bottom"===c.settings.position||"top"===c.settings.position)&&(l.find(".tipso_arrow").css({marginLeft:s-c.settings.arrowWidth}),s=0),s+c.settings.width>u.outerWidth()&&("bottom"===c.settings.position||"top"===c.settings.position)&&(r=u.outerWidth()-(s+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-r-c.settings.arrowWidth,marginTop:""}),s+=r),s<u.scrollLeft()&&("left"===c.settings.position||"right"===c.settings.position||"top-right"===c.settings.position||"top-left"===c.settings.position||"bottom-right"===c.settings.position||"bottom-left"===c.settings.position)&&(s=d.offset().left+d.outerWidth()/2-o(l).width/2,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a=d.offset().top-o(l).height-p,a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),i(l),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),i(l),l.addClass("top")),s+c.settings.width>u.outerWidth()&&(r=u.outerWidth()-(s+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-r-c.settings.arrowWidth,marginTop:""}),s+=r),s<u.scrollLeft()&&(l.find(".tipso_arrow").css({marginLeft:s-c.settings.arrowWidth}),s=0)),s+c.settings.width>u.outerWidth()&&("left"===c.settings.position||"right"===c.settings.position||"top-right"===c.settings.position||"top-left"===c.settings.position||"bottom-right"===c.settings.position||"bottom-right"===c.settings.position)&&(s=d.offset().left+d.outerWidth()/2-o(l).width/2,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),a=d.offset().top-o(l).height-p,a<u.scrollTop()?(a=d.offset().top+d.outerHeight()+p,l.find(".tipso_arrow").css({"border-bottom-color":f,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.removeClass("top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i(l),l.removeClass("top bottom left right"),l.addClass("top")),s+c.settings.width>u.outerWidth()&&(r=u.outerWidth()-(s+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-r-c.settings.arrowWidth,marginTop:""}),s+=r),s<u.scrollLeft()&&(l.find(".tipso_arrow").css({marginLeft:s-c.settings.arrowWidth}),s=0)),l.css({left:s+c.settings.offsetX,top:a+c.settings.offsetY}),a<u.scrollTop()&&("right"===c.settings.position||"left"===c.settings.position)&&(d.tipso("update","position","bottom"),n(c)),a+o(l).height>u.scrollTop()+u.outerHeight()&&("right"===c.settings.position||"left"===c.settings.position)&&(d.tipso("update","position","top"),n(c))}var a="tipso",s={speed:400,background:"#55b555",titleBackground:"#333333",color:"#ffffff",titleColor:"#ffffff",titleContent:"",showArrow:!0,position:"top",width:200,maxWidth:"",delay:200,hideDelay:0,animationIn:"",animationOut:"",offsetX:0,offsetY:0,arrowWidth:8,tooltipHover:!1,content:null,ajaxContentUrl:null,ajaxContentBuffer:0,contentElementId:null,useTitle:!1,templateEngineFunc:null,onBeforeShow:null,onShow:null,onHide:null};t.extend(e.prototype,{init:function(){var t=this,e=this.$element;if(this.doc,e.addClass("tipso_style").removeAttr("title"),t.settings.tooltipHover){var o=null,i=null;e.on("mouseover."+a,function(){clearTimeout(o),clearTimeout(i),i=setTimeout(function(){t.show()},150)}),e.on("mouseout."+a,function(){clearTimeout(o),clearTimeout(i),o=setTimeout(function(){t.hide()},200),t.tooltip().on("mouseover."+a,function(){t.mode="tooltipHover"}).on("mouseout."+a,function(){t.mode="show",clearTimeout(o),o=setTimeout(function(){t.hide()},200)})})}else e.on("mouseover."+a,function(){t.show()}),e.on("mouseout."+a,function(){t.hide()});t.settings.ajaxContentUrl&&(t.ajaxContent=null)},tooltip:function(){return this.tipso_bubble||(this.tipso_bubble=t('<div class="tipso_bubble"><div class="tipso_title"></div><div class="tipso_content"></div><div class="tipso_arrow"></div></div>')),this.tipso_bubble},show:function(){var e=this.tooltip(),o=this,i=this.win;o.settings.showArrow===!1?e.find(".tipso_arrow").hide():e.find(".tipso_arrow").show(),"hide"===o.mode&&(t.isFunction(o.settings.onBeforeShow)&&o.settings.onBeforeShow(o.$element,o.element,o),o.settings.size&&e.addClass(o.settings.size),o.settings.width?e.css({background:o.settings.background,color:o.settings.color,width:o.settings.width}).hide():o.settings.maxWidth?e.css({background:o.settings.background,color:o.settings.color,maxWidth:o.settings.maxWidth}).hide():e.css({background:o.settings.background,color:o.settings.color,width:200}).hide(),e.find(".tipso_title").css({background:o.settings.titleBackground,color:o.settings.titleColor}),e.find(".tipso_content").html(o.content()),e.find(".tipso_title").html(o.titleContent()),n(o),i.on("resize."+a,function(){o.settings.position=o.settings.preferedPosition,n(o)}),window.clearTimeout(o.timeout),o.timeout=null,o.timeout=window.setTimeout(function(){o.ieFade||""===o.settings.animationIn||""===o.settings.animationOut?e.appendTo("body").stop(!0,!0).fadeIn(o.settings.speed,function(){o.mode="show",t.isFunction(o.settings.onShow)&&o.settings.onShow(o.$element,o.element,o)}):e.remove().appendTo("body").stop(!0,!0).removeClass("animated "+o.settings.animationOut).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+o.settings.animationIn).fadeIn(o.settings.speed,function(){t(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+o.settings.animationIn)}),o.mode="show",t.isFunction(o.settings.onShow)&&o.settings.onShow(o.$element,o.element,o),i.off("resize."+a,null,"tipsoResizeHandler")})},o.settings.delay))},hide:function(e){var o=this,i=this.win,n=this.tooltip(),s=o.settings.hideDelay;e&&(s=0,o.mode="show"),window.clearTimeout(o.timeout),o.timeout=null,o.timeout=window.setTimeout(function(){"tooltipHover"!==o.mode&&(o.ieFade||""===o.settings.animationIn||""===o.settings.animationOut?n.stop(!0,!0).fadeOut(o.settings.speed,function(){t(this).remove(),t.isFunction(o.settings.onHide)&&"show"===o.mode&&o.settings.onHide(o.$element,o.element,o),o.mode="hide",i.off("resize."+a,null,"tipsoResizeHandler")}):n.stop(!0,!0).removeClass("animated "+o.settings.animationIn).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+o.settings.animationOut).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+o.settings.animationOut).remove(),t.isFunction(o.settings.onHide)&&"show"===o.mode&&o.settings.onHide(o.$element,o.element,o),o.mode="hide",i.off("resize."+a,null,"tipsoResizeHandler")}))},s)},close:function(){this.hide(!0)},destroy:function(){var t=this.$element,e=this.win;this.doc,t.off("."+a),e.off("resize."+a,null,"tipsoResizeHandler"),t.removeData(a),t.removeClass("tipso_style").attr("title",this._title)},titleContent:function(){var t,e=this.$element,o=this;return t=o.settings.titleContent?o.settings.titleContent:e.data("tipso-title")},content:function(){var e,o=this.$element,i=this,n=this._title;return i.settings.ajaxContentUrl?i._ajaxContent?e=i._ajaxContent:(i._ajaxContent=e=t.ajax({type:"GET",url:i.settings.ajaxContentUrl,async:!1}).responseText,i.settings.ajaxContentBuffer>0?setTimeout(function(){i._ajaxContent=null},i.settings.ajaxContentBuffer):i._ajaxContent=null):i.settings.contentElementId?e=t("#"+i.settings.contentElementId).text():i.settings.content?e=i.settings.content:i.settings.useTitle===!0?e=n:"string"==typeof o.data("tipso")&&(e=o.data("tipso")),null!==i.settings.templateEngineFunc&&(e=i.settings.templateEngineFunc(e)),e},update:function(t,e){var o=this;return e?void(o.settings[t]=e):o.settings[t]}});var r=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(""===t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}();t[a]=t.fn[a]=function(o){var i=arguments;if(void 0===o||"object"==typeof o)return this instanceof t||t.extend(s,o),this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new e(this,o))});if("string"==typeof o&&"_"!==o[0]&&"init"!==o){var n;return this.each(function(){var s=t.data(this,"plugin_"+a);s||(s=t.data(this,"plugin_"+a,new e(this,o))),s instanceof e&&"function"==typeof s[o]&&(n=s[o].apply(s,Array.prototype.slice.call(i,1))),"destroy"===o&&t.data(this,"plugin_"+a,null)}),void 0!==n?n:this}}});var notification=function(){function t(){p=!0,u=$(".notification_box"),u.length>0||($("body").append("<div class='notification_box'></div>"),u=$(".notification_box"),u.on("click",".notify_control",e),u.on("click",".notify_close",e),u.on("click",o))}function e(){$("html").removeClass("show_notifi"),$(".notification_box .notify_content").html("")}function o(t){var o=t.target||t.srcElement;"notification_box"==o.className&&e()}function i(e){e||(e={}),e=objects(m,e),p||t(),notyfy_class="notify_box ",e.notyfy_class&&(notyfy_class+=e.notyfy_class),box_html='<div class="'+notyfy_class+'">',box_html+='<div class="notify_title">',box_html+=e.title,box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=e.question,box_html+="</div>",(e.buttonYes||e.buttonNo)&&(box_html+='<div class="notify_control">',e.buttonYes&&(box_html+="<"+e.buttonTag+' class="notify_btn_yes" '+e.buttonYesDop+">"+e.buttonYes+"</"+e.buttonTag+">"),e.buttonNo&&(box_html+="<"+e.buttonTag+' class="notify_btn_no" '+e.buttonNoDop+">"+e.buttonNo+"</"+e.buttonTag+">"),box_html+="</div>"),box_html+="</div>",u.html(box_html),setTimeout(function(){$("html").addClass("show_notifi")},100)}function n(e){e||(e={}),e=objects(f,e),p||t(),box_html='<div class="notify_box">',box_html+='<div class="notify_title">',box_html+=e.title,box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=e.question,box_html+="</div>",(e.buttonYes||e.buttonNo)&&(box_html+='<div class="notify_control">',e.buttonYes&&(box_html+='<div class="notify_btn_yes">'+e.buttonYes+"</div>"),e.buttonNo&&(box_html+='<div class="notify_btn_no">'+e.buttonNo+"</div>"),box_html+="</div>"),box_html+="</div>",u.html(box_html),0!=e.callbackYes&&u.find(".notify_btn_yes").on("click",e.callbackYes.bind(e.obj)),0!=e.callbackNo&&u.find(".notify_btn_no").on("click",e.callbackNo.bind(e.obj)),setTimeout(function(){$("html").addClass("show_notifi")},100)}function a(t){t||(t={});var e={time:t.time||0===t.time?t.time:c};s||(s=$("<ul/>",{"class":"notification_container"}),$("body").append(s),v());var o=$("<li/>",{"class":"notification_item"});t.type&&o.addClass("notification_item-"+t.type);var i=$("<span/>",{"class":"notification_close"});e.close=i,o.append(i);var n=$("<div/>",{"class":"notification_content"});if(t.title&&t.title.length>0){var a=$("<h5/>",{"class":"notification_title"});a.html(t.title),n.append(a)}var r=$("<div/>",{"class":"notification_text"});if(r.html(t.message),t.img&&t.img.length>0){var l=$("<div/>",{"class":"notification_img"});l.css("background-image","url("+t.img+")");var d=$("<div/>",{"class":"wrap"});d.append(l),d.append(r),n.append(d)}else n.append(r);o.append(n),s.append(o),e.time>0&&(e.timer=setTimeout(b.bind(i),e.time)),o.data("option",e)}var s,r=0,l=null,d="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c=1e4,u=!1,p=!1,f={title:"Удаление",question:"Вы действительно хотите удалить?",buttonYes:"Да",buttonNo:"Нет",callbackYes:!1,callbackNo:!1,obj:!1,buttonTag:"div",buttonYesDop:"",buttonNoDop:""},m={title:"",question:"Сообщение",buttonYes:"Да",callbackYes:!1,buttonTag:"div",obj:!1},v=function(){$("body").on("click",".notification_close",b),$("body").on("mouseenter",".notification_container",h),$("body").on("mouseleave",".notification_container",g)},h=function(t){t&&t.preventDefault(),null!=l&&(clearTimeout(l),l=null),s.find(".notification_item").each(function(t){var e=$(this).data("option");e.timer&&clearTimeout(e.timer)}),r=1},g=function(){s.find(".notification_item").each(function(t){$this=$(this);var e=$this.data("option");e.time>0&&(e.timer=setTimeout(b.bind(e.close),e.time-1500+100*t),$this.data("option",e))}),r=0},b=function(t){t&&t.preventDefault();var e=$(this).parent();e.on(d,function(){$(this).remove()}),e.addClass("notification_hide")};return{alert:i,confirm:n,notifi:a}}();$("[ref=popup]").on("click",function(t){t.preventDefault(),$this=$(this),el=$($this.attr("href")),data=el.data(),data.question=el.html(),notification.alert(data)}),function(){$("body").on("click",".modals_open",function(t){t.preventDefault(),$(".header").removeClass("header_open-menu");var e=$("a[href='#showpromocode-noregister']").data("popup");return e?e.close():(e=$("div.popup_cont, div.popup_back"),e&&e.hide()),href=this.href.split("#"),href=href[href.length-1],data={buttonYes:!1,notyfy_class:"loading "+(0===href.indexOf("video")?"modals-full_screen":"notify_white"),question:""},notification.alert(data),$.get("/"+href,function(t){$(".notify_box").removeClass("loading"),$(".notify_box .notify_content").html(t.html),ajaxForm($(".notify_box .notify_content"))},"json"),!1})}(),$(".footer-menu-title").on("click",function(t){$this=$(this),$this.hasClass("footer-menu-title_open")?$this.removeClass("footer-menu-title_open"):($(".footer-menu-title_open").removeClass("footer-menu-title_open"),$this.addClass("footer-menu-title_open"))}),$(function(){function t(t){var e=$(".rating-wrapper .rating-star");e.addClass("rating-star-open");for(var o=0;o<t;o++)e.eq(o).removeClass("rating-star-open")}$(document).on("mouseover",".rating-wrapper .rating-star",function(e){t($(this).index()+1)}).on("mouseleave",".rating-wrapper",function(e){t($('.notify_content input[name="Reviews[rating]"]').val())}).on("click",".rating-wrapper .rating-star",function(e){t($(this).index()+1),$('.notify_content input[name="Reviews[rating]"]').val($(this).index()+1)})}),function(){var t=$(".header-logo_noty");1!=t.length&&$.get("/account/notification",function(e){if(e.notifications&&0!=e.notifications.length){var o='<div class=header-noty-box><ul class="header-noty-list">';t.find("a").removeAttr("href");for(var i=!1,n=0;n<e.notifications.length;n++){el=e.notifications[n];var a=1==el.is_viewed;o+='<li class="header-noty-item'+(a?" header-noty-item_new":"")+'">',o+="<div class=header-noty-data>"+el.data+"</div>",o+="<div class=header-noty-text>"+el.text+"</div>",o+="</li>",i=i||a}o+="</ul>",o+='<a class="btn" href="/account/notification">'+e.btn+"</a>",o+="</div>",$(".header").append(o),i&&t.addClass("tooltip").addClass("has-noty"),t.on("click",function(t){return t.preventDefault(),$(".header-noty-box").hasClass("header-noty-box_open")?($(".header-noty-box").removeClass("header-noty-box_open"),$("html").removeClass("no_scrol_laptop_min")):($(".header-noty-box").addClass("header-noty-box_open"),$("html").addClass("no_scrol_laptop_min"),$(this).hasClass("has-noty")&&$.post("/account/notification",function(){$(".header-logo_noty").removeClass("tooltip").removeClass("has-noty")})),!1}),$(".header-noty-box").on("click",function(t){$(".header-noty-box").removeClass("header-noty-box_open"),$("html").removeClass("no_scrol_laptop_min")}),$(".header-noty-list").on("click",function(t){return t.preventDefault(),!1})}},"json")}();var slider=function(){$(".flexslider").flexslider({animation:"slide",slideshowSpeed:1e4,animationDuration:400,pauseOnHover:!0})}();$(document).ready(function(){$(".shops .favorite-link").on("click",function(t){t.preventDefault();var e=$(this),o=e.attr("data-state"),i=e.attr("data-affiliate-id");return e.hasClass("disabled")?null:(e.addClass("disabled"),void $.post("/account/favorites",{type:o,affiliate_id:i},function(t){return e.removeClass("disabled"),t.error?(e.find("svg").removeClass("spin"),void notification.notifi({message:t.error,type:"err",title:!!t.title&&t.title})):(notification.notifi({message:t.msg,type:"success",title:!!t.title&&t.title}),"add"==o&&e.find(".item_icon").addClass("svg-no-fill"),e.attr({"data-state":t["data-state"],"data-original-title":t["data-original-title"]}),void("add"==o?e.find("svg").removeClass("spin svg-no-fill"):"delete"==o&&e.find("svg").removeClass("spin").addClass("svg-no-fill")))},"json").item_iconil(function(){e.removeClass("disabled"),notification.notifi({message:"<b>Технические работы!</b><br>В данный момент времени произведённое действие невозможно. Попробуйте позже. Приносим свои извинения за неудобство.",type:"err"}),"add"==o&&e.find("svg").addClass("svg-no-fill"),e.find("svg").removeClass("spin")}))})});var headerActions=function(){var t=!1,e=!1;$(".menu-toggle").click(function(t){t.preventDefault(),$(".header").toggleClass("header_open-menu"),$(".drop-menu").find("li").removeClass("open").removeClass("close"),$(".header").hasClass("header_open-menu")&&$(".header").removeClass("header-search-open")}),$(".search-toggle").click(function(t){t.preventDefault(),$(".header").toggleClass("header-search-open"),$("#autocomplete").fadeOut(),$(".header").hasClass("header-search-open")&&$(".header").removeClass("header_open-menu")}),$("#header").click(function(t){"header"==t.target.id&&($(this).removeClass("header_open-menu"),$(this).removeClass("header-search-open"))}),$(".header-search_form-button").click(function(t){t.preventDefault(),$(this).closest("form").submit()}),$(".header-secondline_close").click(function(t){$(".header").removeClass("header_open-menu")}),$(".header-upline").on("mouseover",function(e){$(".header-secondline").removeClass("scroll-down"),t=!1}),$(".tooltip").tipso({background:"#4A4A4A",size:"small",delay:100,speed:100,onBeforeShow:function(t,e){this.content=t.data("tooltip")}}),$("[data-toggle=tooltip]").tipso({background:"#4A4A4A",size:"small",delay:100,speed:100,onBeforeShow:function(t,e){this.content=t.data("original-title")}}),$(window).on("load resize scroll",function(){var o=50,i=200,n=$(".header-secondline"),a=n.find(":hover"),s=$(".header");if(a.length)n.addClass("scrollable"),s.addClass("scrollable");else{n.removeClass("scrollable"),s.removeClass("scrollable");var r=$(window).scrollTop();r>o&&e===!1&&(e=!0,n.addClass("shadowed")),r<=o&&e===!0&&(e=!1,n.removeClass("shadowed")),r>i&&t===!1&&(t=!0,n.addClass("scroll-down")),r<=i&&t===!0&&(t=!1,n.removeClass("scroll-down"))}}),$(".menu_angle-down").click(function(t){t.preventDefault();var e=$(this).closest(".drop-menu_group__up, .menu-group"),o=$(this).closest(".drop-menu");return o&&$(o).siblings("ul").find("li").removeClass("open"),e&&($(e).siblings("li").removeClass("open"),$(e).toggleClass("open"),e.hasClass("open")?($(e).removeClass("close"),$(e).siblings("li").addClass("close"),o&&$(o).siblings("ul").children("li").addClass("close")):($(e).siblings("li").removeClass("close"),o&&$(o).siblings("ul").children("li").removeClass("close"))),!1});var o=null;$(".account-menu-toggle").click(function(t){t.preventDefault();var e=$(".account-menu");e&&(clearTimeout(o),e.toggleClass("hidden"),e.hasClass("hidden")||(o=setTimeout(function(){e.addClass("hidden")},7e3)))}),$(".header-search_form-input").on("input",function(t){t.preventDefault();var e=$(this).val(),o=$("#autocomplete"),i=$(o).find("ul");return e.length>1?$.ajax({url:"/search",type:"get",data:{query:e},dataType:"json",success:function(t){t.suggestions&&(o&&$(i).html(""),t.suggestions.length?(t.suggestions.forEach(function(t){var e='<a href="/stores/'+t.data.route+'">'+t.value+t.cashback+"</a>",o=document.createElement("li");o.innerHTML=e,i&&$(i).append(o)}),o&&$(o).fadeIn()):o&&$(o).fadeOut())}}):o&&($(i).html(""),$(o).fadeOut()),!1}).on("focusout",function(){$("#autocomplete").hide()})}();