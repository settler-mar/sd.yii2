function ajaxForm(t){function e(t){var e=this;form=e.form,wrap=e.wrap,t.render?(t.notyfy_class="notify_white",notification.alert(t)):(wrap.removeClass("loading"),wrap.html(t.html),ajaxForm(wrap))}function n(){var t=this;form=t.form,wrap=t.wrap,wrap.removeClass("loading"),wrap.html("Ошибка обработки формы попробуйте позже"),ajaxForm(wrap)}function o(t){t.preventDefault();var o=this;if(form=o.form,wrap=o.wrap,form.yiiActiveForm&&form.yiiActiveForm("validate"),isValid=0==form.find(o.param.error_class).length,!isValid)return!1;for(required=form.find("input.required"),s=0;s<required.length;s++)if(required.eq(s).val().length<1)return!1;form.serializeObject||addSRO();var i=form.serializeObject();return form.addClass("loading"),form.html(""),$.post(o.url,i,e.bind(o),"json").fail(n.bind(o)),!1}var i=(!!(window.File&&window.FileReader&&window.FileList&&window.Blob),{error_class:".has-error"});t.find("[required]").addClass("required").removeAttr("required");for(var s=0;s<t.length;s++)wrap=t.eq(s),form=wrap.find("form"),data={form:form,param:i,wrap:wrap},data.url=form.attr("action")||location.href,data.method=form.attr("method")||"post",form.off("submit"),form.on("submit",o.bind(data))}function addSRO(){$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}}!function(){function t(){}function e(t){return s.retinaImageSuffix+t}function n(t,n){if(this.path=t||"","undefined"!=typeof n&&null!==n)this.at_2x_path=n,this.perform_check=!1;else{if(void 0!==document.createElement){var o=document.createElement("a");o.href=this.path,o.pathname=o.pathname.replace(a,e),this.at_2x_path=o.href}else{var i=this.path.split("?");i[0]=i[0].replace(a,e),this.at_2x_path=i.join("?")}this.perform_check=!0}}function o(t){this.el=t,this.path=new n(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var e=this;this.path.check_2x_variant(function(t){t&&e.swap()})}var i="undefined"==typeof exports?window:exports,s={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};i.Retina=t,t.configure=function(t){null===t&&(t={});for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e])},t.init=function(t){null===t&&(t=i);var e=t.onload||function(){};t.onload=function(){var t,n,i=document.getElementsByTagName("img"),s=[];for(t=0;t<i.length;t+=1)n=i[t],n.getAttributeNode("data-no-retina")||s.push(new o(n));e()}},t.isRetina=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return i.devicePixelRatio>1||!(!i.matchMedia||!i.matchMedia(t).matches)};var a=/\.\w+$/;i.RetinaImagePath=n,n.confirmed_paths=[],n.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},n.prototype.check_2x_variant=function(t){var e,o=this;return this.is_external()?t(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in n.confirmed_paths?t(!0):(e=new XMLHttpRequest,e.open("HEAD",this.at_2x_path),e.onreadystatechange=function(){if(4!==e.readyState)return t(!1);if(e.status>=200&&e.status<=399){if(s.check_mime_type){var i=e.getResponseHeader("Content-Type");if(null===i||!i.match(/^image/i))return t(!1)}return n.confirmed_paths.push(o.at_2x_path),t(!0)}return t(!1)},e.send(),void 0):t(!0)},i.RetinaImage=o,o.prototype.swap=function(t){function e(){n.el.complete?(s.force_original_dimensions&&(n.el.setAttribute("width",n.el.offsetWidth),n.el.setAttribute("height",n.el.offsetHeight)),n.el.setAttribute("src",t)):setTimeout(e,5)}"undefined"==typeof t&&(t=this.path.at_2x_path);var n=this;e()},t.isRetina()&&t.init(i)}(),function(t,e,n,o){var i=n("html"),s=n(t),a=n(e),r=n.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=e.createTouch!==o,u=function(t){return t&&t.hasOwnProperty&&t instanceof n},p=function(t){return t&&"string"===n.type(t)},h=function(t){return p(t)&&0<t.indexOf("%")},f=function(t,e){var n=parseInt(t,10)||0;return e&&h(t)&&(n*=r.getViewport()[e]/100),Math.ceil(n)},m=function(t,e){return f(t,e)+"px"};n.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(n.isPlainObject(e)||(e={}),!1!==r.close(!0)))return n.isArray(t)||(t=u(t)?n(t).get():[t]),n.each(t,function(i,s){var a,l,c,d,h,f={};"object"===n.type(s)&&(s.nodeType&&(s=n(s)),u(s)?(f={href:s.data("fancybox-href")||s.attr("href"),title:s.data("fancybox-title")||s.attr("title"),isDom:!0,element:s},n.metadata&&n.extend(!0,f,s.metadata())):f=s),a=e.href||f.href||(p(s)?s:null),l=e.title!==o?e.title:f.title||"",d=(c=e.content||f.content)?"html":e.type||f.type,!d&&f.isDom&&(d=s.data("fancybox-type"),d||(d=(d=s.prop("class").match(/fancybox\.(\w+)/))?d[1]:null)),p(a)&&(d||(r.isImage(a)?d="image":r.isSWF(a)?d="swf":"#"===a.charAt(0)?d="inline":p(s)&&(d="html",c=s)),"ajax"===d&&(h=a.split(/\s+/,2),a=h.shift(),h=h.shift())),c||("inline"===d?a?c=n(p(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):f.isDom&&(c=s):"html"===d?c=a:!d&&!a&&f.isDom&&(d="inline",c=s)),n.extend(f,{href:a,type:d,content:c,title:l,selector:h}),t[i]=f}),r.opts=n.extend(!0,{},r.defaults,e),e.keys!==o&&(r.opts.keys=!!e.keys&&n.extend({},r.defaults.keys,e.keys)),r.group=t,r._start(r.opts.index)},cancel:function(){var t=r.coming;t&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(t))},close:function(t){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&!0!==t?(r.isOpen=r.isOpened=!1,r.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(r.player.timer)},n=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},o=function(){e(),a.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};!0===t||!r.player.isActive&&!1!==t?r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,a.bind({"onCancel.player beforeClose.player":o,"onUpdate.player":n,"beforeLoad.player":e}),n(),r.trigger("onPlayStart")):o()},next:function(t){var e=r.current;e&&(p(t)||(t=e.direction.next),r.jumpto(e.index+1,t,"next"))},prev:function(t){var e=r.current;e&&(p(t)||(t=e.direction.prev),r.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var i=r.current;i&&(t=f(t),r.direction=e||i.direction[t>=i.index?"next":"prev"],r.router=n||"jumpto",i.loop&&(0>t&&(t=i.group.length+t%i.group.length),t%=i.group.length),i.group[t]!==o&&(r.cancel(),r._start(t)))},reposition:function(t,e){var o,i=r.current,s=i?i.wrap:null;s&&(o=r._getPosition(e),t&&"scroll"===t.type?(delete o.position,s.stop(!0,!0).animate(o,200)):(s.css(o),i.pos=n.extend({},i.dim,o)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var o=r.current;o&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&o.autoResize)&&r._setDimension(),"scroll"===e&&o.canShrink||r.reposition(t),r.trigger("onUpdate"),c=null)},n&&!d?0:300))},toggle:function(t){r.isOpen&&(r.current.fitToView="boolean"===n.type(t)?t:!r.current.fitToView,d&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){a.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var t,e;r.hideLoading(),t=n('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),a.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),r.cancel())}),r.defaults.fixed||(e=r.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=r.current&&r.current.locked||!1,n={x:s.scrollLeft(),y:s.scrollTop()};return e?(n.w=e[0].clientWidth,n.h=e[0].clientHeight):(n.w=d&&t.innerWidth?t.innerWidth:s.width(),n.h=d&&t.innerHeight?t.innerHeight:s.height()),n},unbindEvents:function(){r.wrap&&u(r.wrap)&&r.wrap.unbind(".fb"),a.unbind(".fb"),s.unbind(".fb")},bindEvents:function(){var t,e=r.current;e&&(s.bind("orientationchange.fb"+(d?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),r.update),(t=e.keys)&&a.bind("keydown.fb",function(i){var s=i.which||i.keyCode,a=i.target||i.srcElement;return(27!==s||!r.coming)&&void(!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&(!a||!a.type&&!n(a).is("[contenteditable]"))&&n.each(t,function(t,a){return 1<e.group.length&&a[s]!==o?(r[t](a[s]),i.preventDefault(),!1):-1<n.inArray(s,a)?(r[t](),i.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&e.mouseWheel&&r.wrap.bind("mousewheel.fb",function(t,o,i,s){for(var a=n(t.target||null),l=!1;a.length&&!l&&!a.is(".fancybox-skin")&&!a.is(".fancybox-wrap");)l=a[0]&&!(a[0].style.overflow&&"hidden"===a[0].style.overflow)&&(a[0].clientWidth&&a[0].scrollWidth>a[0].clientWidth||a[0].clientHeight&&a[0].scrollHeight>a[0].clientHeight),a=n(a).parent();0!==o&&!l&&1<r.group.length&&!e.canShrink&&(0<s||0<i?r.prev(0<s?"down":"left"):(0>s||0>i)&&r.next(0>s?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var o,i=e||r.coming||r.current;if(i){if(n.isFunction(i[t])&&(o=i[t].apply(i,Array.prototype.slice.call(arguments,1))),!1===o)return!1;i.helpers&&n.each(i.helpers,function(e,o){o&&r.helpers[e]&&n.isFunction(r.helpers[e][t])&&r.helpers[e][t](n.extend(!0,{},r.helpers[e].defaults,o),i)}),a.trigger(t)}},isImage:function(t){return p(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return p(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,o,i={};if(t=f(t),e=r.group[t]||null,!e)return!1;if(i=n.extend(!0,{},r.opts,e),e=i.margin,o=i.padding,"number"===n.type(e)&&(i.margin=[e,e,e,e]),"number"===n.type(o)&&(i.padding=[o,o,o,o]),i.modal&&n.extend(!0,i,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),i.autoSize&&(i.autoWidth=i.autoHeight=!0),"auto"===i.width&&(i.autoWidth=!0),"auto"===i.height&&(i.autoHeight=!0),i.group=r.group,i.index=t,r.coming=i,!1===r.trigger("beforeLoad"))r.coming=null;else{if(o=i.type,e=i.href,!o)return r.coming=null,!(!r.current||!r.router||"jumpto"===r.router)&&(r.current.index=t,r[r.router](r.direction));if(r.isActive=!0,"image"!==o&&"swf"!==o||(i.autoHeight=i.autoWidth=!1,i.scrolling="visible"),"image"===o&&(i.aspectRatio=!0),"iframe"===o&&d&&(i.scrolling="scroll"),i.wrap=n(i.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+i.wrapCSS).appendTo(i.parent||"body"),n.extend(i,{skin:n(".fancybox-skin",i.wrap),outer:n(".fancybox-outer",i.wrap),inner:n(".fancybox-inner",i.wrap)}),n.each(["Top","Right","Bottom","Left"],function(t,e){i.skin.css("padding"+e,m(i.padding[t]))}),r.trigger("onReady"),"inline"===o||"html"===o){if(!i.content||!i.content.length)return r._error("content")}else if(!e)return r._error("href");"image"===o?r._loadImage():"ajax"===o?r._loadAjax():"iframe"===o?r._loadIframe():r._afterLoad()}},_error:function(t){n.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},t.src=r.coming.href,!0!==t.complete&&r.showLoading()},_loadAjax:function(){var t=r.coming;r.showLoading(),r.ajaxLoad=n.ajax(n.extend({},t.ajax,{url:t.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,r._afterLoad())}}))},_loadIframe:function(){var t=r.coming,e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":t.iframe.scrolling).attr("src",t.href);n(t.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(r.showLoading(),e.one("load",function(){n(this).data("ready",1),d||n(this).bind("load.fb",r.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||r._afterLoad()},_preloadImages:function(){var t,e,n=r.group,o=r.current,i=n.length,s=o.preload?Math.min(o.preload,i-1):0;for(e=1;e<=s;e+=1)t=n[(o.index+e)%i],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,o,i,s,a=r.coming,l=r.current;if(r.hideLoading(),a&&!1!==r.isActive)if(!1===r.trigger("afterLoad",a,l))a.wrap.stop(!0).trigger("onReset").remove(),r.coming=null;else{switch(l&&(r.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),t=a.content,e=a.type,o=a.scrolling,n.extend(r,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:l}),i=a.href,e){case"inline":case"ajax":case"html":a.selector?t=n("<div>").html(t).find(a.selector):u(t)&&(t.data("fancybox-placeholder")||t.data("fancybox-placeholder",n('<div class="fancybox-placeholder"></div>').insertAfter(t).hide()),t=t.show().detach(),a.wrap.bind("onReset",function(){n(this).find(t).length&&t.hide().replaceAll(t.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":t=a.tpl.image.replace("{href}",i);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+i+'"></param>',s="",n.each(a.swf,function(e,n){t+='<param name="'+e+'" value="'+n+'"></param>',s+=" "+e+'="'+n+'"'}),t+='<embed src="'+i+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}(!u(t)||!t.parent().is(a.inner))&&a.inner.append(t),r.trigger("beforeShow"),a.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?l.prevMethod&&r.transitions[l.prevMethod]():n(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?a.nextMethod:a.openMethod](),r._preloadImages()}},_setDimension:function(){var t,e,o,i,s,a,l,c,d,u=r.getViewport(),p=0,g=!1,v=!1,g=r.wrap,y=r.skin,b=r.inner,w=r.current,v=w.width,x=w.height,_=w.minWidth,C=w.minHeight,k=w.maxWidth,S=w.maxHeight,$=w.scrolling,T=w.scrollOutside?w.scrollbarWidth:0,A=w.margin,R=f(A[1]+A[3]),D=f(A[0]+A[2]);if(g.add(y).add(b).width("auto").height("auto").removeClass("fancybox-tmp"),A=f(y.outerWidth(!0)-y.width()),t=f(y.outerHeight(!0)-y.height()),e=R+A,o=D+t,i=h(v)?(u.w-e)*f(v)/100:v,s=h(x)?(u.h-o)*f(x)/100:x,"iframe"===w.type){if(d=w.content,w.autoHeight&&1===d.data("ready"))try{d[0].contentWindow.document.location&&(b.width(i).height(9999),a=d.contents().find("body"),T&&a.css("overflow-x","hidden"),s=a.outerHeight(!0))}catch(M){}}else(w.autoWidth||w.autoHeight)&&(b.addClass("fancybox-tmp"),w.autoWidth||b.width(i),w.autoHeight||b.height(s),w.autoWidth&&(i=b.width()),w.autoHeight&&(s=b.height()),b.removeClass("fancybox-tmp"));if(v=f(i),x=f(s),c=i/s,_=f(h(_)?f(_,"w")-e:_),k=f(h(k)?f(k,"w")-e:k),C=f(h(C)?f(C,"h")-o:C),S=f(h(S)?f(S,"h")-o:S),a=k,l=S,w.fitToView&&(k=Math.min(u.w-e,k),S=Math.min(u.h-o,S)),e=u.w-R,D=u.h-D,w.aspectRatio?(v>k&&(v=k,x=f(v/c)),x>S&&(x=S,v=f(x*c)),v<_&&(v=_,x=f(v/c)),x<C&&(x=C,v=f(x*c))):(v=Math.max(_,Math.min(v,k)),w.autoHeight&&"iframe"!==w.type&&(b.width(v),x=b.height()),x=Math.max(C,Math.min(x,S))),w.fitToView)if(b.width(v).height(x),g.width(v+A),u=g.width(),R=g.height(),w.aspectRatio)for(;(u>e||R>D)&&v>_&&x>C&&!(19<p++);)x=Math.max(C,Math.min(S,x-10)),v=f(x*c),v<_&&(v=_,x=f(v/c)),v>k&&(v=k,x=f(v/c)),b.width(v).height(x),g.width(v+A),u=g.width(),R=g.height();else v=Math.max(_,Math.min(v,v-(u-e))),x=Math.max(C,Math.min(x,x-(R-D)));T&&"auto"===$&&x<s&&v+A+T<e&&(v+=T),b.width(v).height(x),g.width(v+A),u=g.width(),R=g.height(),g=(u>e||R>D)&&v>_&&x>C,v=w.aspectRatio?v<a&&x<l&&v<i&&x<s:(v<a||x<l)&&(v<i||x<s),n.extend(w,{dim:{width:m(u),height:m(R)},origWidth:i,origHeight:s,canShrink:g,canExpand:v,wPadding:A,hPadding:t,wrapSpace:R-y.outerHeight(!0),skinSpace:y.height()-x}),!d&&w.autoHeight&&x>C&&x<S&&!v&&b.height("auto")},_getPosition:function(t){var e=r.current,n=r.getViewport(),o=e.margin,i=r.wrap.width()+o[1]+o[3],s=r.wrap.height()+o[0]+o[2],o={position:"absolute",top:o[0],left:o[3]};return e.autoCenter&&e.fixed&&!t&&s<=n.h&&i<=n.w?o.position="fixed":e.locked||(o.top+=n.y,o.left+=n.x),o.top=m(Math.max(o.top,o.top+(n.h-s)*e.topRatio)),o.left=m(Math.max(o.left,o.left+(n.w-i)*e.leftRatio)),o},_afterZoomIn:function(){var t=r.current;t&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(t.closeClick||t.nextClick&&1<r.group.length)&&r.inner.css("cursor","pointer").bind("click.fb",function(e){!n(e.target).is("a")&&!n(e.target).parent().is("a")&&(e.preventDefault(),r[t.closeClick?"close":"next"]())}),t.closeBtn&&n(t.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault(),r.close()}),t.arrows&&1<r.group.length&&((t.loop||0<t.index)&&n(t.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(t.loop||t.index<r.group.length-1)&&n(t.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),t.loop||t.index!==t.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(t){t=t||r.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",t)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,n=t.orig,o={},i=50,s=50,a=t.hPadding,l=t.wPadding,c=r.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),u(n)?(o=n.offset(),n.is("img")&&(i=n.outerWidth(),s=n.outerHeight())):(o.top=c.y+(c.h-s)*t.topRatio,o.left=c.x+(c.w-i)*t.leftRatio),("fixed"===r.wrap.css("position")||t.locked)&&(o.top-=c.y,o.left-=c.x),o={top:m(o.top-a*t.topRatio),left:m(o.left-l*t.leftRatio),width:m(i+l),height:m(s+a)}},step:function(t,e){var n,o,i=e.prop;o=r.current;var s=o.wrapSpace,a=o.skinSpace;"width"!==i&&"height"!==i||(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),r.isClosing&&(n=1-n),o="width"===i?o.wPadding:o.hPadding,o=t-o,r.skin[i](f("width"===i?o:o-s*n)),r.inner[i](f("width"===i?o:o-s*n-a*n)))},zoomIn:function(){var t=r.current,e=t.pos,o=t.openEffect,i="elastic"===o,s=n.extend({opacity:1},e);delete s.position,i?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===o&&(e.opacity=.1),r.wrap.css(e).animate(s,{duration:"none"===o?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.current,e=t.closeEffect,n="elastic"===e,o={opacity:.1};n&&(o=this.getOrigPosition(),t.closeOpacity&&(o.opacity=.1)),r.wrap.animate(o,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t,e=r.current,n=e.nextEffect,o=e.pos,i={opacity:1},s=r.direction;o.opacity=.1,"elastic"===n&&(t="down"===s||"up"===s?"top":"left","down"===s||"right"===s?(o[t]=m(f(o[t])-200),i[t]="+=200px"):(o[t]=m(f(o[t])+200),i[t]="-=200px")),"none"===n?r._afterZoomIn():r.wrap.css(o).animate(i,{duration:e.nextSpeed,easing:e.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var t=r.previous,e=t.prevEffect,o={opacity:.1},i=r.direction;"elastic"===e&&(o["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"=200px"),t.wrap.animate(o,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(t){t=n.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:t.parent),this.fixed=!1,t.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=n.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(s.bind("resize.overlay",n.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(n(t.target).hasClass("fancybox-overlay"))return r.isActive?r.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){var t,e;s.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),t=s.scrollTop(),e=s.scrollLeft(),this.el.removeClass("fancybox-lock"),s.scrollTop(t).scrollLeft(e)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var t,n="100%";this.overlay.width(n).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),a.width()>t&&(n=a.width())):a.width()>s.width()&&(n=a.width()),this.overlay.width(n).height(a.height())},onReady:function(t,e){var o=this.overlay;n(".fancybox-overlay").stop(!0,!0),o||this.create(t),t.locked&&this.fixed&&e.fixed&&(o||(this.margin=a.height()>s.height()&&n("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var o,i;e.locked&&(!1!==this.margin&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),o=s.scrollTop(),i=s.scrollLeft(),this.el.addClass("fancybox-lock"),s.scrollTop(o).scrollLeft(i)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!r.coming&&this.overlay.fadeOut(t.speedOut,n.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=r.current,o=e.title,i=t.type;if(n.isFunction(o)&&(o=o.call(e.element,e)),p(o)&&""!==n.trim(o)){switch(e=n('<div class="fancybox-title fancybox-title-'+i+'-wrap">'+o+"</div>"),i){case"inside":i=r.skin;break;case"outside":i=r.wrap;break;case"over":i=r.inner;break;default:i=r.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(f(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](i)}}},n.fn.fancybox=function(t){var e,o=n(this),i=this.selector||"",s=function(s){var a,l,c=n(this).blur(),d=e;!s.ctrlKey&&!s.altKey&&!s.shiftKey&&!s.metaKey&&!c.is(".fancybox-wrap")&&(a=t.groupAttr||"data-fancybox-group",l=c.attr(a),l||(a="rel",l=c.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(c=i.length?n(i):o,c=c.filter("["+a+'="'+l+'"]'),d=c.index(this)),t.index=d,!1!==r.open(c,t)&&s.preventDefault())};return t=t||{},e=t.index||0,i&&!1!==t.live?a.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):o.unbind("click.fb-start").bind("click.fb-start",s),this.filter("[data-fancybox-start=1]").trigger("click"),this},a.ready(function(){var e,s;if(n.scrollbarWidth===o&&(n.scrollbarWidth=function(){var t=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),e=e.innerWidth()-e.height(99).innerWidth();return t.remove(),e}),n.support.fixedPosition===o){e=n.support,s=n('<div style="position:fixed;top:20px;"></div>').appendTo("body");var a=20===s[0].offsetTop||15===s[0].offsetTop;s.remove(),e.fixedPosition=a}n.extend(r.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),e=n(t).width(),i.addClass("fancybox-lock-test"),s=n(t).width(),i.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(s-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery),$(document).ready(function(){$("iframe[src*=insigit]").css("display","none"),$(".wp1").waypoint(function(){$(".wp1").addClass("animated fadeInUp")},{offset:"75%"}),$(".wp2").waypoint(function(){$(".wp2").addClass("animated fadeInUp")},{offset:"75%"}),$(".wp3").waypoint(function(){$(".wp3").addClass("animated fadeInRight")},{offset:"75%"}),$(".wp4").waypoint(function(){$(".wp4").addClass("animated fadeInUp")},{offset:"95%"}),$(".wp5").waypoint(function(){$(".wp5").addClass("animated fadeInUp")},{offset:"93%"}),$(".wp6").waypoint(function(){$(".wp6").addClass("animated fadeInUp")},{offset:"90%"}),$(".flexslider").flexslider({animation:"slide",slideshowSpeed:1e4,animationDuration:400,pauseOnHover:!0}),$(".single_image").fancybox({padding:4}),$(".nav-toggle").click(function(){$(this).toggleClass("active"),$(".header-nav").toggleClass("open"),event.preventDefault()}),$(".header-nav li a").click(function(){$(".nav-toggle").toggleClass("active"),$(".header-nav").toggleClass("open")}),$(function(){var t={control:{fixeds:function(){$("section.navigation").addClass("fixed"),$("section.navigation").removeClass("not-fixed"),$("header").css({"border-bottom":"solid 1px rgba(255, 255, 255, 0)",padding:"10px 0"}),$("header .member-actions").css({top:"17px"}),$("header .navicon").css({top:"23px"})},notfixed:function(){$("section.navigation").removeClass("fixed"),$("section.navigation").addClass("not-fixed"),$("header").css({"border-bottom":"solid 1px rgba(255, 255, 255, 0.2)",padding:"10px 0"}),$("header .member-actions").css({top:"17px"}),$("header .navicon").css({top:"23px"})},init:function(){var t=$(window).scrollTop();t>=20?this.fixeds():this.notfixed()},events:function(){var t=this;t.init(),$(window).scroll(function(){t.init()})}}};t.control.events()}),$(function(){$("a[href*=#]:not([href=#])").click(function(){var t=$(this).attr("href").replace(/#.*$/,"");if(""===t){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top-$(".navigation").height()},1e3),!1}})})}),!function(t){t.flexslider=function(e,n){var o=t(e);o.vars=t.extend({},t.flexslider.defaults,n);var i,s=o.vars.namespace,a=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||a||window.DocumentTouch&&document instanceof DocumentTouch)&&o.vars.touch,l="click touchend MSPointerUp keyup",c="",d="vertical"===o.vars.direction,u=o.vars.reverse,p=o.vars.itemWidth>0,h="fade"===o.vars.animation,f=""!==o.vars.asNavFor,m={},g=!0;t.data(e,"flexslider",o),m={init:function(){o.animating=!1,o.currentSlide=parseInt(o.vars.startAt?o.vars.startAt:0,10),isNaN(o.currentSlide)&&(o.currentSlide=0),o.animatingTo=o.currentSlide,o.atEnd=0===o.currentSlide||o.currentSlide===o.last,o.containerSelector=o.vars.selector.substr(0,o.vars.selector.search(" ")),o.slides=t(o.vars.selector,o),o.container=t(o.containerSelector,o),o.count=o.slides.length,o.syncExists=t(o.vars.sync).length>0,"slide"===o.vars.animation&&(o.vars.animation="swing"),o.prop=d?"top":"marginLeft",o.args={},o.manualPause=!1,o.stopped=!1,o.started=!1,o.startTimeout=null,o.transitions=!o.vars.video&&!h&&o.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in e)if(void 0!==t.style[e[n]])return o.pfx=e[n].replace("Perspective","").toLowerCase(),o.prop="-"+o.pfx+"-transform",!0;return!1}(),o.ensureAnimationEnd="",""!==o.vars.controlsContainer&&(o.controlsContainer=t(o.vars.controlsContainer).length>0&&t(o.vars.controlsContainer)),""!==o.vars.manualControls&&(o.manualControls=t(o.vars.manualControls).length>0&&t(o.vars.manualControls)),""!==o.vars.customDirectionNav&&(o.customDirectionNav=2===t(o.vars.customDirectionNav).length&&t(o.vars.customDirectionNav)),o.vars.randomize&&(o.slides.sort(function(){return Math.round(Math.random())-.5}),o.container.empty().append(o.slides)),o.doMath(),o.setup("init"),o.vars.controlNav&&m.controlNav.setup(),o.vars.directionNav&&m.directionNav.setup(),o.vars.keyboard&&(1===t(o.containerSelector).length||o.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!o.animating&&(39===e||37===e)){var n=39===e?o.getTarget("next"):37===e&&o.getTarget("prev");o.flexAnimate(n,o.vars.pauseOnAction)}}),o.vars.mousewheel&&o.bind("mousewheel",function(t,e,n,i){t.preventDefault();var s=o.getTarget(0>e?"next":"prev");o.flexAnimate(s,o.vars.pauseOnAction)}),o.vars.pausePlay&&m.pausePlay.setup(),o.vars.slideshow&&o.vars.pauseInvisible&&m.pauseInvisible.init(),o.vars.slideshow&&(o.vars.pauseOnHover&&o.hover(function(){o.manualPlay||o.manualPause||o.pause()},function(){o.manualPause||o.manualPlay||o.stopped||o.play()}),o.vars.pauseInvisible&&m.pauseInvisible.isHidden()||(o.vars.initDelay>0?o.startTimeout=setTimeout(o.play,o.vars.initDelay):o.play())),f&&m.asNav.setup(),r&&o.vars.touch&&m.touch(),(!h||h&&o.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",m.resize),o.find("img").attr("draggable","false"),setTimeout(function(){o.vars.start(o)},200)},asNav:{setup:function(){o.asNav=!0,o.animatingTo=Math.floor(o.currentSlide/o.move),o.currentItem=o.currentSlide,o.slides.removeClass(s+"active-slide").eq(o.currentItem).addClass(s+"active-slide"),
a?(e._slider=o,o.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var n=t(this),i=n.index();t(o.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(o.direction=o.currentItem<i?"next":"prev",o.flexAnimate(i,o.vars.pauseOnAction,!1,!0,!0))})})):o.slides.on(l,function(e){e.preventDefault();var n=t(this),i=n.index(),a=n.offset().left-t(o).scrollLeft();0>=a&&n.hasClass(s+"active-slide")?o.flexAnimate(o.getTarget("prev"),!0):t(o.vars.asNavFor).data("flexslider").animating||n.hasClass(s+"active-slide")||(o.direction=o.currentItem<i?"next":"prev",o.flexAnimate(i,o.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){o.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var e,n,i="thumbnails"===o.vars.controlNav?"control-thumbs":"control-paging",a=1;if(o.controlNavScaffold=t('<ol class="'+s+"control-nav "+s+i+'"></ol>'),o.pagingCount>1)for(var r=0;r<o.pagingCount;r++){if(n=o.slides.eq(r),e="thumbnails"===o.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+a+"</a>","thumbnails"===o.vars.controlNav&&!0===o.vars.thumbCaptions){var d=n.attr("data-thumbcaption");""!==d&&void 0!==d&&(e+='<span class="'+s+'caption">'+d+"</span>")}o.controlNavScaffold.append("<li>"+e+"</li>"),a++}o.controlsContainer?t(o.controlsContainer).append(o.controlNavScaffold):o.append(o.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),o.controlNavScaffold.delegate("a, img",l,function(e){if(e.preventDefault(),""===c||c===e.type){var n=t(this),i=o.controlNav.index(n);n.hasClass(s+"active")||(o.direction=i>o.currentSlide?"next":"prev",o.flexAnimate(i,o.vars.pauseOnAction))}""===c&&(c=e.type),m.setToClearWatchedEvent()})},setupManual:function(){o.controlNav=o.manualControls,m.controlNav.active(),o.controlNav.bind(l,function(e){if(e.preventDefault(),""===c||c===e.type){var n=t(this),i=o.controlNav.index(n);n.hasClass(s+"active")||(o.direction=i>o.currentSlide?"next":"prev",o.flexAnimate(i,o.vars.pauseOnAction))}""===c&&(c=e.type),m.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===o.vars.controlNav?"img":"a";o.controlNav=t("."+s+"control-nav li "+e,o.controlsContainer?o.controlsContainer:o)},active:function(){o.controlNav.removeClass(s+"active").eq(o.animatingTo).addClass(s+"active")},update:function(e,n){o.pagingCount>1&&"add"===e?o.controlNavScaffold.append(t("<li><a>"+o.count+"</a></li>")):1===o.pagingCount?o.controlNavScaffold.find("li").remove():o.controlNav.eq(n).closest("li").remove(),m.controlNav.set(),o.pagingCount>1&&o.pagingCount!==o.controlNav.length?o.update(n,e):m.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+s+'direction-nav"><li class="'+s+'nav-prev"><a class="'+s+'prev" href="#">'+o.vars.prevText+'</a></li><li class="'+s+'nav-next"><a class="'+s+'next" href="#">'+o.vars.nextText+"</a></li></ul>");o.customDirectionNav?o.directionNav=o.customDirectionNav:o.controlsContainer?(t(o.controlsContainer).append(e),o.directionNav=t("."+s+"direction-nav li a",o.controlsContainer)):(o.append(e),o.directionNav=t("."+s+"direction-nav li a",o)),m.directionNav.update(),o.directionNav.bind(l,function(e){e.preventDefault();var n;(""===c||c===e.type)&&(n=o.getTarget(t(this).hasClass(s+"next")?"next":"prev"),o.flexAnimate(n,o.vars.pauseOnAction)),""===c&&(c=e.type),m.setToClearWatchedEvent()})},update:function(){var t=s+"disabled";1===o.pagingCount?o.directionNav.addClass(t).attr("tabindex","-1"):o.vars.animationLoop?o.directionNav.removeClass(t).removeAttr("tabindex"):0===o.animatingTo?o.directionNav.removeClass(t).filter("."+s+"prev").addClass(t).attr("tabindex","-1"):o.animatingTo===o.last?o.directionNav.removeClass(t).filter("."+s+"next").addClass(t).attr("tabindex","-1"):o.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+s+'pauseplay"><a></a></div>');o.controlsContainer?(o.controlsContainer.append(e),o.pausePlay=t("."+s+"pauseplay a",o.controlsContainer)):(o.append(e),o.pausePlay=t("."+s+"pauseplay a",o)),m.pausePlay.update(o.vars.slideshow?s+"pause":s+"play"),o.pausePlay.bind(l,function(e){e.preventDefault(),(""===c||c===e.type)&&(t(this).hasClass(s+"pause")?(o.manualPause=!0,o.manualPlay=!1,o.pause()):(o.manualPause=!1,o.manualPlay=!0,o.play())),""===c&&(c=e.type),m.setToClearWatchedEvent()})},update:function(t){"play"===t?o.pausePlay.removeClass(s+"pause").addClass(s+"play").html(o.vars.playText):o.pausePlay.removeClass(s+"play").addClass(s+"pause").html(o.vars.pauseText)}},touch:function(){function t(t){t.stopPropagation(),o.animating?t.preventDefault():(o.pause(),e._gesture.addPointer(t.pointerId),_=0,c=d?o.h:o.w,m=Number(new Date),l=p&&u&&o.animatingTo===o.last?0:p&&u?o.limit-(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo:p&&o.currentSlide===o.last?o.limit:p?(o.itemW+o.vars.itemMargin)*o.move*o.currentSlide:u?(o.last-o.currentSlide+o.cloneOffset)*c:(o.currentSlide+o.cloneOffset)*c)}function n(t){t.stopPropagation();var n=t.target._slider;if(n){var o=-t.translationX,i=-t.translationY;return _+=d?i:o,f=_,b=d?Math.abs(_)<Math.abs(-o):Math.abs(_)<Math.abs(-i),t.detail===t.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){e._gesture.stop()}):void((!b||Number(new Date)-m>500)&&(t.preventDefault(),!h&&n.transitions&&(n.vars.animationLoop||(f=_/(0===n.currentSlide&&0>_||n.currentSlide===n.last&&_>0?Math.abs(_)/c+2:1)),n.setProps(l+f,"setTouch"))))}}function i(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!b&&null!==f){var n=u?-f:f,o=e.getTarget(n>0?"next":"prev");e.canAdvance(o)&&(Number(new Date)-m<550&&Math.abs(n)>50||Math.abs(n)>c/2)?e.flexAnimate(o,e.vars.pauseOnAction):h||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}s=null,r=null,f=null,l=null,_=0}}var s,r,l,c,f,m,g,v,y,b=!1,w=0,x=0,_=0;a?(e.style.msTouchAction="none",e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",t,!1),e._slider=o,e.addEventListener("MSGestureChange",n,!1),e.addEventListener("MSGestureEnd",i,!1)):(g=function(t){o.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(o.pause(),c=d?o.h:o.w,m=Number(new Date),w=t.touches[0].pageX,x=t.touches[0].pageY,l=p&&u&&o.animatingTo===o.last?0:p&&u?o.limit-(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo:p&&o.currentSlide===o.last?o.limit:p?(o.itemW+o.vars.itemMargin)*o.move*o.currentSlide:u?(o.last-o.currentSlide+o.cloneOffset)*c:(o.currentSlide+o.cloneOffset)*c,s=d?x:w,r=d?w:x,e.addEventListener("touchmove",v,!1),e.addEventListener("touchend",y,!1))},v=function(t){w=t.touches[0].pageX,x=t.touches[0].pageY,f=d?s-x:s-w,b=d?Math.abs(f)<Math.abs(w-r):Math.abs(f)<Math.abs(x-r);var e=500;(!b||Number(new Date)-m>e)&&(t.preventDefault(),!h&&o.transitions&&(o.vars.animationLoop||(f/=0===o.currentSlide&&0>f||o.currentSlide===o.last&&f>0?Math.abs(f)/c+2:1),o.setProps(l+f,"setTouch")))},y=function(t){if(e.removeEventListener("touchmove",v,!1),o.animatingTo===o.currentSlide&&!b&&null!==f){var n=u?-f:f,i=o.getTarget(n>0?"next":"prev");o.canAdvance(i)&&(Number(new Date)-m<550&&Math.abs(n)>50||Math.abs(n)>c/2)?o.flexAnimate(i,o.vars.pauseOnAction):h||o.flexAnimate(o.currentSlide,o.vars.pauseOnAction,!0)}e.removeEventListener("touchend",y,!1),s=null,r=null,f=null,l=null},e.addEventListener("touchstart",g,!1))},resize:function(){!o.animating&&o.is(":visible")&&(p||o.doMath(),h?m.smoothHeight():p?(o.slides.width(o.computedW),o.update(o.pagingCount),o.setProps()):d?(o.viewport.height(o.h),o.setProps(o.h,"setTotal")):(o.vars.smoothHeight&&m.smoothHeight(),o.newSlides.width(o.computedW),o.setProps(o.computedW,"setTotal")))},smoothHeight:function(t){if(!d||h){var e=h?o:o.viewport;t?e.animate({height:o.slides.eq(o.animatingTo).height()},t):e.height(o.slides.eq(o.animatingTo).height())}},sync:function(e){var n=t(o.vars.sync).data("flexslider"),i=o.animatingTo;switch(e){case"animate":n.flexAnimate(i,o.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var t=m.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){m.pauseInvisible.isHidden()?o.startTimeout?clearTimeout(o.startTimeout):o.pause():o.started?o.play():o.vars.initDelay>0?setTimeout(o.play,o.vars.initDelay):o.play()})}},isHidden:function(){var t=m.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(i),i=setTimeout(function(){c=""},3e3)}},o.flexAnimate=function(e,n,i,a,l){if(o.vars.animationLoop||e===o.currentSlide||(o.direction=e>o.currentSlide?"next":"prev"),f&&1===o.pagingCount&&(o.direction=o.currentItem<e?"next":"prev"),!o.animating&&(o.canAdvance(e,l)||i)&&o.is(":visible")){if(f&&a){var c=t(o.vars.asNavFor).data("flexslider");if(o.atEnd=0===e||e===o.count-1,c.flexAnimate(e,!0,!1,!0,l),o.direction=o.currentItem<e?"next":"prev",c.direction=o.direction,Math.ceil((e+1)/o.visible)-1===o.currentSlide||0===e)return o.currentItem=e,o.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),!1;o.currentItem=e,o.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),e=Math.floor(e/o.visible)}if(o.animating=!0,o.animatingTo=e,n&&o.pause(),o.vars.before(o),o.syncExists&&!l&&m.sync("animate"),o.vars.controlNav&&m.controlNav.active(),p||o.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),o.atEnd=0===e||e===o.last,o.vars.directionNav&&m.directionNav.update(),e===o.last&&(o.vars.end(o),o.vars.animationLoop||o.pause()),h)r?(o.slides.eq(o.currentSlide).css({opacity:0,zIndex:1}),o.slides.eq(e).css({opacity:1,zIndex:2}),o.wrapup(b)):(o.slides.eq(o.currentSlide).css({zIndex:1}).animate({opacity:0},o.vars.animationSpeed,o.vars.easing),o.slides.eq(e).css({zIndex:2}).animate({opacity:1},o.vars.animationSpeed,o.vars.easing,o.wrapup));else{var g,v,y,b=d?o.slides.filter(":first").height():o.computedW;p?(g=o.vars.itemMargin,y=(o.itemW+g)*o.move*o.animatingTo,v=y>o.limit&&1!==o.visible?o.limit:y):v=0===o.currentSlide&&e===o.count-1&&o.vars.animationLoop&&"next"!==o.direction?u?(o.count+o.cloneOffset)*b:0:o.currentSlide===o.last&&0===e&&o.vars.animationLoop&&"prev"!==o.direction?u?0:(o.count+1)*b:u?(o.count-1-e+o.cloneOffset)*b:(e+o.cloneOffset)*b,o.setProps(v,"",o.vars.animationSpeed),o.transitions?(o.vars.animationLoop&&o.atEnd||(o.animating=!1,o.currentSlide=o.animatingTo),o.container.unbind("webkitTransitionEnd transitionend"),o.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(o.ensureAnimationEnd),o.wrapup(b)}),clearTimeout(o.ensureAnimationEnd),o.ensureAnimationEnd=setTimeout(function(){o.wrapup(b)},o.vars.animationSpeed+100)):o.container.animate(o.args,o.vars.animationSpeed,o.vars.easing,function(){o.wrapup(b)})}o.vars.smoothHeight&&m.smoothHeight(o.vars.animationSpeed)}},o.wrapup=function(t){h||p||(0===o.currentSlide&&o.animatingTo===o.last&&o.vars.animationLoop?o.setProps(t,"jumpEnd"):o.currentSlide===o.last&&0===o.animatingTo&&o.vars.animationLoop&&o.setProps(t,"jumpStart")),o.animating=!1,o.currentSlide=o.animatingTo,o.vars.after(o)},o.animateSlides=function(){!o.animating&&g&&o.flexAnimate(o.getTarget("next"))},o.pause=function(){clearInterval(o.animatedSlides),o.animatedSlides=null,o.playing=!1,o.vars.pausePlay&&m.pausePlay.update("play"),o.syncExists&&m.sync("pause")},o.play=function(){o.playing&&clearInterval(o.animatedSlides),o.animatedSlides=o.animatedSlides||setInterval(o.animateSlides,o.vars.slideshowSpeed),o.started=o.playing=!0,o.vars.pausePlay&&m.pausePlay.update("pause"),o.syncExists&&m.sync("play")},o.stop=function(){o.pause(),o.stopped=!0},o.canAdvance=function(t,e){var n=f?o.pagingCount-1:o.last;return!!e||(!(!f||o.currentItem!==o.count-1||0!==t||"prev"!==o.direction)||(!f||0!==o.currentItem||t!==o.pagingCount-1||"next"===o.direction)&&(!(t===o.currentSlide&&!f)&&(!!o.vars.animationLoop||(!o.atEnd||0!==o.currentSlide||t!==n||"next"===o.direction)&&(!o.atEnd||o.currentSlide!==n||0!==t||"next"!==o.direction))))},o.getTarget=function(t){return o.direction=t,"next"===t?o.currentSlide===o.last?0:o.currentSlide+1:0===o.currentSlide?o.last:o.currentSlide-1},o.setProps=function(t,e,n){var i=function(){var n=t?t:(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo,i=function(){if(p)return"setTouch"===e?t:u&&o.animatingTo===o.last?0:u?o.limit-(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo:o.animatingTo===o.last?o.limit:n;switch(e){case"setTotal":return u?(o.count-1-o.currentSlide+o.cloneOffset)*t:(o.currentSlide+o.cloneOffset)*t;case"setTouch":return u?t:t;case"jumpEnd":return u?t:o.count*t;case"jumpStart":return u?o.count*t:t;default:return t}}();return-1*i+"px"}();o.transitions&&(i=d?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",n=void 0!==n?n/1e3+"s":"0s",o.container.css("-"+o.pfx+"-transition-duration",n),o.container.css("transition-duration",n)),o.args[o.prop]=i,(o.transitions||void 0===n)&&o.container.css(o.args),o.container.css("transform",i)},o.setup=function(e){if(h)o.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(r?o.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+o.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(o.currentSlide).css({opacity:1,zIndex:2}):0==o.vars.fadeFirstSlide?o.slides.css({opacity:0,display:"block",zIndex:1}).eq(o.currentSlide).css({zIndex:2}).css({opacity:1}):o.slides.css({opacity:0,display:"block",zIndex:1}).eq(o.currentSlide).css({zIndex:2}).animate({opacity:1},o.vars.animationSpeed,o.vars.easing)),o.vars.smoothHeight&&m.smoothHeight();else{var n,i;"init"===e&&(o.viewport=t('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(o).append(o.container),o.cloneCount=0,o.cloneOffset=0,u&&(i=t.makeArray(o.slides).reverse(),o.slides=t(i),o.container.empty().append(o.slides))),o.vars.animationLoop&&!p&&(o.cloneCount=2,o.cloneOffset=1,"init"!==e&&o.container.find(".clone").remove(),o.container.append(m.uniqueID(o.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(m.uniqueID(o.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),o.newSlides=t(o.vars.selector,o),n=u?o.count-1-o.currentSlide+o.cloneOffset:o.currentSlide+o.cloneOffset,d&&!p?(o.container.height(200*(o.count+o.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){o.newSlides.css({display:"block"}),o.doMath(),o.viewport.height(o.h),o.setProps(n*o.h,"init")},"init"===e?100:0)):(o.container.width(200*(o.count+o.cloneCount)+"%"),o.setProps(n*o.computedW,"init"),setTimeout(function(){o.doMath(),o.newSlides.css({width:o.computedW,"float":"left",display:"block"}),o.vars.smoothHeight&&m.smoothHeight()},"init"===e?100:0))}p||o.slides.removeClass(s+"active-slide").eq(o.currentSlide).addClass(s+"active-slide"),o.vars.init(o)},o.doMath=function(){var t=o.slides.first(),e=o.vars.itemMargin,n=o.vars.minItems,i=o.vars.maxItems;o.w=void 0===o.viewport?o.width():o.viewport.width(),o.h=t.height(),o.boxPadding=t.outerWidth()-t.width(),p?(o.itemT=o.vars.itemWidth+e,o.minW=n?n*o.itemT:o.w,o.maxW=i?i*o.itemT-e:o.w,o.itemW=o.minW>o.w?(o.w-e*(n-1))/n:o.maxW<o.w?(o.w-e*(i-1))/i:o.vars.itemWidth>o.w?o.w:o.vars.itemWidth,o.visible=Math.floor(o.w/o.itemW),o.move=o.vars.move>0&&o.vars.move<o.visible?o.vars.move:o.visible,o.pagingCount=Math.ceil((o.count-o.visible)/o.move+1),o.last=o.pagingCount-1,o.limit=1===o.pagingCount?0:o.vars.itemWidth>o.w?o.itemW*(o.count-1)+e*(o.count-1):(o.itemW+e)*o.count-o.w-e):(o.itemW=o.w,o.pagingCount=o.count,o.last=o.count-1),o.computedW=o.itemW-o.boxPadding},o.update=function(t,e){o.doMath(),p||(t<o.currentSlide?o.currentSlide+=1:t<=o.currentSlide&&0!==t&&(o.currentSlide-=1),o.animatingTo=o.currentSlide),o.vars.controlNav&&!o.manualControls&&("add"===e&&!p||o.pagingCount>o.controlNav.length?m.controlNav.update("add"):("remove"===e&&!p||o.pagingCount<o.controlNav.length)&&(p&&o.currentSlide>o.last&&(o.currentSlide-=1,o.animatingTo-=1),m.controlNav.update("remove",o.last))),o.vars.directionNav&&m.directionNav.update()},o.addSlide=function(e,n){var i=t(e);o.count+=1,o.last=o.count-1,d&&u?void 0!==n?o.slides.eq(o.count-n).after(i):o.container.prepend(i):void 0!==n?o.slides.eq(n).before(i):o.container.append(i),o.update(n,"add"),o.slides=t(o.vars.selector+":not(.clone)",o),o.setup(),o.vars.added(o)},o.removeSlide=function(e){var n=isNaN(e)?o.slides.index(t(e)):e;o.count-=1,o.last=o.count-1,isNaN(e)?t(e,o.slides).remove():d&&u?o.slides.eq(o.last).remove():o.slides.eq(e).remove(),o.doMath(),o.update(n,"remove"),o.slides=t(o.vars.selector+":not(.clone)",o),o.setup(),o.vars.removed(o)},m.init()},t(window).blur(function(t){focused=!1}).focus(function(t){focused=!0}),t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var n=t(this),o=e.selector?e.selector:".slides > li",i=n.find(o);1===i.length&&e.allowOneSlide===!0||0===i.length?(i.fadeIn(400),e.start&&e.start(n)):void 0===n.data("flexslider")&&new t.flexslider(this,e)});var n=t(this).data("flexslider");switch(e){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof e&&n.flexAnimate(e,!0)}}}(jQuery),function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){var n=o(t,e)?s:i;n(t,e)}var o,i,s;"classList"in document.documentElement?(o=function(t,e){return t.classList.contains(e)},i=function(t,e){t.classList.add(e)},s=function(t,e){t.classList.remove(e)}):(o=function(t,n){return e(n).test(t.className)},i=function(t,e){o(t,e)||(t.className=t.className+" "+e)},s=function(t,n){t.className=t.className.replace(e(n)," ")});var a={hasClass:o,addClass:i,removeClass:s,toggleClass:n,has:o,add:i,remove:s,toggle:n};"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a:t.classie=a}(window),function(t,e){t.fn.popup=function(e){var n=this.selector,o=new t.Popup(e);return t(document).on("click.popup",n,function(n){var i=e&&e.content?e.content:t(this).attr("href");n.preventDefault(),o.open(i,void 0,this)}),this.each(function(){t(this).data("popup",o)})},t.Popup=function(n){function o(e){var n;return t.each(e,function(t,e){if(e)return n=e,!1}),n}function i(e){return"function"==typeof e?"function":e instanceof t?"jQuery":"#"===e.substr(0,1)||"."===e.substr(0,1)?"inline":-1!==t.inArray(e.substr(e.length-3),f)?"image":"http"===e.substr(0,4)?"external":"ajax"}function s(n){u&&u.fadeOut("fast",function(){t(this).remove()});var o=!0;void 0===d&&(o=!1,d=t('<div class="'+h.o.containerClass+'">'),p=t(h.o.markup).appendTo(d),t(h.o.closeContent).one("click",function(){h.close()}).appendTo(d),t(e).resize(h.center),d.appendTo(t("body")).css("opacity",0));var i=t("."+h.o.contentClass,d);h.width?i.css("width",h.width,10):i.css("width",""),h.height?i.css("height",h.height,10):i.css("height",""),p.hasClass(h.o.contentClass)?p.html(n):p.find("."+h.o.contentClass).html(n),o?h.o.replaced.call(h,d,c):h.o.show.call(h,d,c)}function a(t,e){var n=new RegExp("[?&]"+t+"=([^&]*)").exec(e);return n&&decodeURIComponent(n[1].replace(/\+/g," "))}var r,l,c,d,u,p,h=this,f=["png","jpg","gif"];h.ele=void 0,h.o=t.extend(!0,{},{backClass:"popup_back",backOpacity:.7,containerClass:"popup_cont",closeContent:'<div class="popup_close">&times;</div>',markup:'<div class="popup"><div class="popup_content"/></div>',contentClass:"popup_content",preloaderContent:'<p class="preloader">Loading</p>',activeClass:"popup_active",hideFlash:!1,speed:200,popupPlaceholderClass:"popup_placeholder",keepInlineChanges:!0,modal:!1,content:null,type:"auto",width:null,height:null,typeParam:"pt",widthParam:"pw",heightParam:"ph",beforeOpen:function(t){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},error:function(){},show:function(t,e){var n=this;n.center(),t.animate({opacity:1},n.o.speed,function(){n.o.afterOpen.call(n)})},replaced:function(t,e){this.center().o.afterOpen.call(this)},hide:function(t,e){void 0!==t&&t.animate({opacity:0},this.o.speed)},types:{inline:function(e,n){var o=t(e);o.addClass(h.o.popupPlaceholderClass),h.o.keepInlineChanges||(l=o.html()),n.call(this,o.children())},image:function(e,n){var o=this;t("<img />").one("load",function(){var t=this;setTimeout(function(){n.call(o,t)},0)}).one("error",function(){h.o.error.call(h,e,"image")}).attr("src",e).each(function(){this.complete&&t(this).trigger("load")})},external:function(e,n){var o=t("<iframe />").attr({src:e,frameborder:0,width:h.width,height:h.height});n.call(this,o)},html:function(t,e){e.call(this,t)},jQuery:function(t,e){e.call(this,t.html())},"function":function(t,e){e.call(this,t.call(h))},ajax:function(e,n){t.ajax({url:e,success:function(t){n.call(this,t)},error:function(t){h.o.error.call(h,e,"ajax")}})}}},n),h.open=function(e,n,l){if(e=void 0===e||"#"===e?h.o.content:e,null===e)return h.o.error.call(h,e,r),!1;if(void 0!==l&&(h.ele&&h.o.activeClass&&t(h.ele).removeClass(h.o.activeClass),h.ele=l,h.ele&&h.o.activeClass&&t(h.ele).addClass(h.o.activeClass)),void 0===c&&(c=t('<div class="'+h.o.backClass+'"/>').appendTo(t("body")).css("opacity",0).animate({opacity:h.o.backOpacity},h.o.speed),h.o.modal||c.one("click.popup",function(){h.close()}),h.o.hideFlash&&t("object, embed").css("visibility","hidden"),h.o.preloaderContent&&(u=t(h.o.preloaderContent).appendTo(t("body")))),n=o([n,h.o.type]),r=n="auto"===n?i(e):n,h.width=h.o.width?h.o.width:null,h.height=h.o.height?h.o.height:null,-1===t.inArray(n,["inline","jQuery","function"])){l=a(h.o.typeParam,e);var d=a(h.o.widthParam,e),p=a(h.o.heightParam,e);n=null!==l?l:n,h.width=null!==d?d:h.width,h.height=null!==p?p:h.height}h.o.beforeOpen.call(h,n),h.o.types[n]?h.o.types[n].call(h,e,s):h.o.types.ajax.call(h,e,s)},h.close=function(){return h.o.beforeClose.call(h),"inline"===r&&h.o.keepInlineChanges&&(l=t("."+h.o.contentClass).html()),void 0!==c&&c.animate({opacity:0},h.o.speed,function(){h.cleanUp()}),h.o.hide.call(h,d,c),h},h.cleanUp=function(){c.add(d).remove(),d=c=void 0,t(e).unbind("resize",h.center),h.o.hideFlash&&t("object, embed").css("visibility","visible"),h.ele&&h.o.activeClass&&t(h.ele).removeClass(h.o.activeClass);var n=t("."+h.o.popupPlaceholderClass);return"inline"==r&&n.length&&n.html(l).removeClass(h.o.popupPlaceholderClass),r=null,h.o.afterClose.call(h),h},h.center=function(){return d.css(h.getCenter()),c.css({height:document.documentElement.clientHeight}),h},h.getCenter=function(){var t=d.children().outerWidth(!0),e=d.children().outerHeight(!0);return{top:.5*document.documentElement.clientHeight-.5*e,left:.5*document.documentElement.clientWidth-.5*t}}}}(jQuery,window),function(t,e,n,o){function i(e,n,o,i){var s={duration:1,animation:null,iterate:1,timing:"linear",keep:!1};this.prefixes=["","-moz-","-o-animation-","-webkit-"],this.element=t(e),this.bare=e,this.queue=[],this.listening=!1;var a="function"==typeof o?o:i;switch(n){case"blur":s={amount:3,duration:.5,focusAfter:null},this.options=t.extend(s,o),this._blur(a);break;case"focus":this._focus();break;case"rotate":s={degrees:15,duration:.5},this.options=t.extend(s,o),this._rotate(a);break;case"cleanse":this.cleanse();break;default:this.options=t.extend(s,n),this.init(a)}}i.prototype={init:function(e){var n=this;"[object Array]"===Object.prototype.toString.call(n.options.animation)?t.merge(n.queue,n.options.animation):n.queue.push(n.options.animation),n.cleanse(),n.animate(e)},animate:function(t){this.element.addClass("animated"),this.element.addClass(this.queue[0]),this.element.data("animo",this.queue[0]);for(var e=this.prefixes.length;e--;)this.element.css(this.prefixes[e]+"animation-duration",this.options.duration+"s"),this.element.css(this.prefixes[e]+"animation-iteration-count",this.options.iterate),this.element.css(this.prefixes[e]+"animation-timing-function",this.options.timing);var n=this,o=t;n.queue.length>1&&(o=null),this._end("AnimationEnd",function(){n.element.hasClass(n.queue[0])&&(n.options.keep||n.cleanse(),n.queue.shift(),n.queue.length&&n.animate(t))},o)},cleanse:function(){this.element.removeClass("animated"),this.element.removeClass(this.queue[0]),this.element.removeClass(this.element.data("animo"));for(var t=this.prefixes.length;t--;)this.element.css(this.prefixes[t]+"animation-duration",""),this.element.css(this.prefixes[t]+"animation-iteration-count",""),this.element.css(this.prefixes[t]+"animation-timing-function",""),this.element.css(this.prefixes[t]+"transition",""),this.element.css(this.prefixes[t]+"transform",""),this.element.css(this.prefixes[t]+"filter","")},_blur:function(n){if(this.element.is("img")){var o="svg_"+(16777216*(1+Math.random())|0).toString(16).substring(1),i="filter_"+(16777216*(1+Math.random())|0).toString(16).substring(1);t("body").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" id="'+o+'" style="height:0;"><filter id="'+i+'"><feGaussianBlur stdDeviation="'+this.options.amount+'" /></filter></svg>');for(var s=this.prefixes.length;s--;)this.element.css(this.prefixes[s]+"filter","blur("+this.options.amount+"px)"),this.element.css(this.prefixes[s]+"transition",this.options.duration+"s all linear");this.element.css("filter","url(#"+i+")"),this.element.data("svgid",o)}else{for(var a=this.element.css("color"),s=this.prefixes.length;s--;)this.element.css(this.prefixes[s]+"transition","all "+this.options.duration+"s linear");this.element.css("text-shadow","0 0 "+this.options.amount+"px "+a),this.element.css("color","transparent")}this._end("TransitionEnd",null,n);var r=this;if(this.options.focusAfter)var l=e.setTimeout(function(){r._focus(),l=e.clearTimeout(l)},1e3*this.options.focusAfter)},_focus:function(){var e=this.prefixes.length;if(this.element.is("img")){for(;e--;)this.element.css(this.prefixes[e]+"filter",""),this.element.css(this.prefixes[e]+"transition","");var n=t("#"+this.element.data("svgid"));n.remove()}else{for(;e--;)this.element.css(this.prefixes[e]+"transition","");this.element.css("text-shadow",""),this.element.css("color","")}},_rotate:function(t){for(var e=this.prefixes.length;e--;)this.element.css(this.prefixes[e]+"transition","all "+this.options.duration+"s linear"),this.element.css(this.prefixes[e]+"transform","rotate("+this.options.degrees+"deg)");this._end("TransitionEnd",null,t)},_end:function(t,e,n){var o=this,i=t.toLowerCase()+" webkit"+t+" o"+t+" MS"+t;this.element.bind(i,function(){o.element.unbind(i),"function"==typeof e&&e(),"function"==typeof n&&n(o)})}},t.fn.animo=function(t,e,n){return this.each(function(){new i(this,t,e,n)})}}(jQuery,window,document),!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}var e=0,n={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in n)e.push(n[o]);for(var i=0,s=e.length;s>i;i++)e[i][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=i.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,o={},i=window.Waypoint,s=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,i.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||i.isTouch)&&(e.didScroll=!0,i.requestAnimationFrame(t))})},e.prototype.handleResize=function(){i.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var o=e[n],i=o.newScroll>o.oldScroll,s=i?o.forward:o.backward;for(var a in this.waypoints[n]){var r=this.waypoints[n][a],l=o.oldScroll<r.triggerPoint,c=o.newScroll>=r.triggerPoint,d=l&&c,u=!l&&!c;
(d||u)&&(r.queueTrigger(s),t[r.group.id]=r.group)}}for(var p in t)t[p].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var o=0,i=t.length;i>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,n=this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var i in t){var s=t[i];for(var a in this.waypoints[i]){var r,l,c,d,u,p=this.waypoints[i][a],h=p.options.offset,f=p.triggerPoint,m=0,g=null==f;p.element!==p.element.window&&(m=p.adapter.offset()[s.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(s.contextDimension*h/100))),r=s.contextScroll-s.contextOffset,p.triggerPoint=m+r-h,l=f<s.oldScroll,c=p.triggerPoint>=s.oldScroll,d=l&&c,u=!l&&!c,!g&&d?(p.queueTrigger(s.backward),o[p.group.id]=p.group):!g&&u?(p.queueTrigger(s.forward),o[p.group.id]=p.group):g&&s.oldScroll>=p.triggerPoint&&(p.queueTrigger(s.forward),o[p.group.id]=p.group)}}for(var v in o)o[v].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){s&&s(),e.refreshAll()},i.requestAnimationFrame=function(e){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;n.call(window,e)},i.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},i=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var o=this.triggerQueues[n],i="up"===n||"left"===n;o.sort(i?e:t);for(var s=0,a=o.length;a>s;s+=1){var r=o[s];(r.options.continuous||s===o.length-1)&&r.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints),o=n===this.waypoints.length-1;return o?null:this.waypoints[n+1]},n.prototype.previous=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},n.prototype.remove=function(t){var e=i.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return o[t.axis][t.name]||new n(t)},i.Group=n}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,n=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,n){t.prototype[n]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(n,o){t[o]=e[o]}),n.adapters.push({name:"jquery",Adapter:t}),n.Adapter=t}(),function(){"use strict";function t(t){return function(){var n=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var i=t.extend({},o,{element:this});"string"==typeof i.context&&(i.context=t(this).closest(i.context)[0]),n.push(new e(i))}),n}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(){var t=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function e(n){function o(){!t&&this._init&&this._init.apply(this,arguments)}var i=this.prototype;t=!0;var s=new this;t=!1;for(var a in n)s[a]="function"==typeof n[a]&&"function"==typeof i[a]?function(t,e){return function(){var n=this._super;this._super=function(e){return i[t].apply(this,e||[])};var o=e.apply(this,arguments);return this._super=n,o}}(a,n[a]):n[a];return o.prototype=s,o.prototype.constructor=o,o.extend=e,o}}(),function($){function camelCase(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var t=camelCase(this.name);$[t]=this,$.fn[t]=function(e){var n=Array.prototype.slice.call(arguments,1);return $[t]._isNotChained(e,n)?$[t][e].apply($[t],[this[0]].concat(n)):this.each(function(){if("string"==typeof e){if("_"===e[0]||!$[t][e])throw"Unknown method: "+e;$[t][e].apply($[t],[this].concat(n))}else $[t]._attach(this,e)})}},setDefaults:function(t){$.extend(this.defaultOptions,t||{})},_isNotChained:function(t,e){return"option"===t&&(0===e.length||1===e.length&&"string"==typeof e[0])||$.inArray(t,this._getters)>-1},_attach:function(t,e){if(t=$(t),!t.hasClass(this._getMarker())){t.addClass(this._getMarker()),e=$.extend({},this.defaultOptions,this._getMetadata(t),e||{});var n=$.extend({name:this.name,elem:t,options:e},this._instSettings(t,e));t.data(this.name,n),this._postAttach(t,n),this.option(t,e)}},_instSettings:function(t,e){return{}},_postAttach:function(t,e){},_getMetadata:function(d){try{var f=d.data(this.name.toLowerCase())||"";f=f.replace(/'/g,'"'),f=f.replace(/([a-zA-Z0-9]+):/g,function(t,e,n){var o=f.substring(0,n).match(/"/g);return o&&o.length%2!==0?e+":":'"'+e+'":'}),f=$.parseJSON("{"+f+"}");for(var g in f){var h=f[g];"string"==typeof h&&h.match(/^new Date\((.*)\)$/)&&(f[g]=eval(h))}return f}catch(e){return{}}},_getInst:function(t){return $(t).data(this.name)||{}},option:function(t,e,n){t=$(t);var o=t.data(this.name);if(!e||"string"==typeof e&&null==n){var i=(o||{}).options;return i&&e?i[e]:i}if(t.hasClass(this._getMarker())){var i=e||{};"string"==typeof e&&(i={},i[e]=n),this._optionsChanged(t,o,i),$.extend(o.options,i)}},_optionsChanged:function(t,e,n){},destroy:function(t){t=$(t),t.hasClass(this._getMarker())&&(this._preDestroy(t,this._getInst(t)),t.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(t,e){}}),$.JQPlugin={createPlugin:function(t,e){"object"==typeof t&&(e=t,t="JQPlugin"),t=camelCase(t);var n=camelCase(e.name);JQClass.classes[n]=JQClass.classes[t].extend(e),new JQClass.classes[n]}}}(jQuery),function(t){var e="countdown",n=0,o=1,i=2,s=3,a=4,r=5,l=6;t.JQPlugin.createPlugin({name:e,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_getters:["getTimes"],_rtlClass:e+"-rtl",_sectionClass:e+"-section",_amountClass:e+"-amount",_periodClass:e+"-period",_rowClass:e+"-row",_holdingClass:e+"-holding",_showClass:e+"-show",_descrClass:e+"-descr",_timerElems:[],_init:function(){function e(t){var r=t<1e12?i?performance.now()+performance.timing.navigationStart:o():t||o();r-a>=1e3&&(n._updateElems(),a=r),s(e)}var n=this;this._super(),this._serverSyncs=[];var o="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},i=window.performance&&"function"==typeof window.performance.now,s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,a=0;!s||t.noRequestAnimationFrame?(t.noRequestAnimationFrame=null,setInterval(function(){n._updateElems()},980)):(a=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||o(),s(e))},UTCDate:function(t,e,n,o,i,s,a,r){"object"==typeof e&&e.constructor==Date&&(r=e.getMilliseconds(),a=e.getSeconds(),s=e.getMinutes(),i=e.getHours(),o=e.getDate(),n=e.getMonth(),e=e.getFullYear());var l=new Date;return l.setUTCFullYear(e),l.setUTCDate(1),l.setUTCMonth(n||0),l.setUTCDate(o||1),l.setUTCHours(i||0),l.setUTCMinutes((s||0)-(Math.abs(t)<30?60*t:t)),l.setUTCSeconds(a||0),l.setUTCMilliseconds(r||0),l},periodsToSeconds:function(t){return 31557600*t[0]+2629800*t[1]+604800*t[2]+86400*t[3]+3600*t[4]+60*t[5]+t[6]},resync:function(){var e=this;t("."+this._getMarker()).each(function(){var n=t.data(this,e.name);if(n.options.serverSync){for(var o=null,i=0;i<e._serverSyncs.length;i++)if(e._serverSyncs[i][0]==n.options.serverSync){o=e._serverSyncs[i];break}if(null==o[2]){var s=t.isFunction(n.options.serverSync)?n.options.serverSync.apply(this,[]):null;o[2]=(s?(new Date).getTime()-s.getTime():0)-o[1]}n._since&&n._since.setMilliseconds(n._since.getMilliseconds()+o[2]),n._until.setMilliseconds(n._until.getMilliseconds()+o[2])}});for(var n=0;n<e._serverSyncs.length;n++)null!=e._serverSyncs[n][2]&&(e._serverSyncs[n][1]+=e._serverSyncs[n][2],delete e._serverSyncs[n][2])},_instSettings:function(t,e){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(t){this._hasElem(t)||this._timerElems.push(t)},_hasElem:function(e){return t.inArray(e,this._timerElems)>-1},_removeElem:function(e){this._timerElems=t.map(this._timerElems,function(t){return t==e?null:t})},_updateElems:function(){for(var t=this._timerElems.length-1;t>=0;t--)this._updateCountdown(this._timerElems[t])},_optionsChanged:function(e,n,o){o.layout&&(o.layout=o.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(n.options,o);var i=n.options.timezone!=o.timezone;t.extend(n.options,o),this._adjustSettings(e,n,null!=o.until||null!=o.since||i);var s=new Date;(n._since&&n._since<s||n._until&&n._until>s)&&this._addElem(e[0]),this._updateCountdown(e,n)},_updateCountdown:function(e,n){if(e=e.jquery?e:t(e),n=n||this._getInst(e)){if(e.html(this._generateHTML(n)).toggleClass(this._rtlClass,n.options.isRTL),t.isFunction(n.options.onTick)){var o="lap"!=n._hold?n._periods:this._calculatePeriods(n,n._show,n.options.significant,new Date);1!=n.options.tickInterval&&this.periodsToSeconds(o)%n.options.tickInterval!=0||n.options.onTick.apply(e[0],[o])}var i="pause"!=n._hold&&(n._since?n._now.getTime()<n._since.getTime():n._now.getTime()>=n._until.getTime());if(i&&!n._expiring){if(n._expiring=!0,this._hasElem(e[0])||n.options.alwaysExpire){if(this._removeElem(e[0]),t.isFunction(n.options.onExpiry)&&n.options.onExpiry.apply(e[0],[]),n.options.expiryText){var s=n.options.layout;n.options.layout=n.options.expiryText,this._updateCountdown(e[0],n),n.options.layout=s}n.options.expiryUrl&&(window.location=n.options.expiryUrl)}n._expiring=!1}else"pause"==n._hold&&this._removeElem(e[0])}},_resetExtraLabels:function(t,e){for(var n in e)n.match(/[Ll]abels[02-9]|compactLabels1/)&&(t[n]=e[n]);for(var n in t)n.match(/[Ll]abels[02-9]|compactLabels1/)&&"undefined"==typeof e[n]&&(t[n]=null)},_adjustSettings:function(e,n,o){for(var i=null,s=0;s<this._serverSyncs.length;s++)if(this._serverSyncs[s][0]==n.options.serverSync){i=this._serverSyncs[s][1];break}if(null!=i)var a=n.options.serverSync?i:0,r=new Date;else{var l=t.isFunction(n.options.serverSync)?n.options.serverSync.apply(e[0],[]):null,r=new Date,a=l?r.getTime()-l.getTime():0;this._serverSyncs.push([n.options.serverSync,a])}var c=n.options.timezone;c=null==c?-r.getTimezoneOffset():c,(o||!o&&null==n._until&&null==n._since)&&(n._since=n.options.since,null!=n._since&&(n._since=this.UTCDate(c,this._determineTime(n._since,null)),n._since&&a&&n._since.setMilliseconds(n._since.getMilliseconds()+a)),n._until=this.UTCDate(c,this._determineTime(n.options.until,r)),a&&n._until.setMilliseconds(n._until.getMilliseconds()+a)),n._show=this._determineShow(n)},_preDestroy:function(t,e){this._removeElem(t[0]),t.empty()},pause:function(t){this._hold(t,"pause")},lap:function(t){this._hold(t,"lap")},resume:function(t){this._hold(t,null)},toggle:function(e){var n=t.data(e,this.name)||{};this[n._hold?"resume":"pause"](e)},toggleLap:function(e){var n=t.data(e,this.name)||{};this[n._hold?"resume":"lap"](e)},_hold:function(e,n){var o=t.data(e,this.name);if(o){if("pause"==o._hold&&!n){o._periods=o._savePeriods;var i=o._since?"-":"+";o[o._since?"_since":"_until"]=this._determineTime(i+o._periods[0]+"y"+i+o._periods[1]+"o"+i+o._periods[2]+"w"+i+o._periods[3]+"d"+i+o._periods[4]+"h"+i+o._periods[5]+"m"+i+o._periods[6]+"s"),this._addElem(e)}o._hold=n,o._savePeriods="pause"==n?o._periods:null,t.data(e,this.name,o),this._updateCountdown(e,o)}},getTimes:function(e){var n=t.data(e,this.name);return n?"pause"==n._hold?n._savePeriods:n._hold?this._calculatePeriods(n,n._show,n.options.significant,new Date):n._periods:null},_determineTime:function(t,e){var n=this,o=function(t){var e=new Date;return e.setTime(e.getTime()+1e3*t),e},i=function(t){t=t.toLowerCase();for(var e=new Date,o=e.getFullYear(),i=e.getMonth(),s=e.getDate(),a=e.getHours(),r=e.getMinutes(),l=e.getSeconds(),c=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,d=c.exec(t);d;){switch(d[2]||"s"){case"s":l+=parseInt(d[1],10);break;case"m":r+=parseInt(d[1],10);break;case"h":a+=parseInt(d[1],10);break;case"d":s+=parseInt(d[1],10);break;case"w":s+=7*parseInt(d[1],10);break;case"o":i+=parseInt(d[1],10),s=Math.min(s,n._getDaysInMonth(o,i));break;case"y":o+=parseInt(d[1],10),s=Math.min(s,n._getDaysInMonth(o,i))}d=c.exec(t)}return new Date(o,i,s,a,r,l,0)},s=null==t?e:"string"==typeof t?i(t):"number"==typeof t?o(t):t;return s&&s.setMilliseconds(0),s},_getDaysInMonth:function(t,e){return 32-new Date(t,e,32).getDate()},_normalLabels:function(t){return t},_generateHTML:function(e){var c=this;e._periods=e._hold?e._periods:this._calculatePeriods(e,e._show,e.options.significant,new Date);for(var d=!1,u=0,p=e.options.significant,h=t.extend({},e._show),f=n;f<=l;f++)d|="?"==e._show[f]&&e._periods[f]>0,h[f]="?"!=e._show[f]||d?e._show[f]:null,u+=h[f]?1:0,p-=e._periods[f]>0?1:0;for(var m=[!1,!1,!1,!1,!1,!1,!1],f=l;f>=n;f--)e._show[f]&&(e._periods[f]?m[f]=!0:(m[f]=p>0,p--));var g=e.options.compact?e.options.compactLabels:e.options.labels,v=e.options.whichLabels||this._normalLabels,y=function(t){var n=e.options["compactLabels"+v(e._periods[t])];return h[t]?c._translateDigits(e,e._periods[t])+(n?n[t]:g[t])+" ":""},b=e.options.padZeroes?2:1,w=function(t){var n=e.options["labels"+v(e._periods[t])];return!e.options.significant&&h[t]||e.options.significant&&m[t]?'<span class="'+c._sectionClass+'"><span class="'+c._amountClass+'">'+c._minDigits(e,e._periods[t],b)+'</span><span class="'+c._periodClass+'">'+(n?n[t]:g[t])+"</span></span>":""};return e.options.layout?this._buildLayout(e,h,e.options.layout,e.options.compact,e.options.significant,m):(e.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(e._hold?" "+this._holdingClass:"")+'">'+y(n)+y(o)+y(i)+y(s)+(h[a]?this._minDigits(e,e._periods[a],2):"")+(h[r]?(h[a]?e.options.timeSeparator:"")+this._minDigits(e,e._periods[r],2):"")+(h[l]?(h[a]||h[r]?e.options.timeSeparator:"")+this._minDigits(e,e._periods[l],2):""):'<span class="'+this._rowClass+" "+this._showClass+(e.options.significant||u)+(e._hold?" "+this._holdingClass:"")+'">'+w(n)+w(o)+w(i)+w(s)+w(a)+w(r)+w(l))+"</span>"+(e.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+e.options.description+"</span>":"")},_buildLayout:function(e,c,d,u,p,h){for(var f=e.options[u?"compactLabels":"labels"],m=e.options.whichLabels||this._normalLabels,g=function(t){return(e.options[(u?"compactLabels":"labels")+m(e._periods[t])]||f)[t]},v=function(t,n){return e.options.digits[Math.floor(t/n)%10]},y={desc:e.options.description,sep:e.options.timeSeparator,yl:g(n),yn:this._minDigits(e,e._periods[n],1),ynn:this._minDigits(e,e._periods[n],2),ynnn:this._minDigits(e,e._periods[n],3),y1:v(e._periods[n],1),y10:v(e._periods[n],10),y100:v(e._periods[n],100),y1000:v(e._periods[n],1e3),ol:g(o),on:this._minDigits(e,e._periods[o],1),onn:this._minDigits(e,e._periods[o],2),onnn:this._minDigits(e,e._periods[o],3),o1:v(e._periods[o],1),o10:v(e._periods[o],10),o100:v(e._periods[o],100),o1000:v(e._periods[o],1e3),wl:g(i),wn:this._minDigits(e,e._periods[i],1),wnn:this._minDigits(e,e._periods[i],2),wnnn:this._minDigits(e,e._periods[i],3),w1:v(e._periods[i],1),w10:v(e._periods[i],10),w100:v(e._periods[i],100),w1000:v(e._periods[i],1e3),dl:g(s),dn:this._minDigits(e,e._periods[s],1),dnn:this._minDigits(e,e._periods[s],2),dnnn:this._minDigits(e,e._periods[s],3),d1:v(e._periods[s],1),d10:v(e._periods[s],10),d100:v(e._periods[s],100),d1000:v(e._periods[s],1e3),hl:g(a),hn:this._minDigits(e,e._periods[a],1),hnn:this._minDigits(e,e._periods[a],2),hnnn:this._minDigits(e,e._periods[a],3),h1:v(e._periods[a],1),h10:v(e._periods[a],10),h100:v(e._periods[a],100),h1000:v(e._periods[a],1e3),ml:g(r),mn:this._minDigits(e,e._periods[r],1),mnn:this._minDigits(e,e._periods[r],2),mnnn:this._minDigits(e,e._periods[r],3),m1:v(e._periods[r],1),m10:v(e._periods[r],10),m100:v(e._periods[r],100),m1000:v(e._periods[r],1e3),sl:g(l),sn:this._minDigits(e,e._periods[l],1),snn:this._minDigits(e,e._periods[l],2),snnn:this._minDigits(e,e._periods[l],3),s1:v(e._periods[l],1),s10:v(e._periods[l],10),s100:v(e._periods[l],100),s1000:v(e._periods[l],1e3)},b=d,w=n;w<=l;w++){var x="yowdhms".charAt(w),_=new RegExp("\\{"+x+"<\\}([\\s\\S]*)\\{"+x+">\\}","g");b=b.replace(_,!p&&c[w]||p&&h[w]?"$1":"")}return t.each(y,function(t,e){var n=new RegExp("\\{"+t+"\\}","g");b=b.replace(n,e)}),b},_minDigits:function(t,e,n){return e=""+e,e.length>=n?this._translateDigits(t,e):(e="0000000000"+e,this._translateDigits(t,e.substr(e.length-n)))},_translateDigits:function(t,e){return(""+e).replace(/[0-9]/g,function(e){return t.options.digits[e]})},_determineShow:function(t){var e=t.options.format,c=[];return c[n]=e.match("y")?"?":e.match("Y")?"!":null,c[o]=e.match("o")?"?":e.match("O")?"!":null,c[i]=e.match("w")?"?":e.match("W")?"!":null,c[s]=e.match("d")?"?":e.match("D")?"!":null,c[a]=e.match("h")?"?":e.match("H")?"!":null,c[r]=e.match("m")?"?":e.match("M")?"!":null,c[l]=e.match("s")?"?":e.match("S")?"!":null,c},_calculatePeriods:function(t,e,c,d){t._now=d,t._now.setMilliseconds(0);var u=new Date(t._now.getTime());t._since?d.getTime()<t._since.getTime()?t._now=d=u:d=t._since:(u.setTime(t._until.getTime()),d.getTime()>t._until.getTime()&&(t._now=d=u));var p=[0,0,0,0,0,0,0];if(e[n]||e[o]){var h=this._getDaysInMonth(d.getFullYear(),d.getMonth()),f=this._getDaysInMonth(u.getFullYear(),u.getMonth()),m=u.getDate()==d.getDate()||u.getDate()>=Math.min(h,f)&&d.getDate()>=Math.min(h,f),g=function(t){return 60*(60*t.getHours()+t.getMinutes())+t.getSeconds()},v=Math.max(0,12*(u.getFullYear()-d.getFullYear())+u.getMonth()-d.getMonth()+(u.getDate()<d.getDate()&&!m||m&&g(u)<g(d)?-1:0));p[n]=e[n]?Math.floor(v/12):0,p[o]=e[o]?v-12*p[n]:0,d=new Date(d.getTime());var y=d.getDate()==h,b=this._getDaysInMonth(d.getFullYear()+p[n],d.getMonth()+p[o]);d.getDate()>b&&d.setDate(b),d.setFullYear(d.getFullYear()+p[n]),d.setMonth(d.getMonth()+p[o]),y&&d.setDate(b)}var w=Math.floor((u.getTime()-d.getTime())/1e3),x=function(t,n){p[t]=e[t]?Math.floor(w/n):0,w-=p[t]*n};if(x(i,604800),x(s,86400),x(a,3600),x(r,60),x(l,1),w>0&&!t._since)for(var _=[1,12,4.3482,7,24,60,60],C=l,k=1,S=l;S>=n;S--)e[S]&&(p[C]>=k&&(p[C]=0,w=1),w>0&&(p[S]++,w=0,C=S,k=1)),k*=_[S];if(c)for(var S=n;S<=l;S++)c&&p[S]?c--:c||(p[S]=0);return p}})}(jQuery),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var e={init:function(e){return this.options=t.extend({},t.noty.defaults,e),this.options.layout=this.options.custom?t.noty.layouts.inline:t.noty.layouts[this.options.layout],t.noty.themes[this.options.theme]?this.options.theme=t.noty.themes[this.options.theme]:this.options.themeClassName=this.options.theme,this.options=t.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this._build(),this},_build:function(){var e=t('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(e.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?t(this.options.layout.parent.object).css(this.options.layout.parent.css).append(e):e,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var n=t("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(n):this.$bar.append(n);var o=this;t.each(this.options.buttons,function(e,n){var i=t("<button/>").addClass(n.addClass?n.addClass:"gray").html(n.text).attr("id",n.id?n.id:"button-"+e).attr("title",n.title).appendTo(o.$bar.find(".noty_buttons")).on("click",function(e){t.isFunction(n.onClick)&&n.onClick.call(i,o,e)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),t.noty.store[this.options.id]=this},show:function(){var e=this;return e.options.custom?e.options.custom.find(e.options.layout.container.selector).append(e.$bar):t(e.options.layout.container.selector).append(e.$bar),e.options.theme&&e.options.theme.style&&e.options.theme.style.apply(e),"function"===t.type(e.options.layout.css)?this.options.layout.css.apply(e.$bar):e.$bar.css(this.options.layout.css||{}),e.$bar.addClass(e.options.layout.addClass),e.options.layout.container.style.apply(t(e.options.layout.container.selector),[e.options.within]),e.showing=!0,e.options.theme&&e.options.theme.style&&e.options.theme.callback.onShow.apply(this),t.inArray("click",e.options.closeWith)>-1&&e.$bar.css("cursor","pointer").one("click",function(t){e.stopPropagation(t),e.options.callback.onCloseClick&&e.options.callback.onCloseClick.apply(e),e.close()}),t.inArray("hover",e.options.closeWith)>-1&&e.$bar.one("mouseenter",function(){e.close()}),t.inArray("button",e.options.closeWith)>-1&&e.$closeButton.one("click",function(t){e.stopPropagation(t),e.close()}),-1==t.inArray("button",e.options.closeWith)&&e.$closeButton.remove(),e.options.callback.onShow&&e.options.callback.onShow.apply(e),"string"==typeof e.options.animation.open?(e.$bar.css("height",e.$bar.innerHeight()),e.$bar.on("click",function(t){e.wasClicked=!0}),e.$bar.show().addClass(e.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0,e.hasOwnProperty("wasClicked")&&(e.$bar.off("click",function(t){e.wasClicked=!0}),e.close())})):e.$bar.animate(e.options.animation.open,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0}),e.options.timeout&&e.$bar.delay(e.options.timeout).promise().done(function(){e.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var e=this;if(this.showing)return void e.$bar.queue(function(){e.close.apply(e)});if(!this.shown&&!this.showing){var n=[];return t.each(t.noty.queue,function(t,o){o.options.id!=e.options.id&&n.push(o)}),void(t.noty.queue=n)}e.$bar.addClass("i-am-closing-now"),e.options.callback.onClose&&e.options.callback.onClose.apply(e),"string"==typeof e.options.animation.close?e.$bar.addClass(e.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e),e.closeCleanUp()}):e.$bar.clearQueue().stop().animate(e.options.animation.close,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e)}).promise().done(function(){e.closeCleanUp()})}},closeCleanUp:function(){var e=this;e.options.modal&&(t.notyRenderer.setModalCount(-1),0==t.notyRenderer.getModalCount()&&t(".noty_modal").fadeOut(e.options.animation.fadeSpeed,function(){t(this).remove()})),t.notyRenderer.setLayoutCountFor(e,-1),0==t.notyRenderer.getLayoutCountFor(e)&&t(e.options.layout.container.selector).remove(),"undefined"!=typeof e.$bar&&null!==e.$bar&&("string"==typeof e.options.animation.close?(e.$bar.css("transition","all 100ms ease").css("border",0).css("margin",0).height(0),e.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.$bar.remove(),e.$bar=null,e.closed=!0,e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e)})):(e.$bar.remove(),e.$bar=null,e.closed=!0)),delete t.noty.store[e.options.id],e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e),e.options.dismissQueue||(t.noty.ontap=!0,t.notyRenderer.render()),e.options.maxVisible>0&&e.options.dismissQueue&&t.notyRenderer.render()},setText:function(t){return this.closed||(this.options.text=t,this.$bar.find(".noty_text").html(t)),this},setType:function(t){return this.closed||(this.options.type=t,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(t){if(!this.closed){var e=this;this.options.timeout=t,e.$bar.delay(e.options.timeout).promise().done(function(){e.close()})}return this},stopPropagation:function(t){t=t||window.event,"undefined"!=typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},closed:!1,showing:!1,shown:!1};t.notyRenderer={},t.notyRenderer.init=function(n){var o=Object.create(e).init(n);return o.options.killer&&t.noty.closeAll(),o.options.force?t.noty.queue.unshift(o):t.noty.queue.push(o),t.notyRenderer.render(),"object"==t.noty.returns?o:o.options.id},t.notyRenderer.render=function(){var e=t.noty.queue[0];"object"===t.type(e)?e.options.dismissQueue?e.options.maxVisible>0?t(e.options.layout.container.selector+" > li").length<e.options.maxVisible&&t.notyRenderer.show(t.noty.queue.shift()):t.notyRenderer.show(t.noty.queue.shift()):t.noty.ontap&&(t.notyRenderer.show(t.noty.queue.shift()),t.noty.ontap=!1):t.noty.ontap=!0},t.notyRenderer.show=function(e){e.options.modal&&(t.notyRenderer.createModalFor(e),t.notyRenderer.setModalCount(1)),e.options.custom?0==e.options.custom.find(e.options.layout.container.selector).length?e.options.custom.append(t(e.options.layout.container.object).addClass("i-am-new")):e.options.custom.find(e.options.layout.container.selector).removeClass("i-am-new"):0==t(e.options.layout.container.selector).length?t("body").append(t(e.options.layout.container.object).addClass("i-am-new")):t(e.options.layout.container.selector).removeClass("i-am-new"),t.notyRenderer.setLayoutCountFor(e,1),e.show()},t.notyRenderer.createModalFor=function(e){if(0==t(".noty_modal").length){var n=t("<div/>").addClass("noty_modal").addClass(e.options.theme).data("noty_modal_count",0);e.options.theme.modal&&e.options.theme.modal.css&&n.css(e.options.theme.modal.css),n.prependTo(t("body")).fadeIn(e.options.animation.fadeSpeed),t.inArray("backdrop",e.options.closeWith)>-1&&n.on("click",function(e){t.noty.closeAll()})}},t.notyRenderer.getLayoutCountFor=function(e){return t(e.options.layout.container.selector).data("noty_layout_count")||0},t.notyRenderer.setLayoutCountFor=function(e,n){return t(e.options.layout.container.selector).data("noty_layout_count",t.notyRenderer.getLayoutCountFor(e)+n)},t.notyRenderer.getModalCount=function(){return t(".noty_modal").data("noty_modal_count")||0},t.notyRenderer.setModalCount=function(e){return t(".noty_modal").data("noty_modal_count",t.notyRenderer.getModalCount()+e)},t.fn.noty=function(e){return e.custom=t(this),t.notyRenderer.init(e)},t.noty={},t.noty.queue=[],t.noty.ontap=!0,t.noty.layouts={},t.noty.themes={},t.noty.returns="object",t.noty.store={},t.noty.get=function(e){return!!t.noty.store.hasOwnProperty(e)&&t.noty.store[e]},t.noty.close=function(e){return!!t.noty.get(e)&&t.noty.get(e).close()},t.noty.setText=function(e,n){return!!t.noty.get(e)&&t.noty.get(e).setText(n)},t.noty.setType=function(e,n){return!!t.noty.get(e)&&t.noty.get(e).setType(n)},t.noty.clearQueue=function(){t.noty.queue=[]},t.noty.closeAll=function(){t.noty.clearQueue(),t.each(t.noty.store,function(t,e){e.close()})};var n=window.alert;return t.noty.consumeAlert=function(e){window.alert=function(n){e?e.text=n:e={text:n},t.notyRenderer.init(e)}},t.noty.stopConsumeAlert=function(){window.alert=n},t.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},t(window).on("resize",function(){t.each(t.noty.layouts,function(e,n){n.container.style.apply(t(n.container.selector))})}),window.noty=function(e){return t.notyRenderer.init(e)},t.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){t(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){t(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){t(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",
style:function(){t(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){t(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var n=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-n)/2+"px"}):t(this).animate({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-n)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){t(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var n=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-n)/2+"px"}):t(this).animate({top:(t(window).height()-n)/2+"px"},500),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){t(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var n=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-n)/2+"px"}):t(this).animate({top:(t(window).height()-n)/2+"px"},500),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){t(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){t(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){t(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){t(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){t(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.themes.bootstrapTheme={name:"bootstrapTheme",modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){var e=this.options.layout.container.selector;switch(t(e).addClass("list-group"),this.$closeButton.append('<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>'),this.$closeButton.addClass("close"),this.$bar.addClass("list-group-item").css("padding","0px"),this.options.type){case"alert":case"notification":this.$bar.addClass("list-group-item-info");break;case"warning":this.$bar.addClass("list-group-item-warning");break;case"error":this.$bar.addClass("list-group-item-danger");break;case"information":this.$bar.addClass("list-group-item-info");break;case"success":this.$bar.addClass("list-group-item-success")}this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"})},callback:{onShow:function(){},onClose:function(){}}},t.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var e=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),t(e).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){t(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){t(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},t.noty.themes.relax={name:"relax",helpers:{},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",margin:"4px 0",borderRadius:"2px"}),this.$message.css({fontSize:"14px",lineHeight:"16px",textAlign:"center",padding:"10px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){t(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){t(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderTop:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderBottom:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#dedede",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"#FF8181",borderColor:"#e25353",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#78C5E7",borderColor:"#3badd6",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"#BCF5BC",borderColor:"#7cdd77",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){},onClose:function(){}}},window.noty}),function(t){function e(e){void 0==window.DOMParser&&window.ActiveXObject&&(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e});try{var n=(new DOMParser).parseFromString(e,"text/xml");if(!t.isXMLDoc(n))throw"Unable to parse XML";var o=t("parsererror",n);if(1==o.length)throw"Error: "+t(n).text();return n}catch(i){var s=void 0==i.name?i:i.name+": "+i.message;return void t(document).trigger("xmlParseError",[s])}}function n(e,n,o){(e.context?t(e.context):t.event).trigger(n,o)}function o(e,n){var i=!0;return"string"==typeof n?t.isFunction(e.test)?e.test(n):e==n:(t.each(e,function(s){return void 0===n[s]?i=!1:void("object"==typeof n[s]&&null!==n[s]?(i&&t.isArray(n[s])&&(i=t.isArray(e[s])&&n[s].length===e[s].length),i=i&&o(e[s],n[s])):i=e[s]&&t.isFunction(e[s].test)?i&&e[s].test(n[s]):i&&e[s]==n[s])}),i)}function i(e,n){return e[n]===t.mockjaxSettings[n]}function s(e,n){if(t.isFunction(e))return e(n);if(t.isFunction(e.url.test)){if(!e.url.test(n.url))return null}else{var i=e.url.indexOf("*");if(e.url!==n.url&&i===-1||!new RegExp(e.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(n.url))return null}return!e.data||n.data&&o(e.data,n.data)?e&&e.type&&e.type.toLowerCase()!=n.type.toLowerCase()?null:e:null}function a(n,o,s){var a=function(i){return function(){return function(){var i;this.status=n.status,this.statusText=n.statusText,this.readyState=4,t.isFunction(n.response)&&n.response(s),"json"==o.dataType&&"object"==typeof n.responseText?this.responseText=JSON.stringify(n.responseText):"xml"==o.dataType?"string"==typeof n.responseXML?(this.responseXML=e(n.responseXML),this.responseText=n.responseXML):this.responseXML=n.responseXML:this.responseText=n.responseText,"number"!=typeof n.status&&"string"!=typeof n.status||(this.status=n.status),"string"==typeof n.statusText&&(this.statusText=n.statusText),i=this.onreadystatechange||this.onload,t.isFunction(i)?(n.isTimeout&&(this.status=-1),i.call(this,n.isTimeout?"timeout":void 0)):n.isTimeout&&(this.status=-1)}.apply(i)}}(this);n.proxy?g({global:!1,url:n.proxy,type:n.proxyType,data:n.data,dataType:"script"===o.dataType?"text/plain":o.dataType,complete:function(t){n.responseXML=t.responseXML,n.responseText=t.responseText,i(n,"status")&&(n.status=t.status),i(n,"statusText")&&(n.statusText=t.statusText),this.responseTimer=setTimeout(a,n.responseTime||0)}}):o.async===!1?a():this.responseTimer=setTimeout(a,n.responseTime||50)}function r(e,n,o,i){return e=t.extend(!0,{},t.mockjaxSettings,e),"undefined"==typeof e.headers&&(e.headers={}),e.contentType&&(e.headers["content-type"]=e.contentType),{status:e.status,statusText:e.statusText,readyState:1,open:function(){},send:function(){i.fired=!0,a.call(this,e,n,o)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(t,n){e.headers[t]=n},getResponseHeader:function(t){return e.headers&&e.headers[t]?e.headers[t]:"last-modified"==t.toLowerCase()?e.lastModified||(new Date).toString():"etag"==t.toLowerCase()?e.etag||"":"content-type"==t.toLowerCase()?e.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var n="";return t.each(e.headers,function(t,e){n+=t+": "+e+"\n"}),n}}}function l(t,e,n){if(c(t),t.dataType="json",t.data&&b.test(t.data)||b.test(t.url)){u(t,e,n);var o=/^(\w+:)?\/\/([^\/?#]+)/,i=o.exec(t.url),s=i&&(i[1]&&i[1]!==location.protocol||i[2]!==location.host);if(t.dataType="script","GET"===t.type.toUpperCase()&&s){var a=d(t,e,n);return!a||a}}return null}function c(t){"GET"===t.type.toUpperCase()?b.test(t.url)||(t.url+=(/\?/.test(t.url)?"&":"?")+(t.jsonp||"callback")+"=?"):t.data&&b.test(t.data)||(t.data=(t.data?t.data+"&":"")+(t.jsonp||"callback")+"=?")}function d(e,n,o){var i=o&&o.context||e,s=null;return n.response&&t.isFunction(n.response)?n.response(o):"object"==typeof n.responseText?t.globalEval("("+JSON.stringify(n.responseText)+")"):t.globalEval("("+n.responseText+")"),p(e,i,n),h(e,i,n),t.Deferred&&(s=new t.Deferred,"object"==typeof n.responseText?s.resolveWith(i,[n.responseText]):s.resolveWith(i,[t.parseJSON(n.responseText)])),s}function u(t,e,n){var o=n&&n.context||t,i=t.jsonpCallback||"jsonp"+w++;t.data&&(t.data=(t.data+"").replace(b,"="+i+"$1")),t.url=t.url.replace(b,"="+i+"$1"),window[i]=window[i]||function(n){data=n,p(t,o,e),h(t,o,e),window[i]=void 0;try{delete window[i]}catch(s){}head&&head.removeChild(script)}}function p(t,e,o){t.success&&t.success.call(e,o.responseText||"",status,{}),t.global&&n(t,"ajaxSuccess",[{},t])}function h(e,o){e.complete&&e.complete.call(o,{},status),e.global&&n("ajaxComplete",[{},e]),e.global&&!--t.active&&t.event.trigger("ajaxStop")}function f(e,n){var o,i,a;"object"==typeof e?(n=e,e=void 0):(n=n||{},n.url=e),i=t.extend(!0,{},t.ajaxSettings,n);for(var c=0;c<v.length;c++)if(v[c]&&(a=s(v[c],i)))return y.push(i),t.mockjaxSettings.log(a,i),i.dataType&&"JSONP"===i.dataType.toUpperCase()&&(o=l(i,a,n))?o:(a.cache=i.cache,a.timeout=i.timeout,a.global=i.global,m(a,n),function(e,n,i,s){o=g.call(t,t.extend(!0,{},i,{xhr:function(){return r(e,n,i,s)}}))}(a,i,n,v[c]),o);if(t.mockjaxSettings.throwUnmocked===!0)throw"AJAX not mocked: "+n.url;return g.apply(t,[n])}function m(t,e){if(t.url instanceof RegExp&&t.hasOwnProperty("urlParams")){var n=t.url.exec(e.url);if(1!==n.length){n.shift();var o=0,i=n.length,s=t.urlParams.length,a=Math.min(i,s),r={};for(o;o<a;o++){var l=t.urlParams[o];r[l]=n[o]}e.urlParams=r}}}var g=t.ajax,v=[],y=[],b=/=\?(&|$)/,w=(new Date).getTime();t.extend({ajax:f}),t.mockjaxSettings={log:function(e,n){if(e.logging!==!1&&("undefined"!=typeof e.logging||t.mockjaxSettings.logging!==!1)&&window.console&&console.log){var o="MOCK "+n.type.toUpperCase()+": "+n.url,i=t.extend({},n);if("function"==typeof console.log)console.log(o,i);else try{console.log(o+" "+JSON.stringify(i))}catch(s){console.log(o)}}},logging:!0,status:200,statusText:"OK",responseTime:500,isTimeout:!1,throwUnmocked:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},t.mockjax=function(t){var e=v.length;return v[e]=t,e},t.mockjaxClear=function(t){1==arguments.length?v[t]=null:v=[],y=[]},t.mockjax.handler=function(t){if(1==arguments.length)return v[t]},t.mockjax.mockedAjaxCalls=function(){return y}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(t){"use strict";function e(n,o){var i=function(){},s=this,a={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:e.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:i,onSearchComplete:i,onSearchError:i,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(t,e,n){return t.value.toLowerCase().indexOf(n)!==-1},paramName:"query",transformResult:function(e){return"string"==typeof e?t.parseJSON(e):e},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};s.element=n,s.el=t(n),s.suggestions=[],s.badQueries=[],s.selectedIndex=-1,s.currentValue=s.element.value,s.intervalId=0,s.cachedResponse={},s.onChangeInterval=null,s.onChange=null,s.isLocal=!1,s.suggestionsContainer=null,s.noSuggestionsContainer=null,s.options=t.extend({},a,o),s.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},s.hint=null,s.hintValue="",s.selection=null,s.initialize(),s.setOptions(o)}var n=function(){return{escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(t){var e=document.createElement("div");return e.className=t,e.style.position="absolute",e.style.display="none",e}}}(),o={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};e.utils=n,t.Autocomplete=e,e.formatResult=function(t,e){if(!e)return t.value;var o="("+n.escapeRegExChars(e)+")";return t.value.replace(new RegExp(o,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},e.prototype={killerFn:null,initialize:function(){var n,o=this,i="."+o.classes.suggestion,s=o.classes.selected,a=o.options;o.element.setAttribute("autocomplete","off"),o.killerFn=function(e){0===t(e.target).closest("."+o.options.containerClass).length&&(o.killSuggestions(),o.disableKillerFn())},o.noSuggestionsContainer=t('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),o.suggestionsContainer=e.utils.createNode(a.containerClass),n=t(o.suggestionsContainer),n.appendTo(a.appendTo),"auto"!==a.width&&n.width(a.width),n.on("mouseover.autocomplete",i,function(){o.activate(t(this).data("index"))}),n.on("mouseout.autocomplete",function(){o.selectedIndex=-1,n.children("."+s).removeClass(s)}),n.on("click.autocomplete",i,function(){o.select(t(this).data("index"))}),o.fixPositionCapture=function(){o.visible&&o.fixPosition()},t(window).on("resize.autocomplete",o.fixPositionCapture),o.el.on("keydown.autocomplete",function(t){o.onKeyPress(t)}),o.el.on("keyup.autocomplete",function(t){o.onKeyUp(t)}),o.el.on("blur.autocomplete",function(){o.onBlur()}),o.el.on("focus.autocomplete",function(){o.onFocus()}),o.el.on("change.autocomplete",function(t){o.onKeyUp(t)}),o.el.on("input.autocomplete",function(t){o.onKeyUp(t)})},onFocus:function(){var t=this;t.fixPosition(),t.el.val().length>=t.options.minChars&&t.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){var t=this;t.currentRequest&&(t.currentRequest.abort(),t.currentRequest=null)},setOptions:function(e){var n=this,o=n.options;t.extend(o,e),n.isLocal=t.isArray(o.lookup),n.isLocal&&(o.lookup=n.verifySuggestionsFormat(o.lookup)),o.orientation=n.validateOrientation(o.orientation,"bottom"),t(n.suggestionsContainer).css({"max-height":o.maxHeight+"px",width:o.width+"px","z-index":o.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var t=this;t.disabled=!0,clearInterval(t.onChangeInterval),t.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var e=this,n=t(e.suggestionsContainer),o=n.parent().get(0);if(o===document.body||e.options.forceFixPosition){var i=e.options.orientation,s=n.outerHeight(),a=e.el.outerHeight(),r=e.el.offset(),l={top:r.top,left:r.left};if("auto"===i){var c=t(window).height(),d=t(window).scrollTop(),u=-d+r.top-s,p=d+c-(r.top+a+s);i=Math.max(u,p)===u?"top":"bottom"}if("top"===i?l.top+=-s:l.top+=a,o!==document.body){var h,f=n.css("opacity");e.visible||n.css("opacity",0).show(),h=n.offsetParent().offset(),l.top-=h.top,l.left-=h.left,e.visible||n.css("opacity",f).hide()}"auto"===e.options.width&&(l.width=e.el.outerWidth()-2+"px"),n.css(l)}},enableKillerFn:function(){var e=this;t(document).on("click.autocomplete",e.killerFn)},disableKillerFn:function(){var e=this;t(document).off("click.autocomplete",e.killerFn)},killSuggestions:function(){var t=this;t.stopKillSuggestions(),t.intervalId=window.setInterval(function(){t.visible&&(t.el.val(t.currentValue),t.hide()),t.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var t,e=this,n=e.el.val().length,o=e.element.selectionStart;return"number"==typeof o?o===n:!document.selection||(t=document.selection.createRange(),t.moveStart("character",-n),n===t.text.length)},onKeyPress:function(t){var e=this;if(!e.disabled&&!e.visible&&t.which===o.DOWN&&e.currentValue)return void e.suggest();if(!e.disabled&&e.visible){switch(t.which){case o.ESC:e.el.val(e.currentValue),e.hide();break;case o.RIGHT:if(e.hint&&e.options.onHint&&e.isCursorAtEnd()){e.selectHint();break}return;case o.TAB:if(e.hint&&e.options.onHint)return void e.selectHint();if(e.selectedIndex===-1)return void e.hide();if(e.select(e.selectedIndex),e.options.tabDisabled===!1)return;break;case o.RETURN:if(e.selectedIndex===-1)return void e.hide();e.select(e.selectedIndex);break;case o.UP:e.moveUp();break;case o.DOWN:e.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}},onKeyUp:function(t){var e=this;if(!e.disabled){switch(t.which){case o.UP:case o.DOWN:return}clearInterval(e.onChangeInterval),e.currentValue!==e.el.val()&&(e.findBestHint(),e.options.deferRequestBy>0?e.onChangeInterval=setInterval(function(){e.onValueChange()},e.options.deferRequestBy):e.onValueChange())}},onValueChange:function(){var e=this,n=e.options,o=e.el.val(),i=e.getQuery(o);return e.selection&&e.currentValue!==i&&(e.selection=null,(n.onInvalidateSelection||t.noop).call(e.element)),clearInterval(e.onChangeInterval),e.currentValue=o,e.selectedIndex=-1,n.triggerSelectOnValidInput&&e.isExactMatch(i)?void e.select(0):void(i.length<n.minChars?e.hide():e.getSuggestions(i))},isExactMatch:function(t){var e=this.suggestions;return 1===e.length&&e[0].value.toLowerCase()===t.toLowerCase()},getQuery:function(e){var n,o=this.options.delimiter;return o?(n=e.split(o),t.trim(n[n.length-1])):e},getSuggestionsLocal:function(e){var n,o=this,i=o.options,s=e.toLowerCase(),a=i.lookupFilter,r=parseInt(i.lookupLimit,10);return n={suggestions:t.grep(i.lookup,function(t){return a(t,e,s)})},r&&n.suggestions.length>r&&(n.suggestions=n.suggestions.slice(0,r)),n},getSuggestions:function(e){var n,o,i,s,a=this,r=a.options,l=r.serviceUrl;if(r.params[r.paramName]=e,o=r.ignoreParams?null:r.params,r.onSearchStart.call(a.element,r.params)!==!1){if(t.isFunction(r.lookup))return void r.lookup(e,function(t){a.suggestions=t.suggestions,a.suggest(),r.onSearchComplete.call(a.element,e,t.suggestions)});a.isLocal?n=a.getSuggestionsLocal(e):(t.isFunction(l)&&(l=l.call(a.element,e)),i=l+"?"+t.param(o||{}),n=a.cachedResponse[i]),n&&t.isArray(n.suggestions)?(a.suggestions=n.suggestions,a.suggest(),r.onSearchComplete.call(a.element,e,n.suggestions)):a.isBadQuery(e)?r.onSearchComplete.call(a.element,e,[]):(a.abortAjax(),s={url:l,data:o,type:r.type,dataType:r.dataType},t.extend(s,r.ajaxSettings),a.currentRequest=t.ajax(s).done(function(t){var n;a.currentRequest=null,n=r.transformResult(t,e),a.processResponse(n,e,i),r.onSearchComplete.call(a.element,e,n.suggestions)}).fail(function(t,n,o){r.onSearchError.call(a.element,e,t,n,o)}))}},isBadQuery:function(t){if(!this.options.preventBadQueries)return!1;for(var e=this.badQueries,n=e.length;n--;)if(0===t.indexOf(e[n]))return!0;return!1},hide:function(){var e=this,n=t(e.suggestionsContainer);t.isFunction(e.options.onHide)&&e.visible&&e.options.onHide.call(e.element,n),e.visible=!1,e.selectedIndex=-1,clearInterval(e.onChangeInterval),t(e.suggestionsContainer).hide(),e.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var e,n=this,o=n.options,i=o.groupBy,s=o.formatResult,a=n.getQuery(n.currentValue),r=n.classes.suggestion,l=n.classes.selected,c=t(n.suggestionsContainer),d=t(n.noSuggestionsContainer),u=o.beforeRender,p="",h=function(t,n){var o=t.data[i];return e===o?"":(e=o,'<div class="autocomplete-group"><strong>'+e+"</strong></div>")};return o.triggerSelectOnValidInput&&n.isExactMatch(a)?void n.select(0):(t.each(n.suggestions,function(t,e){i&&(p+=h(e,a,t)),p+='<div class="'+r+'" data-index="'+t+'">'+s(e,a)+"</div>"}),this.adjustContainerWidth(),d.detach(),c.html(p),t.isFunction(u)&&u.call(n.element,c),n.fixPosition(),c.show(),o.autoSelectFirst&&(n.selectedIndex=0,c.scrollTop(0),c.children("."+r).first().addClass(l)),n.visible=!0,void n.findBestHint())},noSuggestions:function(){var e=this,n=t(e.suggestionsContainer),o=t(e.noSuggestionsContainer);this.adjustContainerWidth(),o.detach(),n.empty(),n.append(o),e.fixPosition(),n.show(),e.visible=!0},adjustContainerWidth:function(){var e,n=this,o=n.options,i=t(n.suggestionsContainer);"auto"===o.width&&(e=n.el.outerWidth()-2,i.width(e>0?e:300))},findBestHint:function(){var e=this,n=e.el.val().toLowerCase(),o=null;n&&(t.each(e.suggestions,function(t,e){var i=0===e.value.toLowerCase().indexOf(n);return i&&(o=e),!i}),e.signalHint(o))},signalHint:function(e){var n="",o=this;e&&(n=o.currentValue+e.value.substr(o.currentValue.length)),o.hintValue!==n&&(o.hintValue=n,o.hint=e,(this.options.onHint||t.noop)(n))},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?t.map(e,function(t){return{value:t,data:null}}):e},validateOrientation:function(e,n){return e=t.trim(e||"").toLowerCase(),t.inArray(e,["auto","bottom","top"])===-1&&(e=n),e},processResponse:function(t,e,n){var o=this,i=o.options;t.suggestions=o.verifySuggestionsFormat(t.suggestions),i.noCache||(o.cachedResponse[n]=t,i.preventBadQueries&&0===t.suggestions.length&&o.badQueries.push(e)),e===o.getQuery(o.currentValue)&&(o.suggestions=t.suggestions,o.suggest())},activate:function(e){var n,o=this,i=o.classes.selected,s=t(o.suggestionsContainer),a=s.find("."+o.classes.suggestion);return s.find("."+i).removeClass(i),o.selectedIndex=e,o.selectedIndex!==-1&&a.length>o.selectedIndex?(n=a.get(o.selectedIndex),t(n).addClass(i),n):null},selectHint:function(){var e=this,n=t.inArray(e.hint,e.suggestions);e.select(n)},select:function(t){var e=this;e.hide(),e.onSelect(t)},moveUp:function(){var e=this;if(e.selectedIndex!==-1)return 0===e.selectedIndex?(t(e.suggestionsContainer).children().first().removeClass(e.classes.selected),e.selectedIndex=-1,e.el.val(e.currentValue),void e.findBestHint()):void e.adjustScroll(e.selectedIndex-1)},moveDown:function(){var t=this;t.selectedIndex!==t.suggestions.length-1&&t.adjustScroll(t.selectedIndex+1)},adjustScroll:function(e){var n=this,o=n.activate(e);if(o){var i,s,a,r=t(o).outerHeight();i=o.offsetTop,s=t(n.suggestionsContainer).scrollTop(),a=s+n.options.maxHeight-r,i<s?t(n.suggestionsContainer).scrollTop(i):i>a&&t(n.suggestionsContainer).scrollTop(i-n.options.maxHeight+r),n.options.preserveInput||n.el.val(n.getValue(n.suggestions[e].value)),n.signalHint(null)}},onSelect:function(e){var n=this,o=n.options.onSelect,i=n.suggestions[e];n.currentValue=n.getValue(i.value),n.currentValue===n.el.val()||n.options.preserveInput||n.el.val(n.currentValue),n.signalHint(null),n.suggestions=[],n.selection=i,t.isFunction(o)&&o.call(n.element,i)},getValue:function(t){var e,n,o=this,i=o.options.delimiter;return i?(e=o.currentValue,
n=e.split(i),1===n.length?t:e.substr(0,e.length-n[n.length-1].length)+t):t},dispose:function(){var e=this;e.el.off(".autocomplete").removeData("autocomplete"),e.disableKillerFn(),t(window).off("resize.autocomplete",e.fixPositionCapture),t(e.suggestionsContainer).remove()}},t.fn.autocomplete=t.fn.devbridgeAutocomplete=function(n,o){var i="autocomplete";return 0===arguments.length?this.first().data(i):this.each(function(){var s=t(this),a=s.data(i);"string"==typeof n?a&&"function"==typeof a[n]&&a[n](o):(a&&a.dispose&&a.dispose(),a=new e(this,n),s.data(i,a))})}}),$(function(){var t="";$.extend({getUrlVars:function(){for(var t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<n.length;o++)t=n[o].split("="),e.push(t[0]),e[t[0]]=t[1];return e},getUrlVar:function(t){return $.getUrlVars()[t]}});var e={control:{log:function(e,n){$("<div id='error-container' style='display:none;'>"+n.responseText+"</div>").appendTo("body");var o=$("#error-container"),i=e+": "+n.status+" "+n.statusText+" ";"Details"==o.find("h2:first").text()&&(i+="- ",o.find("div").each(function(t){if(t>4)return!1;var e=", ";4==t&&(e=""),i+=$(this).text()+e})),$.ajax({method:"post",url:t+"/ajax-error",data:"message="+i}),o.remove()}}},n={control:{headerStoresMenu:$("#top").find(".stores"),storesSubmenu:$("#top").find(".stores").find(".submenu"),popupSignUp:$("#top").find(".popup_content").find(".sign-up"),storeShow:"",storeHide:"",passwordRecovery:function(){var n=$.getUrlVar("prv");void 0!==n&&""!=n&&$.ajax({method:"post",url:t+"/password-recovery/update",data:"prv="+n,error:function(t){e.control.log("Password Recovery Update Ajax Error",t);noty({text:"<b>Технические работы!</b><br>В данный момент времени произведённое действие невозможно. Попробуйте позже. Приносим свои извинения за неудобство.",animation:{open:"animated fadeInLeft",close:"animated flipOutX",easing:"swing",speed:300},type:"warning",theme:"relax",layout:"topRight",timeout:1e4})},success:function(t){var t=$.parseJSON(t);if(t.error){for(key in t)if(void 0!==t[key][0]){noty({text:"<b>Ошибка!</b> "+t[key][0],animation:{open:"animated fadeInLeft",close:"animated flipOutX",easing:"swing",speed:300},type:"error",theme:"relax",modal:!0,layout:"center",timeout:7e3})}}else{noty({text:"<b>Поздравляем!</b><br> Пароль успешно изменён. Новый пароль: <b>"+t.password+"</b><br><br>",animation:{open:"animated fadeInLeft",close:"animated flipOutX",easing:"swing",speed:300},type:"success",theme:"relax",layout:"center",timeout:!1,modal:!0,closeWith:["button"]})}},complete:function(){window.history.pushState(null,null,"/")}})},events:function(){var t=this;t.headerStoresMenu.hover(function(){$(window).width()>991&&(clearTimeout(t.storeHide),t.storeShow=setTimeout(function(){t.storesSubmenu.clearQueue(),t.storesSubmenu.css("display","block").animate({opacity:1},350)},200))},function(){$(window).width()>991&&(clearTimeout(t.storeShow),t.storeHide=setTimeout(function(){t.storesSubmenu.clearQueue(),t.storesSubmenu.animate({opacity:0},200,function(){$(this).css("display","none")})},300))}),this.passwordRecovery(),$(window).width()>991&&$(".form-search-dp input").autocomplete({serviceUrl:"/search",noCache:"true",deferRequestBy:300,triggerSelectOnValidInput:!1,onSelect:function(t){location.href="/stores/"+t.data.route}}),$("form[name=search] .fa").click(function(){$(this).closest("form").submit()}),$(".dobrohead i, .dobro .circle .c .fa-heart").animo({animation:"pulse",iterate:"infinite"});var e=$(".header-nav nav ul.primary-nav .submenu .tree a[href='"+location.pathname+"']");e.length>0&&e.addClass("active")}}},o={control:{events:function(){$.countdown.regionalOptions.ru={labels:["Лет","Месяцев","Недель","Дней","Часов","Минут","Секунд"],labels1:["Год","Месяц","Неделя","День","Час","Минута","Секунда"],labels2:["Года","Месяца","Недели","Дня","Часа","Минуты","Секунды"],compactLabels:["л","м","н","д"],compactLabels1:["г","м","н","д"],whichLabels:function(t){var e=t%10,n=Math.floor(t%100/10);return 1==t?1:e>=2&&e<=4&&1!=n?2:1==e&&1!=n?1:0},digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},$.countdown.setDefaults($.countdown.regionalOptions.ru),$("#top").find(".coupons .current-coupon .time .clock").each(function(){var t=$(this),e=new Date(t.attr("data-end").replace(/-/g,"/"));t.countdown({until:e,compact:!0})}),$("#top").find(".coupons .current-coupon .countdown-amount").each(function(){var t=$(this);"00:00:00"==t.text()&&t.closest(".current-coupon").find(".expiry").css("display","table-cell")}),$("#top").find(".coupons .current-coupon .text .additional a").click(function(){return $(this).next("span").toggle(),$(this).text(function(t,e){return e=e.split(" "),e.indexOf("Показать")!=-1?e[0]="Скрыть":e[0]="Показать",e=e.join(" ")}),!1}),$("#top").find(".categories .search-store-coupons input").keyup(function(){var t=$(this).val().toLowerCase();""!=t?$(".categories .coupons-stores li a").each(function(){var e=$(this).text().toLowerCase();e.indexOf(t)!=-1?$(this).parent().css("display","block"):$(this).parent().css("display","none")}):$(".categories .coupons-stores li").css("display","block")}),$(document).on("click","#top .coupons .current-coupon .text .coupon-goto a[href=#showpromocode]",function(){var t=$(this);return t.next("div").css("display","block"),t.text("Использовать купон"),t.attr("target","_blank"),t.attr("href","/goto/coupon:"+t.closest(".current-coupon").attr("data-uid")),!1})}}},i={control:{starNomination:function(t){var e=$("#top .popup .feedback.popup-content .rating .fa-wrapper .fa");e.removeClass("fa-star").addClass("fa-star-o");for(var n=0;n<t;n++)e.eq(n).removeClass("fa-star-o").addClass("fa-star")},registration:function(t){for(selector in t)$(selector).popup({content:t[selector],type:"html",afterOpen:function(){var t=$("#top a.popup_active").attr("href"),e={"#reviewstore":{h3:"Отзыв о магазине "+$("#store-information").attr("data-store-name"),"input[name=type]":"review_"+$("#store-information").attr("data-store-id")}};if($.inArray(t,["#givefeedback","#reviewstore"])!=-1)var n=$("#top").find(".popup_content").find(".feedback");for(key in e[t])$.inArray(key,["h3","button","h4"])!=-1&&n.find(key).text(e[t][key]),$.inArray(key,[".sign-up-tagline",".terms"])!=-1&&n.find(key).html(e[t][key]),$.inArray(key,["input[type=password]"])!=-1&&n.find(key).attr("placeholder",e[t][key]),$.inArray(key,["input[name=type]"])!=-1&&n.find(key).val(e[t][key]);"#cert"!=t&&(n.animate({opacity:1},300),uLogin.customInit("uLogin6dab3a2d"))}})},events:function(){({"a[href=#cert]":$("#top").find(".popup-cert").html()})}}},s={control:{events:function(){$("#top .dropdown-select .dropOut li").click(function(){location.href=$(this).find("a").attr("href")})}}},a={control:{events:function(){$("#top").find(".favorite-link.ia").click(function(){var n=$(this),o=n.attr("data-state"),i=n.attr("data-affiliate-id");return"add"==o&&n.find(".fa").removeClass("muted"),n.find(".fa").removeClass("pulse2").addClass("fa-spin"),$.ajax({method:"post",url:t+"/account/favorites",data:"type="+o+"&affiliate_id="+i,error:function(t){e.control.log("Favorites Ajax Error",t);noty({text:"<b>Технические работы!</b><br>В данный момент времени произведённое действие невозможно. Попробуйте позже. Приносим свои извинения за неудобство.",animation:{open:"animated fadeInLeft",close:"animated flipOutX",easing:"swing",speed:300},type:"warning",theme:"relax",layout:"topRight",timeout:1e4});"add"==o&&n.find(".fa").addClass("muted"),n.find(".fa").removeClass("fa-spin").addClass("pulse2")},success:function(t){var t=$.parseJSON(t);if(t.error){for(key in t)if(void 0!==t[key][0]){noty({text:"<b>Ошибка!</b> "+t[key][0],animation:{open:"animated fadeInLeft",close:"animated flipOutX",easing:"swing",speed:300},type:"error",theme:"relax",layout:"topRight",timeout:7e3})}"add"==o&&n.find(".fa").addClass("muted"),n.find(".fa").removeClass("fa-spin").addClass("pulse2")}else{noty({text:t.msg,animation:{open:"animated fadeInLeft",close:"animated flipOutX",easing:"swing",speed:300},type:"success",theme:"relax",layout:"topRight",timeout:7e3});"add"==o?(n.attr({"data-state":"delete","data-original-title":"Удалить из избранного"}),n.find(".fa").removeClass("fa-spin fa-star-o").addClass("pulse2 fa-star")):"delete"==o&&(n.attr({"data-state":"add","data-original-title":"Добавить в избранное"}),n.find(".fa").removeClass("fa-spin fa-star").addClass("pulse2 fa-star-o muted"))}}}),!1})}}};i.control.events(),n.control.events(),o.control.events(),s.control.events(),a.control.events()}),$(window).load(function(){$("#top").find(".c-wrapper").mCustomScrollbar({axis:"y",setHeight:700}),$("#top").find(".funds .fund .title").mCustomScrollbar({axis:"y",setHeight:45,theme:"dark"}),$("#top").find(".autocomplete-suggestions").mCustomScrollbar({axis:"y",setHeight:300}),$("#top").find(".categories ul:not(.subcategories)").mCustomScrollbar({axis:"y",setHeight:250})}),$(".short-description__handle.more a").click(function(t){t.preventDefault();var e=$(this).parent();$(e).siblings(".short-description__handle.less").show(),$(e).hide(),$(".short-description__description").toggleClass("less")}),$(".short-description__handle.less a").click(function(t){t.preventDefault();var e=$(this).parent();$(e).siblings(".short-description__handle.more").show(),$(e).hide(),$(".short-description__description").toggleClass("less")}),$(".additional-information__handle.more a").click(function(t){t.preventDefault();var e=$(this).parent();$(e).siblings(".additional-information__handle.less").show(),$(e).hide(),$(".additional-information").toggleClass("open")}),$(".additional-information__handle.less a").click(function(t){t.preventDefault();var e=$(this).parent();$(e).siblings(".additional-information__handle.more").show(),$(e).hide(),$(".additional-information").toggleClass("open")}),$(".store-coupons__show-less").click(function(t){t.preventDefault(),$(".store-coupons__buttons.more").show(),$(".store-coupons__buttons.less").hide(),$(".coupons-item.more").hide()}),$(".store-coupons__show-more").click(function(t){t.preventDefault(),$(".store-coupons__buttons.less").show(),$(".store-coupons__buttons.more").hide(),$(".coupons-item.more").show()}),$(".store-reviews__show-less").click(function(t){t.preventDefault(),$(".store-reviews__buttons.more").show(),$(".store-reviews__buttons.less").hide(),$(".store-reviews-item.more").hide()}),$(".store-reviews__show-more").click(function(t){t.preventDefault(),$(".store-reviews__buttons.less").show(),$(".store-reviews__buttons.more").hide(),$(".store-reviews-item.more").show()}),$(function(){function t(t){return parseFloat(String(t).replace(",",".").match(/-?\d+(?:\.\d+)?/g,"")||0,10)}$(".short-calc-cashback").find("select,input").on("change keyup click",function(){$this=$(this).closest(".short-calc-cashback"),curs=t($this.find("select").val()),val=$this.find("input").val(),t(val)!=val&&(val=$this.find("input").val(t(val))),val=t(val),koef=$this.find("input").attr("data-cashback").trim(),promo=$this.find("input").attr("data-cashback-promo").trim(),currency=$this.find("input").attr("data-cashback-currency").trim(),koef==promo&&(promo=0),koef.indexOf("%")>0?result=t(koef)*val*curs/100:(curs=t($this.find("[code="+currency+"]").val()),result=t(koef)*curs),t(promo)>0?(promo.indexOf("%")>0?promo=t(promo)*val*curs/100:promo=t(promo)*curs,promo>0?out="<span class=old_price>"+result.toFixed(2)+"</span> "+promo.toFixed(2):out=result.toFixed(2)):out=result.toFixed(2),$this.find(".calc-result_value").html(out)}).click()});var notification=function(){function t(){a=!0,s=$(".notification_box"),s.length>0||($("body").append("<div class='notification_box'></div>"),s=$(".notification_box"),s.on("click",".notify_control",e),s.on("click",".notify_close",e),s.on("click",n))}function e(){$("html").removeClass("show_notifi")}function n(t){var n=t.target||t.srcElement;"notification_box"==n.className&&e()}function o(e){e||(e={}),e=objects(l,e),a||t(),notyfy_class="notify_box ",e.notyfy_class&&(notyfy_class+=e.notyfy_class),box_html='<div class="'+notyfy_class+'">',box_html+='<div class="notify_title">',box_html+=e.title,box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=e.question,box_html+="</div>",(e.buttonYes||e.buttonNo)&&(box_html+='<div class="notify_control">',e.buttonYes&&(box_html+='<div class="notify_btn_yes">'+e.buttonYes+"</div>"),e.buttonNo&&(box_html+='<div class="notify_btn_no">'+e.buttonNo+"</div>"),box_html+="</div>"),box_html+="</div>",s.html(box_html),setTimeout(function(){$("html").addClass("show_notifi")},100)}function i(e){e||(e={}),e=objects(r,e),a||t(),box_html='<div class="notify_box">',box_html+='<div class="notify_title">',box_html+=e.title,box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=e.question,box_html+="</div>",(e.buttonYes||e.buttonNo)&&(box_html+='<div class="notify_control">',e.buttonYes&&(box_html+='<div class="notify_btn_yes">'+e.buttonYes+"</div>"),e.buttonNo&&(box_html+='<div class="notify_btn_no">'+e.buttonNo+"</div>"),box_html+="</div>"),box_html+="</div>",s.html(box_html),0!=e.callbackYes&&s.find(".notify_btn_yes").on("click",e.callbackYes.bind(e.obj)),0!=e.callbackNo&&s.find(".notify_btn_no").on("click",e.callbackNo.bind(e.obj)),setTimeout(function(){$("html").addClass("show_notifi")},100)}var s=!1,a=!1,r={title:"Удаление",question:"Вы действительно хотите удалить?",buttonYes:"Да",buttonNo:"Нет",callbackYes:!1,callbackNo:!1,obj:!1},l={title:"",question:"Сообщение",buttonYes:"Да",callbackYes:!1,obj:!1};return{alert:o,confirm:i}}();$("[ref=popup]").on("click",function(t){t.preventDefault(),$this=$(this),el=$($this.attr("href")),data=el.data(),data.question=el.html(),notification.alert(data)}),$(window).load(function(){$(".accordion .accordion-control").on("click",function(t){return t.preventDefault(),$this=$(this),$accordion=$this.closest(".accordion"),$accordion.hasClass("open")?($accordion.find(".accordion-content").hide(300),$accordion.removeClass("open")):($accordion.find(".accordion-content").show(300),$accordion.addClass("open")),!1})}),objects=function(t,e){var n,o=e;for(n in t)t.hasOwnProperty(n)&&(o[n]=n in e?e[n]:t[n]);return o},function(){function t(){data=this,data.img.attr("src",data.src)}imgs=$("section:not(.navigation)").find(".logo img");for(var e=0;e<imgs.length;e++)img=imgs.eq(e),src=img.attr("src"),img.attr("src","/images/template-logo.jpg"),data={src:src,img:img},image=$("<img/>",{src:src}).on("load",t.bind(data))}(),function(){for(els=$(".ajax_load"),i=0;i<els.length;i++)el=els.eq(i),url=el.attr("res"),$.get(url,function(t){$this=$(this),$this.html(t),ajaxForm($this)}.bind(el))}(),$("input[type=file]").on("change",function(t){var e=t.target.files,n=e[0];if(!n.type.match("image.*"))return!1;var o=new FileReader;data={el:this,f:n},o.onload=function(t){return function(e){img=$('[for="'+t.el.name+'"]'),img.length>0&&img.attr("src",e.target.result)}}(data),o.readAsDataURL(n)}),$("body").on("click","a.ajaxFormOpen",function(t){t.preventDefault(),href=this.href.split("#"),href=href[href.length-1],data={buttonYes:!1,notyfy_class:"notify_white loading",question:""},modal_class=$(this).data("modal-class"),notification.alert(data),$.get("/"+href,function(t){$(".notify_box").removeClass("loading"),$(".notify_box .notify_content").html(t.html),ajaxForm($(".notify_box .notify_content")),modal_class&&$(".notify_box .notify_content .row").addClass(modal_class)},"json")}),addSRO(),$("body").on("click","a[href=#login],a[href=#registration],a[href=#resetpassword]",function(t){t.preventDefault();var e=$("a[href='#showpromocode-noregister']").data("popup");e?e.close():(e=$("div.popup_cont, div.popup_back"),e&&e.hide()),href=this.href.split("#"),href=href[href.length-1],data={buttonYes:!1,notyfy_class:"notify_white loading",question:""},notification.alert(data),$.get("/"+href,function(t){$(".notify_box").removeClass("loading"),$(".notify_box .notify_content").html(t.html),ajaxForm($(".notify_box .notify_content"))},"json")}),$(function(){function t(t){var e=$(".notify_content .rating .fa-wrapper .fa");e.removeClass("fa-star").addClass("fa-star-o");for(var n=0;n<t;n++)e.eq(n).removeClass("fa-star-o").addClass("fa-star")}$(document).on("mouseover",".notify_content .rating .fa-wrapper .fa",function(e){t($(this).index()+1)}).on("mouseleave",".notify_content .rating .fa-wrapper",function(e){t($('.notify_content input[name="Reviews[rating]"]').val())}).on("click",".notify_content .rating .fa-wrapper .fa",function(e){t($(this).index()+1),$('.notify_content input[name="Reviews[rating]"]').val($(this).index()+1)})}),ajaxForm($(".ajax_form")),$("a[href='#showpromocode-noregister']").popup({content:'<div class="coupon-noregister"><div class="coupon-noregister__icon"><img src="/images/templates/swa.png" alt=""></div><div class="coupon-noregister__text">Для получения кэшбэка необходимо</br>авторизоваться на сайте</div><div class="coupon-noregister__buttons"><a href="goto/coupon:{id}" target="_blank" class="btn  btn-popup">Воспользоваться</br>купоном</br>без регистрации</a><a href="#registration" class="btn btn-popup">Зарегистрироваться</br>и получить</br>ещё и кэшбэк</a></div><div>',type:"html",beforeOpen:function(){var t=$(this.ele).data("id");this.o.content=this.o.content.replace("{id}",t),popup=$("div.popup_cont, div.popup_back"),popup&&popup.show()},afterOpen:function(){$(".popup_content")[0].innerHTML=this.o.content}}),$("a[href='#comment-popup']").popup({content:function(){var t=this.ele.parentElement.parentElement.parentElement.cloneNode(!0);t.setAttribute("data-comment-id","9999");var e=document.createElement("div");return e.className="comments comments-modal",e.append(t),$(e).find(".current-comment__more").remove(),$(e).find(".comment.list").removeClass("list"),e},width:function(){var t=$(".current-comment");return t.length>1?.9*t[0].offsetWidth:500}}),$(".current-comment").each(function(t,e){var n=$(e).find(".text"),o=$(n).find(".comment");if(o[0].innerHTML.length>210){var i=document.createElement("a"),s=document.createElement("p");i.className="current-comment__more",i.setAttribute("href","#comment-popup"),i.innerHTML="Показать полностью",s.append(i),n.append(s)}});