{{ use('/yii/grid/GridView') }}
{% set title = 'Catalog Stores' %}
{{ set(this, 'title', title) }}
{% if not this.params.breadcrumbs %}
{{ set(this, 'params', this.params|merge({'breadcrumbs': []})) }}
{% endif %}
{% set breadcrumbs = this.params.breadcrumbs %}
{% set breadcrumbs = breadcrumbs|merge([title]) %}
{{ set(this, 'params', this.params|merge({'breadcrumbs': breadcrumbs})) }}
<div class="catalog-stores-index">
    <h1>{{ html.encode(this.title) }}</h1>
    {# include('_search.twig', {'model': searchModel}) #}

    {{ grid_view_widget({
            'dataProvider': dataProvider,
            'filterModel': searchModel,
            'columns': [
                {'class': '\\yii\\grid\\SerialColumn'},

                'id',
                {
                    'attribute':'store',
                    'format':'raw',
                    'filter':storeFilter,
                    'value': 'store.name'
                },
                'name',
                {'attribute':'cpa_id', 'format':'raw', 'value':'cpa.name', 'filter':cpaFilter},
                'product_count',
                {
                  'format':'raw',
                  'attribute': 'active',
                  'value': tableData.active,
                  'filter':activeFilter
                },
                'date_download',
                'date_import',
                {'attribute':'regions', 'format':'raw', 'value':'regionsList', 'filter': regionsList},
                {
                  'class': '\\yii\\grid\\ActionColumn',
                  'template': '{update} {delete} {clear}',
                    'buttons': {'clear': clear},
                },
            ],
        })
    }}
{#
'product_count',
'active',
'date_import',
'date_update',
'crated_at'
#}
</div>