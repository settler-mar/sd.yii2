{{ use('/yii/grid/GridView') }}
{% set title = 'Templates' %}
{{ set(this, 'title', title) }}
{% if not this.params.breadcrumbs %}
{{ set(this, 'params', this.params|merge({'breadcrumbs': []})) }}
{% endif %}
{% set breadcrumbs = this.params.breadcrumbs %}
{% set breadcrumbs = breadcrumbs|merge([title]) %}
{{ set(this, 'params', this.params|merge({'breadcrumbs': breadcrumbs})) }}
<div class="template-index">
    <div class="content-wrapper">
        <section>
            <div class="row">
                <div class="col-md-12">
                    <h1>{{ html.encode(this.title) }}</h1>
                    <p>
                        <a href="{{ path(['create']) }}" class="btn btn-success">{{ 'Create Promo' }}</a>
                    </p>
                    {{ grid_view_widget({
                            'dataProvider': dataProvider,
                            'filterModel': searchModel,
                                'columns': [
                                {'class': '\\yii\\grid\\SerialColumn'},

                                'id',
                                'code',
                                'name',
                                'data:ntext',
                                'test_data:ntext',

                                {'class': '\\yii\\grid\\ActionColumn','template' : '{update} {delete}'},
                            ],
                        })
                    }}
                </div>
            </div>
        </section>
    </div>
</div>