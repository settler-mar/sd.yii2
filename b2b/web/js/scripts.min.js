var lg=function(){var n={};function o(t){if(t=t.replace(/\s+/g," "),str=t.match(/\{(.*?)\}/g),null!=str)for(i=0;i<str.length;i++)str_t=str[i].replace(/ /g,""),t=t.replace(str[i],str_t);return t}return url="/language/"+document.documentElement.lang+".json",$.get(url,function(t){for(var e in t)t[e]=o(t[e]);n=t;var i=new CustomEvent("language_loaded");document.dispatchEvent(i)},"json"),function(t,e){if("undefined"==typeof n[t])return console.log("lang not found: "+t),t;if(t=n[t],"object"==typeof e)for(var i in e)t=t.split("{"+i+"}").join(e[i]);return t}}();!function(e){"use strict";e(function(){var t;e.support.transition=(t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(e.style[t]!==undefined)return i[t]}())&&{end:t}})}(window.jQuery),function(s){"use strict";var e='[data-dismiss="alert"]',n=function(t){s(t).on("click",e,this.close)};n.prototype.close=function(t){function e(){i.trigger("closed").remove()}var i,n=s(this),o=n.attr("data-target");o||(o=(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),i=s(o),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=s.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),s.support.transition&&i.hasClass("fade")?i.on(s.support.transition.end,e):e())};var t=s.fn.alert;s.fn.alert=function(i){return this.each(function(){var t=s(this),e=t.data("alert");e||t.data("alert",e=new n(this)),"string"==typeof i&&e[i].call(t)})},s.fn.alert.Constructor=n,s.fn.alert.noConflict=function(){return s.fn.alert=t,this},s(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),function(o){"use strict";var s=function(t,e){this.$element=o(t),this.options=o.extend({},o.fn.button.defaults,e)};s.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),o=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},s.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=function(n){return this.each(function(){var t=o(this),e=t.data("button"),i="object"==typeof n&&n;e||t.data("button",e=new s(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})},o.fn.button.defaults={loadingText:"loading..."},o.fn.button.Constructor=s,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.button.data-api","[data-toggle^=button]",function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle")})}(window.jQuery),function(c){"use strict";var s=function(t,e){this.$element=c(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,"hover"==this.options.pause&&this.$element.on("mouseenter",c.proxy(this.pause,this)).on("mouseleave",c.proxy(this.cycle,this))};s.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var e=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){i.to(t)}):e==t?this.pause().cycle():this.slide(e<t?"next":"prev",c(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition.end&&(this.$element.trigger(c.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,e){var i,n=this.$element.find(".item.active"),o=e||n[t](),s=this.interval,a="next"==t?"left":"right",r="next"==t?"first":"last",l=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[r](),i=c.Event("slide",{relatedTarget:o[0],direction:a}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=c(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),c.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,n.addClass(a),o.addClass(a),this.$element.one(c.support.transition.end,function(){o.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var t=c.fn.carousel;c.fn.carousel=function(o){return this.each(function(){var t=c(this),e=t.data("carousel"),i=c.extend({},c.fn.carousel.defaults,"object"==typeof o&&o),n="string"==typeof o?o:i.slide;e||t.data("carousel",e=new s(this,i)),"number"==typeof o?e.to(o):n?e[n]():i.interval&&e.pause().cycle()})},c.fn.carousel.defaults={interval:5e3,pause:"hover"},c.fn.carousel.Constructor=s,c.fn.carousel.noConflict=function(){return c.fn.carousel=t,this},c(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var e,i,n=c(this),o=c(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),s=c.extend({},o.data(),n.data());o.carousel(s),(i=n.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),function(s){"use strict";var o=function(t,e){this.$element=s(t),this.options=s.extend({},s.fn.collapse.defaults,e),this.options.parent&&(this.$parent=s(this.options.parent)),this.options.toggle&&this.toggle()};o.prototype={constructor:o,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,e,i,n;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),e=s.camelCase(["scroll",t].join("-")),(i=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&i.length){if((n=i.data("collapse"))&&n.transitioning)return;i.collapse("hide"),n||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",s.Event("show"),"shown"),s.support.transition&&this.$element[t](this.$element[0][e])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",s.Event("hide"),"hidden"),this.$element[t](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(t,e,i){var n=this,o=function(){"show"==e.type&&n.reset(),n.transitioning=0,n.$element.trigger(i)};this.$element.trigger(e),e.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),s.support.transition&&this.$element.hasClass("collapse")?this.$element.one(s.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var t=s.fn.collapse;s.fn.collapse=function(n){return this.each(function(){var t=s(this),e=t.data("collapse"),i=s.extend({},s.fn.collapse.defaults,t.data(),"object"==typeof n&&n);e||t.data("collapse",e=new o(this,i)),"string"==typeof n&&e[n]()})},s.fn.collapse.defaults={toggle:!0},s.fn.collapse.Constructor=o,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=s(this),n=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),o=s(n).data("collapse")?"toggle":i.data();i[s(n).hasClass("in")?"addClass":"removeClass"]("collapsed"),s(n).collapse(o)})}(window.jQuery),function(a){"use strict";function o(){a(l).each(function(){r(a(this)).removeClass("open")})}function r(t){var e,i=t.attr("data-target");return i||(i=(i=t.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),(e=i&&a(i))&&e.length||(e=t.parent()),e}var l="[data-toggle=dropdown]",n=function(t){var e=a(t).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var e,i,n=a(this);if(!n.is(".disabled, :disabled"))return i=(e=r(n)).hasClass("open"),o(),i||e.toggleClass("open"),n.focus(),!1},keydown:function(t){var e,i,n,o,s;if(/(38|40|27)/.test(t.keyCode)&&(e=a(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(!(o=(n=r(e)).hasClass("open"))||o&&27==t.keyCode)return 27==t.which&&n.find(l).focus(),e.click();(i=a("[role=menu] li:not(.divider):visible a",n)).length&&(s=i.index(i.filter(":focus")),38==t.keyCode&&0<s&&s--,40==t.keyCode&&s<i.length-1&&s++,~s||(s=0),i.eq(s).focus())}}};var t=a.fn.dropdown;a.fn.dropdown=function(i){return this.each(function(){var t=a(this),e=t.data("dropdown");e||t.data("dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},a.fn.dropdown.Constructor=n,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.dropdown.data-api",o).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",l,n.prototype.toggle).on("keydown.dropdown.data-api",l+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(s){"use strict";var o=function(t,e){this.options=e,this.$element=s(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",s.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};o.prototype={constructor:o,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,t=s.Event("show");this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var t=s.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),t?e.$element.one(s.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=s.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),s(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),s.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;s(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,e=setTimeout(function(){t.$element.off(s.support.transition.end),t.hideModal()},500);this.$element.one(s.support.transition.end,function(){clearTimeout(e),t.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=s.support.transition&&e;if(this.$backdrop=s('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?s.proxy(this.$element[0].focus,this.$element[0]):s.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(s.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.support.transition.end,t):t()):t&&t()}};var t=s.fn.modal;s.fn.modal=function(n){return this.each(function(){var t=s(this),e=t.data("modal"),i=s.extend({},s.fn.modal.defaults,t.data(),"object"==typeof n&&n);e||t.data("modal",e=new o(this,i)),"string"==typeof n?e[n]():i.show&&e.show()})},s.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},s.fn.modal.Constructor=o,s.fn.modal.noConflict=function(){return s.fn.modal=t,this},s(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e=s(this),i=e.attr("href"),n=s(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},n.data(),e.data());t.preventDefault(),n.modal(o).one("hide",function(){e.focus()})})}(window.jQuery),function(l){"use strict";var o=function(t,e){this.init("tooltip",t,e)};o.prototype={constructor:o,init:function(t,e,i){var n,o,s,a,r;for(this.type=t,this.$element=l(e),this.options=this.getOptions(i),this.enabled=!0,r=(s=this.options.trigger.split(" ")).length;r--;)"click"==(a=s[r])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=a&&(n="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=l.extend({},l.fn[this.type].defaults,this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e,i=l.fn[this.type].defaults,n={};if(this._options&&l.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)},this),!(e=l(t.currentTarget)[this.type](n).data(this.type)).options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(t){var e=l(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out",this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var t,e,i,n,o,s,a=l.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),e=this.getPosition(),i=t[0].offsetWidth,n=t[0].offsetHeight,o){case"bottom":s={top:e.top+e.height,left:e.left+e.width/2-i/2};break;case"top":s={top:e.top-n,left:e.left+e.width/2-i/2};break;case"left":s={top:e.top+e.height/2-n/2,left:e.left-i};break;case"right":s={top:e.top+e.height/2-n/2,left:e.left+e.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,o,s,a=this.tip(),r=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),i=a[0].offsetWidth,n=a[0].offsetHeight,"top"==e&&n!=l&&(t.top=t.top+l-n,s=!0),"bottom"==e||"top"==e?(o=0,t.left<0&&(o=-2*t.left,t.left=0,a.offset(t),i=a[0].offsetWidth,n=a[0].offsetHeight),this.replaceArrow(o-r+i,i,"left")):this.replaceArrow(n-l,n,"top"),s&&a.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var e=this.tip(),t=l.Event("hide");if(this.$element.trigger(t),!t.isDefaultPrevented())return e.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?function i(){var t=setTimeout(function(){e.off(l.support.transition.end).detach()},500);e.one(l.support.transition.end,function(){clearTimeout(t),e.detach()})}():e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return l.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var e=t?l(t.currentTarget)[this.type](this._options).data(this.type):this;e.tip().hasClass("in")?e.hide():e.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var t=l.fn.tooltip;l.fn.tooltip=function(n){return this.each(function(){var t=l(this),e=t.data("tooltip"),i="object"==typeof n&&n;e||t.data("tooltip",e=new o(this,i)),"string"==typeof n&&e[n]()})},l.fn.tooltip.Constructor=o,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=t,this}}(window.jQuery),function(o){"use strict";var s=function(t,e){this.init("popover",t,e)};s.prototype=o.extend({},o.fn.tooltip.Constructor.prototype,{constructor:s,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=o(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var t=o.fn.popover;o.fn.popover=function(n){return this.each(function(){var t=o(this),e=t.data("popover"),i="object"==typeof n&&n;e||t.data("popover",e=new s(this,i)),"string"==typeof n&&e[n]()})},o.fn.popover.Constructor=s,o.fn.popover.defaults=o.extend({},o.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(window.jQuery),function(s){"use strict";function o(t,e){var i,n=s.proxy(this.process,this),o=s(t).is("body")?s(window):s(t);this.options=s.extend({},s.fn.scrollspy.defaults,e),this.$scrollElement=o.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(i=s(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=s("body"),this.refresh(),this.process()}o.prototype={constructor:o,refresh:function(){var n=this;this.offsets=s([]),this.targets=s([]),this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),i=/^#\w/.test(e)&&s(e);return i&&i.length&&[[i.position().top+(!s.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),n=this.offsets,o=this.targets,s=this.activeTarget;if(i<=e)return s!=(t=o.last()[0])&&this.activate(t);for(t=n.length;t--;)s!=o[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(o[t])},activate:function(t){var e,i;this.activeTarget=t,s(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',(e=s(i).parent("li").addClass("active")).parent(".dropdown-menu").length&&(e=e.closest("li.dropdown").addClass("active")),e.trigger("activate")}};var t=s.fn.scrollspy;s.fn.scrollspy=function(n){return this.each(function(){var t=s(this),e=t.data("scrollspy"),i="object"==typeof n&&n;e||t.data("scrollspy",e=new o(this,i)),"string"==typeof n&&e[n]()})},s.fn.scrollspy.Constructor=o,s.fn.scrollspy.defaults={offset:10},s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);t.scrollspy(t.data())})})}(window.jQuery),function(a){"use strict";var n=function(t){this.element=a(t)};n.prototype={constructor:n,show:function(){var t,e,i,n=this.element,o=n.closest("ul:not(.dropdown-menu)"),s=n.attr("data-target");s||(s=(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=a.Event("show",{relatedTarget:t}),n.trigger(i),i.isDefaultPrevented()||(e=a(s),this.activate(n.parent("li"),o),this.activate(e,e.parent(),function(){n.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,e,i){function n(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=e.find("> .active"),s=i&&a.support.transition&&o.hasClass("fade");s?o.one(a.support.transition.end,n):n(),o.removeClass("in")}};var t=a.fn.tab;a.fn.tab=function(i){return this.each(function(){var t=a(this),e=t.data("tab");e||t.data("tab",e=new n(this)),"string"==typeof i&&e[i]()})},a.fn.tab.Constructor=n,a.fn.tab.noConflict=function(){return a.fn.tab=t,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),a(this).tab("show")})}(window.jQuery),function(o){"use strict";var s=function(t,e){this.$element=o(t),this.options=o.extend({},o.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=o(this.options.menu),this.shown=!1,this.listen()};s.prototype={constructor:s,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var t=o.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=o.isFunction(this.source)?this.source(this.query,o.proxy(this.process,this)):this.source)?this.process(e):this},process:function(t){var e=this;return t=o.grep(t,function(t){return e.matcher(t)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],o=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):o.push(e):i.push(e);return i.concat(n,o)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(t){var i=this;return(t=o(t).map(function(t,e){return(t=o(i.options.item).attr("data-value",e)).find("a").html(i.highlighter(e)),t[0]})).first().addClass("active"),this.$menu.html(t),this},next:function(t){var e=this.$menu.find(".active").removeClass("active").next();e.length||(e=o(this.$menu.find("li")[0])),e.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",o.proxy(this.focus,this)).on("blur",o.proxy(this.blur,this)).on("keypress",o.proxy(this.keypress,this)).on("keyup",o.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",o.proxy(this.keydown,this)),this.$menu.on("click",o.proxy(this.click,this)).on("mouseenter","li",o.proxy(this.mouseenter,this)).on("mouseleave","li",o.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~o.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),o(t.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var t=o.fn.typeahead;o.fn.typeahead=function(n){return this.each(function(){var t=o(this),e=t.data("typeahead"),i="object"==typeof n&&n;e||t.data("typeahead",e=new s(this,i)),"string"==typeof n&&e[n]()})},o.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},o.fn.typeahead.Constructor=s,o.fn.typeahead.noConflict=function(){return o.fn.typeahead=t,this},o(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var e=o(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),function(r){"use strict";var o=function(t,e){this.options=r.extend({},r.fn.affix.defaults,e),this.$window=r(window).on("scroll.affix.data-api",r.proxy(this.checkPosition,this)).on("click.affix.data-api",r.proxy(function(){setTimeout(r.proxy(this.checkPosition,this),1)},this)),this.$element=r(t),this.checkPosition()};o.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,e=r(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),o=this.options.offset,s=o.bottom,a=o.top;"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom()),t=!(null!=this.unpin&&i+this.unpin<=n.top)&&(null!=s&&n.top+this.$element.height()>=e-s?"bottom":null!=a&&i<=a&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?n.top-i:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var t=r.fn.affix;r.fn.affix=function(n){return this.each(function(){var t=r(this),e=t.data("affix"),i="object"==typeof n&&n;e||t.data("affix",e=new o(this,i)),"string"==typeof n&&e[n]()})},r.fn.affix.Constructor=o,r.fn.affix.defaults={offset:0},r.fn.affix.noConflict=function(){return r.fn.affix=t,this},r(window).on("load",function(){r('[data-spy="affix"]').each(function(){var t=r(this),e=t.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),t.affix(e)})})}(window.jQuery);var accordionControl=$(".accordion .accordion-control");accordionControl.on("click",function(t){return t.preventDefault(),$this=$(this),$accordion=$this.closest(".accordion"),$accordion.hasClass("open")?($accordion.find(".accordion-content").hide(300),$accordion.removeClass("open")):($accordion.find(".accordion-content").show(300),$accordion.addClass("open")),!1}),accordionControl.show(),objects=function(t,e){var i,n=e;for(i in t)t.hasOwnProperty(i)&&(n[i]=i in e?e[i]:t[i]);return n},$(document).ready(function(){function t(){data=this,0==data.type?data.img.attr("src",data.src):(data.img.css("background-image","url("+data.src+")"),data.img.removeClass("no_ava"))}imgs=$("section:not(.navigation)").find(".logo img");for(var e=0;e<imgs.length;e++)img=imgs.eq(e),i=img.attr("src"),img.attr("src","/images/template-logo.jpg"),data={src:i,img:img,type:0},image=$("<img/>",{src:i}).on("load",t.bind(data));imgs=$(".comment-photo");for(e=0;e<imgs.length;e++)if(img=imgs.eq(e),!img.hasClass("no_ava")){var i=img.css("background-image");i=(i=i.replace('url("',"")).replace('")',""),img.addClass("no_ava"),img.css("background-image","url(/images/no_ava.png)"),data={src:i,img:img,type:1},image=$("<img/>",{src:i}).on("load",t.bind(data))}}),function(){for(els=$(".ajax_load").not("a"),i=0;i<els.length;i++)el=els.eq(i),url=el.attr("res"),$.get(url,function(t){$this=$(this),$this.html(t),ajaxForm($this)}.bind(el))}(),$("input[type=file]").on("change",function(t){var e=t.target.files[0];if(!e.type.match("image.*"))return!1;var i,n=new FileReader;data={el:this,f:e},n.onload=(i=data,function(t){img=$('[for="'+i.el.name+'"]'),0<img.length&&img.attr("src",t.target.result)}),n.readAsDataURL(e)}),$("body").on("click","a.ajaxFormOpen",function(t){t.preventDefault(),href=this.href.split("#"),href=href[href.length-1],data={buttonYes:!1,notyfy_class:"notify_white loading",question:""},modal_class=$(this).data("modal-class"),notification.alert(data),$.get("/"+href,function(t){$(".notify_box").removeClass("loading"),$(".notify_box .notify_content").html(t.html),ajaxForm($(".notify_box .notify_content")),modal_class&&$(".notify_box .notify_content .row").addClass(modal_class)},"json")}),$(".ajax-action").click(function(t){t.preventDefault();var e=$(this).data("value"),i=$(this).data("param"),n=$(this).attr("href"),o=$("#grid-ajax-action").yiiGridView("getSelectedRows");if(0<o.length){if(!confirm("Подтвердите изменение записей"))return null;var s=$(this).closest(".ajax-action-content"),a=$(this).data();s?($(s).find("input,select").each(function(t,e){a[$(e).attr("name")]=$(e).val()}),a.id=o):a={status:e,param:i,id:o},$.ajax({url:n,type:"post",dataType:"json",data:a}).done(function(t){$("#grid-ajax-action").yiiGridView("applyFilter"),0!=t.error?notification.notifi({message:"Произошла ошибка!",type:"err"}):notification.notifi({message:"Операция выполнена!",type:"success"})}).fail(function(t){302!=t.status&&notification.notifi({message:"Произошла ошибка!",type:"err"})})}else notification.notifi({message:"Необходимо выбрать элементы!",type:"err"})}),$(document).ready(function(){$(".editible[disabled]").on("click",function(){$(this).prop("disabled",!1)}),$(".editible[disabled]").on("mousedown",function(){$(this).prop("disabled",!1)}),btn='<button class=unlock><i class="fa fa-unlock fa-4" aria-hidden="true"></i></button>',btn=$(btn),btn.on("click",function(t){return t.preventDefault(),$this=$(this),inp=$this.prev(),inp.prop("disabled",!1),!1}),$(".editible[disabled]").after(btn)}),$(function(){({control:{headerStoresMenu:$("#top").find(".submenu-handl"),storesSubmenus:$("#top").find(".submenu-handl").find(".submenu"),events:function(){var e=this;e.headerStoresMenu.hover(function(){var t=$(this).find(".submenu");991<$(window).width()&&(clearTimeout(e.storeHide),e.storesSubmenus.css("display","none"),e.storeShow=setTimeout(function(){t.clearQueue(),t.css("display","block").animate({opacity:1},350)},200))},function(){var t=$(this).find(".submenu");991<$(window).width()&&(clearTimeout(e.storeShow),e.storeHide=setTimeout(function(){t.clearQueue(),t.animate({opacity:0},200,function(){$(this).css("display","none")})},300))})}}}).control.events()}),$(document).ready(function(){var n=screen.width-40;function t(t){var e=t.parent();if(0!=e.length&&"A"!=e[0].tagName){m_w=e.width()-30;var i=t.width();t.width("auto"),"IMG"==t[0].tagName&&i>t.width()&&(i=t.width()),50<n&&m_w>n&&(m_w=n),i>m_w>m_w?("IFRAME"==t[0].tagName&&(k=i/m_w,t.height(t.height()/k)),t.width(m_w)):t.width(i)}}function e(){t($(this))}var o=$(".container img,.container iframe");for($(".container img").height("auto"),i=0;i<o.length;i++)if(el=o.eq(i),"IFRAME"==el[0].tagName)t(el);else{var s=el.attr("src");image=$("<img/>",{src:s}),image.on("load",e.bind(el))}}),window.opener&&(document.referrer.indexOf("secretdiscounter")<0||(href=window.opener.location.href,0<href.indexOf("socials")||0<href.indexOf("login")||0<href.indexOf("admin")||0<href.indexOf("account")||(0<href.indexOf("store")||0<href.indexOf("coupon")||0<href.indexOf("settings")?window.opener.location.reload():window.opener.location.href=location.href,window.close()))),function(){function t(){var t=this,e=t.img;e.wrap('<div class="download"></div>');var i=e.parent();$("body").append(t.el),size=t.el.width()+"x"+t.el.height(),t.el.remove(),i.append("<span>"+size+'</span> <a href="'+t.src+'" download>Скачать</a>')}for(var e=$(".downloads_img img"),i=0;i<e.length;i++){var n=e.eq(i),o=n.attr("src");image=$("<img/>",{src:o}),data={src:o,img:n,el:image},image.on("load",t.bind(data))}}();var notification=function(){var conteiner,mouseOver=0,timerClearAll=null,animationEnd="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",time=1e4,notification_box=!1,is_init=!1,confirm_opt={callbackYes:!1,callbackNo:!1,obj:!1,buttonTag:"div",buttonYesDop:"",buttonNoDop:""},alert_opt={title:"",question:"message",callbackYes:!1,buttonTag:"div",obj:!1};function testIphone(){/(iPhone|iPad|iPod).*(OS 11)/.test(navigator.userAgent)&&(notification_box.css("position","absolute"),notification_box.css("top",$(document).scrollTop()))}function init(){is_init=!0,0<(notification_box=$(".notification_box")).length||($("body").append("<div class='notification_box'></div>"),(notification_box=$(".notification_box")).on("click",".notify_control",closeModal),notification_box.on("click",".notify_close",closeModal),notification_box.on("click",closeModalFon))}function closeModal(){$("html").removeClass("show_notifi"),$(".notification_box .notify_content").html("")}function closeModalFon(t){"notification_box"==(t.target||t.srcElement).className&&closeModal()}var _setUpListeners=function(){$("body").on("click",".notification_close",_closePopup),$("body").on("mouseenter",".notification_container",_onEnter),$("body").on("mouseleave",".notification_container",_onLeave)},_onEnter=function(t){t&&t.preventDefault(),null!=timerClearAll&&(clearTimeout(timerClearAll),timerClearAll=null),conteiner.find(".notification_item").each(function(t){var e=$(this).data("option");e.timer&&clearTimeout(e.timer)}),mouseOver=1},_onLeave=function(){conteiner.find(".notification_item").each(function(t){$this=$(this);var e=$this.data("option");0<e.time&&(e.timer=setTimeout(_closePopup.bind(e.close),e.time-1500+100*t),$this.data("option",e))}),mouseOver=0},_closePopup=function(t){t&&t.preventDefault();var e=$(this).parent();e.on(animationEnd,function(){$(this).remove()}),e.addClass("notification_hide")};function alert(t){t||(t={}),alert_opt=objects(alert_opt,{buttonYes:lg("yes")}),t=objects(alert_opt,t),is_init||init(),testIphone(),notyfy_class="notify_box ",t.notyfy_class&&(notyfy_class+=t.notyfy_class),box_html='<div class="'+notyfy_class+'">',box_html+='<div class="notify_title">',box_html+="<div>"+t.title+"</div>",box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=t.question,box_html+="</div>",(t.buttonYes||t.buttonNo)&&(box_html+='<div class="notify_control">',t.buttonYes&&(box_html+="<"+t.buttonTag+' class="notify_btn_yes" '+t.buttonYesDop+">"+t.buttonYes+"</"+t.buttonTag+">"),t.buttonNo&&(box_html+="<"+t.buttonTag+' class="notify_btn_no" '+t.buttonNoDop+">"+t.buttonNo+"</"+t.buttonTag+">"),box_html+="</div>"),box_html+="</div>",notification_box.html(box_html),setTimeout(function(){$("html").addClass("show_notifi")},100)}function confirm(data){if(data||(data={}),confirm_opt=objects(confirm_opt,{title:lg("deleting"),question:lg("are_you_sure_to_delete"),buttonYes:lg("yes"),buttonNo:lg("no")}),data=objects(confirm_opt,data),"string"==typeof data.callbackYes){var code="data.callbackYes = function(){"+data.callbackYes+"}";eval(code)}is_init||init(),testIphone(),notyfy_class="notify_box ",data.notyfy_class&&(notyfy_class+=data.notyfy_class),box_html='<div class="'+notyfy_class+'">',box_html+='<div class="notify_title">',box_html+=data.title,box_html+='<span class="notify_close"></span>',box_html+="</div>",box_html+='<div class="notify_content">',box_html+=data.question,box_html+="</div>",(data.buttonYes||data.buttonNo)&&(box_html+='<div class="notify_control">',data.buttonYes&&(box_html+='<div class="notify_btn_yes">'+data.buttonYes+"</div>"),data.buttonNo&&(box_html+='<div class="notify_btn_no">'+data.buttonNo+"</div>"),box_html+="</div>"),box_html+="</div>",notification_box.html(box_html),0!=data.callbackYes&&notification_box.find(".notify_btn_yes").on("click",data.callbackYes.bind(data.obj)),0!=data.callbackNo&&notification_box.find(".notify_btn_no").on("click",data.callbackNo.bind(data.obj)),setTimeout(function(){$("html").addClass("show_notifi")},100)}function notifi(t){t||(t={});var e={time:t.time||0===t.time?t.time:time};conteiner||(conteiner=$("<ul/>",{"class":"notification_container"}),$("body").append(conteiner),_setUpListeners());var i=$("<li/>",{"class":"notification_item"});t.type&&i.addClass("notification_item-"+t.type);var n=$("<span/>",{"class":"notification_close"});e.close=n,i.append(n);var o=$("<div/>",{"class":"notification_content"});if(t.title&&0<t.title.length){var s=$("<h5/>",{"class":"notification_title"});s.html(t.title),o.append(s)}var a=$("<div/>",{"class":"notification_text"});if(a.html(t.message),t.img&&0<t.img.length){var r=$("<div/>",{"class":"notification_img"});r.css("background-image","url("+t.img+")");var l=$("<div/>",{"class":"wrap"});l.append(r),l.append(a),o.append(l)}else o.append(a);i.append(o),conteiner.append(i),0<e.time&&(e.timer=setTimeout(_closePopup.bind(n),e.time)),i.data("option",e)}return{alert:alert,confirm:confirm,notifi:notifi}}();function ajaxForm(t){window.File&&window.FileReader&&window.FileList&&window.Blob;var e,i={error_class:".has-error"},f=!1;function n(t){t.preventDefault();var e=+new Date;if(e-f<2e3)return!1;f=e;var i=this,n=i.form,o=i.wrap;i.wrap_html=o.html();for(var s=!0,a=n.find('input.required, textarea.required, input[id="support-recaptcha"]'),r=0;r<a.length;r++){var l=a.eq(r).closest(".form-group").find(".help-block"),c=l&&l.data("message")?l.data("message"):lg("required");a.eq(r).val().length<1?($(l).closest(".form-group").addClass("has-error"),l.html(c),l.addClass("help-block-error"),s=!1):(l.html(""),$(l).closest(".form-group").removeClass("has-error"),l.removeClass("help-block-error"))}if(!s)return!1;if(n.yiiActiveForm){n.off("afterValidate"),n.on("afterValidate",function d(t){0==data.form.find(data.param.error_class).length&&u(this);return!0}.bind(i)),n.yiiActiveForm("validate",!0);var h=n.data("yiiActiveForm");return h&&(h.validated=!0,n.data("yiiActiveForm",h),n.yiiActiveForm("validate"),s=h.validated),t.stopImmediatePropagation(),t.stopPropagation(),!1}if(!(s=s&&0==n.find(i.param.error_class).length))return!1;t.stopImmediatePropagation(),t.stopPropagation(),u(i)}function u(t){var e=t.form;e.serializeObject||addSRO();var i=e.serializeObject();e.addClass("loading"),e.html(""),t.wrap.html('<div style="text-align:center;"><p>'+lg("sending_data")+"</p></div>"),t.url+=(0<t.url.indexOf("?")?"&":"?")+"rc="+Math.random(),"undefined"!=typeof lang&&-1==t.url.indexOf(lang.href_prefix)&&(t.url="/"+lang.href_prefix+t.url,t.url=t.url.replace("//","/").replace("//","/")),$.post(t.url,i,function a(t){f=+new Date;var e=this.form,i=this.wrap,n=this.wrap_html;if(t.render?(t.notyfy_class="notify_white",notification.alert(t)):(i.removeClass("loading"),e.removeClass("loading"),t.html?(i.html(t.html),ajaxForm(i)):t.error||(e.removeClass("loading"),i.html(n),e.find("input[type=text],textarea").val(""),ajaxForm(i))),"object"==typeof t.error)for(var o in t.error)notification.notifi({type:"err",title:t.title?t.title:lg("error"),message:t.error[o]});else if(Array.isArray(t.error))for(var s=0;s<t.error.length;s++)notification.notifi({type:"err",title:t.title?t.title:lg("error"),message:t.error[s]});else(t.error||t.message)&&notification.notifi({type:!1===t.error?"success":"err",title:t.title?t.title:!1===t.error?lg("success"):lg("error"),message:t.message?t.message:t.error})}.bind(t),"json").fail(function n(){f=+new Date,this.form;var t=this.wrap;t.removeClass("loading"),t.html("<h3>"+lg("sorry_not_expected_error")+"<h3>"+lg("it_happens_sometimes")),ajaxForm(t)}.bind(t))}t.find("[required]").addClass("required").removeAttr("required");for(var o=0;o<t.length;o++)e=t.eq(o),form=e.find("form"),data={form:form,param:i,wrap:e},data.url=form.attr("action")||location.href,data.method=form.attr("method")||"post",form.unbind("submit"),form.on("submit",n.bind(data));"function"==typeof placeholder&&placeholder()}function addSRO(){$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}}$("[ref=popup]").on("click",function(t){t.preventDefault(),$this=$(this),el=$($this.attr("href")),data=el.data(),data.question=el.html(),notification.alert(data)}),$("[ref=confirm]").on("click",function(t){t.preventDefault(),$this=$(this),el=$($this.attr("href")),data=el.data(),data.question=el.html(),notification.confirm(data)}),$(".disabled").on("click",function(t){t.preventDefault(),$this=$(this),data=$this.data(),data.button_yes&&(data.buttonYes=data.button_yes),!1===data.button_yes&&(data.buttonYes=!1),notification.alert(data)}),addSRO(),$(".action_user_confirm").click(function(){if(!confirm())return!1});var storesPointCheckboxes=$('.b2b-stores-points-form input[type="checkbox"]');function checkDisabled(t,e,i){var n=$(t).find('input[type="text"].'+i);n.val(""),n.attr("disabled",e)}function paymentsSelectStore(){var t=document.getElementById("payments_select_store"),e=document.getElementById("payments_select_store_point");if(t&&e){var i=$("option:selected",t).attr("data-points"),n=$(e).data("get"),o="";i&&(i=JSON.parse(i),o="<option></option>",i.forEach(function(t){o+='<option value="'+t.id+'" '+(parseInt(n)==parseInt(t.id)?"selected":"")+">"+t.name+", "+t.country+", "+t.city+", "+t.address+"</options>"})),e.innerHTML=o}}storesPointCheckboxes.click(function(){var t=$(this).attr("name"),e=$(this).closest("tr");t.match(/B2bStoresPoints\[work_time_details\]\[\d*\]\[24-hour\]/)&&checkDisabled(e,this.checked,"depends-24-hour")}),$.each(storesPointCheckboxes,function(t,e){var i=$(e).attr("name"),n=$(e).closest("tr");i.match(/B2bStoresPoints\[work_time_details\]\[\d*\]\[24-hour\]/)&&e.checked&&checkDisabled(n,!0,"depends-24-hour")}),$("#payments_select_store").on("change",paymentsSelectStore),paymentsSelectStore(),$(".revert-order").on("click",function(t){t.preventDefault();var e={buttonYes:!1,notyfy_class:"notify_white notify_not_big",title:"При отмене платежей нужно указать причину отмены",question:'<form action="/payments/revoke" method="post" class="payments-forms revoke_payents_form"><input type="hidden" name="ids" id="payments-id" value="'+$(this).data("id")+'"><div class="form-group"><input type="text" class="form-control" id="payments-admin-comment" name="admin-comment" placeholder="Введите причину отмены"><p class="help-block help-block-error"></p></div><div class="form-group buttons"><input type="submit" class="btn btn-primary" value="Отклонить"></div><form>'};notification.alert(e)}),$(".payments-grid-view .change-order-price").on("click",function(t){t.preventDefault();var e={buttonYes:!1,notyfy_class:"notify_white notify_not_big",title:"Изменить сумму покупки",question:'<form action="/payments/update" method="post" class="payments-forms change_order_price_form"><input type="hidden" name="Payments[uid]" id="payments-id" value="'+$(this).data("id")+'"><p class="help-block help-block-error"></p><div class="form-group"><label>Новая сумма</label><input type="text" class="form-control" id="payments-order_price" name="Payments[order_price]" placeholder="Введите новую сумму" value="'+$(this).data("orderprice")+'"><p class="help-block help-block-error"></p></div><div class="form-group"><label>Комментарий</label><input type="text" class="form-control" id="payments-admin-comment" name="Payments[admin-comment]" placeholder="Введите комментарий"><p class="help-block help-block-error"></p></div><div class="form-group buttons"><input type="submit" class="btn btn-primary" value="Изменить"></div><form>'};notification.alert(e)}),$(document).on("submit","form.change_order_price_form",function(t){t.preventDefault(),$(this).find("p.help-block").text("");var e=$("#payments-id").val(),i=$("#payments-order_price").val(),n=$("#payments-admin-comment").val();if(parseInt(e)<1)return $("#payments-id").siblings("p.help-block").text("ID должен быть целым числом"),!1;if(""==i)return $("#payments-order_price").siblings("p.help-block").text("Введите сумму"),!1;if(!i.match(/^\d*\.?\d*$/))return $("#payments-order_price").siblings("p.help-block").html("Введите правильно сумму.<br>Копейки от рублей должны отделяться точкой"),!1;if(n.length<5||256<n.length)return $("#payments-admin-comment").siblings("p.help-block").text("Длина комментария должна быть от 5 до 256 символов"),!1;var o={id:parseInt(e),order_price:i,"admin-comment":n};$.post($(this).attr("action"),o,function(t){$("html").removeClass("show_notifi"),0==t.error?$("#grid-ajax-action").yiiGridView("applyFilter"):notification.notifi({message:"Произошла ошибка",type:"err"})},"json").fail(function(t){$("html").removeClass("show_notifi"),notification.notifi({message:"Произошла ошибка!",type:"err"})})}),$(document).on("submit","form.revoke_payents_form",function(t){t.preventDefault(),$(this).find("p.help-block").text("");var e=$("#payments-id").val(),i=$("#payments-status").val(),n=$("#payments-admin-comment").val();if(n.length<5||256<n.length)return $("#payments-admin-comment").siblings("p.help-block").text("Длина комментария должна быть от 5 до 256 символов"),!1;var o={ids:e,status:i,"admin-comment":n};$.post($(this).attr("action"),o,function(t){$("html").removeClass("show_notifi"),0==t.error?$("#grid-ajax-action").yiiGridView("applyFilter"):notification.notifi({message:"Произошла ошибка",type:"err"})},"json").fail(function(t){$("html").removeClass("show_notifi"),notification.notifi({message:"Произошла ошибка!",type:"err"})})});